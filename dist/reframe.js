!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Rx"),require("Immutable"),require("React")):"function"==typeof define&&define.amd?define(["Rx","Immutable","React"],t):"object"==typeof exports?exports.reframe=t(require("Rx"),require("Immutable"),require("React")):e.reframe=t(e.Rx,e.Immutable,e.React)}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/js/",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=n(7),i=r(o),s=n(2),u=r(s),a=n(4),c=r(a),l=n(6),f=r(l),p=n(8),d=r(p);e.exports.registerHandler=i.registerHandler,e.exports.dispatch=i.dispatch,e.exports.dispatchSync=i.dispatchSync,e.exports.registerSub=u.registerSub,e.exports.subscribe=u.subscribe,e.exports.indexPath=u.indexPath,e.exports.db$=c.db$,e.exports.viewP=d.viewP,e.exports.viewV=d.viewV,e.exports.viewSP=d.viewSP,e.exports.viewSV=d.viewSV,e.exports.view=d.viewSV,e.exports.deref=d.deref,e.exports.atom=f.atom,e.exports.swap=f.swap},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){m.register(e,t)}function i(e){var t=m.lookup(e[0]);return t(h,e)}function s(e,t){return b.sub(e,t)}var u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(a){o=!0,i=a}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0}),t.render$=t.sync$=t.animationFrame$=void 0,t.registerSub=o,t.subscribe=i,t.indexPath=s;var a=n(11),c=r(a),l=n(5),f=n(10),p=t.animationFrame$=new c.Subject,d=t.sync$=new c.Subject,h=new c.BehaviorSubject,v=t.render$=new c.Subject;c.Observable.merge(p.throttleLatest(1/60,c.Scheduler.requestAnimationFrame),d).scan(function(e,t){var n=u(e,2),r=n[0],o=n[1],i=u(t,2),s=i[0],a=i[1];return s>r?[s,a]:[r,o]},[-1,null]).map(function(e){var t=u(e,2),n=(t[0],t[1]);return n}).distinctUntilChanged(function(e){return e},function(e,t){return e===t}).doOnNext(function(e){h.onNext(e),v.onNext(!0)}).subscribe();var m=new l.Dispatcher,b=new f.Index(function(){return h})},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.db$=void 0;var o=n(1),i=r(o),s=n(3),u=r(s);t.db$=new i.BehaviorSubject(u.Map())},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});t.Dispatcher=function(){function e(){n(this,e),this.map={}}return r(e,[{key:"register",value:function(e,t){if(this.map[e])throw new Error(e+"handler is already registered");this.map[e]=t}},{key:"lookup",value:function(e){return this.map[e]}}]),e}()},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return new u.BehaviorSubject(e)}function i(e,t){e.onNext(t(e.getValue()))}Object.defineProperty(t,"__esModule",{value:!0}),t.atom=o,t.swap=i;var s=n(1),u=r(s)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return function(t){var n=e.reverse().filter(function(e){return e}).reduce(function(e,t){return t(e)},t);return n}}function i(){var e=void 0,t=void 0,n=void 0;switch(arguments.length){case 2:e=arguments[0],t=function(e){return e},n=arguments[1];break;case 3:e=arguments[0],t=Array.isArray(arguments[1])?o(arguments[1]):arguments[1],n=arguments[2];break;default:throw new Error("Expected 2 or 3 arguments, got "+arguments.length)}m.register(e,t(n))}function s(e){b.onNext([!1,e])}function u(e){b.onNext([!0,e])}var a=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(a){o=!0,i=a}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0}),t.compMiddleware=o,t.registerHandler=i,t.dispatch=s,t.dispatchSync=u;var c=n(4),l=n(1),f=r(l),p=n(2),d=n(5),h=n(3),v=r(h),m=new d.Dispatcher,b=new f.Subject;b.scan(function(e,t){var n=a(e,2),r=n[0],o=n[1],i=a(t,2),s=i[0],u=i[1],l=m.lookup(u[0]),f=l(o,u);if(f!==o){c.db$.onNext(f);var d=r+1;return s?p.sync$.onNext([d,f]):p.animationFrame$.onNext([d,f]),[d,f]}return[r,o]},[0,v.Map()]).subscribe()},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=t||function(e){return e},r=new C.BehaviorSubject;return e.map(n).subscribe(r).dispose(),r.getValue()}function s(e){return e.map(function(e){return e.shouldUpdate()}).reduce(function(e,t){return e||t},!1)}function u(e){k.toUpdate.push([e.state.renderOrder,function(){s(e.state.derefed)&&e.forceUpdate()}])}function a(){k.toUpdate.sort(function(e,t){var n=_(e,1),r=n[0],o=_(t,1),i=o[0];return r-i}),k.toUpdate.forEach(function(e){var t=_(e,2),n=(t[0],t[1]);return n()}),k.toUpdate=[]}function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function l(){return c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c()}function f(e,t){var n=void 0;switch(t.length){case 2:"undefined"==typeof t[1].prototype?(t[1].mixins=e,n=t[1]):n={mixins:e,render:t[1]};break;case 3:"undefined"==typeof t[2].prototype?(t[2].mixins=e.concat(t[1]),n=t[2]):n={mixins:e.concat(t[1]),render:t[2]};break;default:throw new Error("Expected 2 or 3 arguments, got "+t.length)}return n.displayName=t[0],n}function p(e,t){var n=f(e,t),r=n.render;n.render=function(){return r.call(this,this.props)};var o=x.createClass(n);return x.createFactory(o)}function d(e,t){var n=f(e,t),r=n.render;n.render=function(){return r.apply(this,this.props.argv)};var o=x.createClass(n),i=x.createFactory(o);return function(){return i({argv:Array.prototype.slice.call(arguments)})}}function h(){return p([D],arguments)}function v(){return d([D],arguments)}function m(){return p([M],arguments)}function b(){return d([M],arguments)}var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(a){o=!0,i=a}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionMixin=t.StatelessMixin=void 0,t.deref=i,t.render=a,t.viewP=h,t.viewV=v,t.viewSP=m,t.viewSV=b;var g=n(2),w=r(g),E=n(13),x=r(E),O=n(1),C=r(O),S=n(9),k={renderOrder:0,toUpdate:[]};w.render$.subscribe(a),window.render=a;var D=t.StatelessMixin={shouldComponentUpdate:function(e,t){return(0,S.shouldUpdate)(this.props,e,["argv"])||(0,S.shouldUpdate)(this.state,t)||(0,S.shouldUpdate)(this.props.argv,e.argv)},getDisplayName:function(){return this.constructor.displayName}},j=function(){function e(t,n,r,i){o(this,e);var s=r||function(e){return e},a=new C.ReplaySubject(1),c=new C.BehaviorSubject,l=new C.CompositeDisposable(n.distinctUntilChanged(function(e){return e},function(e,t){return e===t}).map(s).subscribe(a),a.subscribe(c),a.skip(1).subscribe(function(){u(t)}));this.disposable=l,this.subject=c,this.renderCycle=null}return y(e,[{key:"getValue",value:function(e){return this.renderCycle=e,this.lastValue=this.subject.getValue(),this.lastValue}},{key:"dispose",value:function(){this.disposable.dispose()}},{key:"shouldDispose",value:function(e){return e>this.renderCycle}},{key:"shouldUpdate",value:function(){return this.lastValue!==this.subject.getValue()}}]),e}(),M=t.SubscriptionMixin={derefSub:function(e,t){return this.deref(w.subscribe(e),t,Immutable.List(e))},getDisplayName:function(){return this.constructor.displayName},getInitialState:function(){return{derefed:Immutable.Map(),renderOrder:k.renderOrder++,renderCycle:0}},shouldComponentUpdate:function(e,t){var n=(0,S.shouldUpdate)(this.props,e,["argv"])||(0,S.shouldUpdate)(this.props.argv,e.argv),r=(0,S.shouldUpdate)(this.state,t,["derefed","renderOrder","renderCycle"]);return n||r},deref:function(e,t,n){var r=n||l();if(this.state.derefed.get(r))return this.state.derefed.get(r).getValue(this.state.renderCycle);var o=new j(this,e,t);return this.state.derefed=this.state.derefed.set(r,o),o.getValue(this.state.renderCycle)},unsubscribe:function(){this.state.derefed.forEach(function(e){e.dispose()}),this.state.derefed=Immutable.Map()},componentWillUpdate:function(){this.state.renderCycle++},componentDidUpdate:function(){var e=this;this.state.derefed.filter(function(t){return t.shouldDispose(e.state.renderCycle)}).forEach(function(e){return e.dispose()}),this.state.derefed=this.state.derefed.filter(function(t){return!t.shouldDispose(e.state.renderCycle)})},componentWillUnmount:function(){this.unsubscribe()}}},function(e,t){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t,n){var r=void 0;return t===e||t.length!==e.length?!1:(r=n&&n.length>0?Object.keys(e).filter(function(e){return n.indexOf(e)>=0}).map(function(n){return[e[n],t[n]]}):Object.keys(e).map(function(n){return[e[n],t[n]]}),r.length?!r.every(function(e){var t=s(e,2),n=t[0],r=t[1];return i(n)&&i(r)||o(n)&&o(r)?n===r:!1}):!1)}function o(e){return Immutable.Iterable.isIterable(e)}function i(e){var t="undefined"==typeof e?"undefined":n(e);return"number"===t||"boolean"===t||"string"===t||null===e||void 0===e}var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(a){o=!0,i=a}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUpdate=r},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Index=void 0;var s=n(3),u=r(s),a=n(1),c=r(a),l={};t.Index=function(){function e(t){o(this,e),this.listeners=u.Map(),this.rx=t}return i(e,[{key:"sub",value:function(e,t){for(var n=this,r=this,o=[],i=0;i<e.length;i++)o.push(Array.prototype.slice.call(e.slice(0,i+1)));return this.listeners=o.reduce(function(e,t){var o=t.slice(0,t.length-1),i=0===o.length?n.rx():e.getIn(o.concat(l)),s=t[t.length-1];return e.updateIn(t.concat(l),function(e){if(e)return e;var n=new c.ReplaySubject(1),o=i.map(function(e){return e&&e.get?e.get(s):void 0}).distinctUntilChanged(function(e){return e},function(e,t){return e===t}).subscribe(n),u=n.subscribe;return n.subscribe=function(){var e=u.apply(this,arguments);return c.Disposable.create(function(){e.dispose(),n.hasObservers()||(o.dispose(),r.listeners=r.listeners.removeIn(t))})},n})},this.listeners),this.listeners.getIn(e.concat([l])).map(function(e){return"undefined"!=typeof e?e:t})}}]),e}()},function(e,t,n){var r,o;(function(e,i){(function(s){function u(e){return e&&e.Object===Object?e:null}var a={"function":!0,object:!0},c=a[typeof t]&&t&&!t.nodeType?t:null,l=a[typeof e]&&e&&!e.nodeType?e:null,f=u(c&&l&&"object"==typeof i&&i),p=u(a[typeof self]&&self),d=u(a[typeof window]&&window),h=(l&&l.exports===c?c:null,u(a[typeof this]&&this)),v=f||d!==(h&&h.window)&&d||p||h||Function("return this")();r=[n(1)],o=function(e,t){return s(v,t,e)}.apply(t,r),!(void 0!==o&&(e.exports=o))}).call(this,function(e,t,n,r){function o(e){return function(){try{return e.apply(this,arguments)}catch(t){return k.e=t,k}}}function i(e){if(!C(e))throw new TypeError("fn must be a function");return o(e)}function s(e,t,n,r){this._e=e,this._n=t,this._fn=n,this._u=r,this._e.addEventListener(this._n,this._fn,this._u),this.isDisposed=!1}function u(e,t,n,r){if(e.addEventListener)return new s(e,t,n,r);throw new Error("No listener found")}function a(e,t,n,r){var o=new y,i=Object.prototype.toString;if("[object NodeList]"===i.call(e)||"[object HTMLCollection]"===i.call(e))for(var s=0,c=e.length;c>s;s++)o.add(a(e.item(s),t,n,r));else e&&o.add(u(e,t,n,r));return o}function c(){if(e.XMLHttpRequest)return new e.XMLHttpRequest;var t;try{for(var n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;3>r;r++)try{if(t=n[r],new e.ActiveXObject(t))break}catch(o){}return new e.ActiveXObject(t)}catch(o){throw new Error("XMLHttpRequest is not supported by your browser")}}function l(){var t=new e.XMLHttpRequest;if("withCredentials"in t)return t.withCredentials=!0,t;if(e.XDomainRequest)return new XDomainRequest;throw new Error("CORS is not supported by your browser")}function f(e,t,n){var r="response"in t?t.response:t.responseText;return r="json"===n.responseType?JSON.parse(r):r,{response:r,status:t.status,responseType:t.responseType,xhr:t,originalEvent:e}}function p(e,t,n){return{type:n,status:t.status,xhr:t,originalEvent:e}}function d(e,t,n,r){e&&(t&&(t.onNext(),t.onCompleted()),n?e.close(n,r):e.close())}function h(t){var n=e.MutationObserver||e.WebKitMutationObserver;return new n(t)}var v=(n.Observable,n.ObservableBase),m=n.internals.AbstractObserver,b=(n.Observer.create,n.Observable.create,n.Disposable.create,n.Disposable),y=n.CompositeDisposable,_=n.BinaryDisposable,g=n.SingleAssignmentDisposable,w=n.Subject,E=n.Scheduler,x=n.DOM={},O={}.hasOwnProperty,C=(n.helpers.noop,n.helpers.isFunction),S=n.internals.inherits,k={e:{}};s.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._e.removeEventListener(this._n,this._fn,this._u))};var D=function(e){function t(t,n,r,o){this._e=t,this._n=n,this._fn=r,this._uc=o,e.call(this)}function n(e,t){return function(){var n=arguments[0];return t&&(n=i(t).apply(null,arguments),n===k)?e.onError(n.e):void e.onNext(n)}}return S(t,e),t.prototype.subscribeCore=function(e){return a(this._e,this._n,n(e,this._fn),this._uc)},t}(v),j=x.fromEvent=function(e,t,n,r){var o=C(n)?n:null;return"boolean"==typeof n&&(r=n),"undefined"==typeof r&&(r=!1),new D(e,t,o,r).publish().refCount()};!function(){var t="blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu input";e.PointerEvent&&(t+=" pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave"),e.TouchEvent&&(t+=" touchstart touchend touchmove touchcancel"),t=t.split(" ");for(var n=0,r=t.length;r>n;n++)!function(e){x[e]=function(t,n,r){return j(t,e,n,r)}}(t[n])}();var M=function(t){function n(){t.call(this)}function r(e){return function(){e.onNext(),e.onCompleted()}}function o(t,n){this._o=t,this._fn=n,this._addedHandlers=!1,this.isDisposed=!1,"complete"===e.document.readyState?setTimeout(this._fn,0):(this._addedHandlers=!0,e.document.addEventListener("DOMContentLoaded",this._fn,!1))}return S(n,t),n.prototype.subscribeCore=function(e){return new o(e,r(e))},o.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,e.document.removeEventListener("DOMContentLoaded",this._fn,!1))},n}(v);x.ready=function(){return new M};var F=function(t){function n(e){this._settings=e,t.call(this)}function r(e,t){this._state=e,this._xhr=t,this.isDisposed=!1}return S(n,t),n.prototype.subscribeCore=function(t){var n,o={isDone:!1},i=this._settings,s=i.normalizeError,u=i.normalizeSuccess,a=function(e,n){var r=1223===e.status?204:e.status;r>=200&&300>=r||0===r||""===r?(t.onNext(u(n,e,i)),t.onCompleted()):t.onError(i.normalizeError(n,e,"error")),o.isDone=!0};try{n=i.createXHR()}catch(c){return t.onError(c)}try{i.user?n.open(i.method,i.url,i.async,i.user,i.password):n.open(i.method,i.url,i.async);var l=i.headers;for(var f in l)O.call(l,f)&&n.setRequestHeader(f,l[f]);n.timeout=i.timeout,n.ontimeout=function(e){i.progressObserver&&i.progressObserver.onError(e),t.onError(s(e,n,"timeout"))},n.upload||!("withCredentials"in n)&&e.XDomainRequest?(n.onload=function(e){i.progressObserver&&(i.progressObserver.onNext(e),i.progressObserver.onCompleted()),a(n,e)},i.progressObserver&&(n.onprogress=function(e){i.progressObserver.onNext(e)}),n.onerror=function(e){i.progressObserver&&i.progressObserver.onError(e),t.onError(s(e,n,"error")),o.isDone=!0},n.onabort=function(e){i.progressObserver&&i.progressObserver.onError(e),t.onError(s(e,n,"abort")),o.isDone=!0}):n.onreadystatechange=function(e){4===n.readyState&&a(n,e)};var p=i.headers["Content-Type"]||i.headers["Content-type"]||i.headers["content-type"];if(i.hasContent&&"application/x-www-form-urlencoded"===p&&"string"!=typeof i.body){var d=[];for(var h in i.body)O.call(i.body,h)&&d.push(h+"="+i.body[h]);i.body=d.join("&")}n.send(i.hasContent&&i.body||null)}catch(v){t.onError(v)}return new r(o,n)},r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._state.isDone||4===this._xhr.readyState||this._xhr.abort())},n}(v),L=x.ajax=function(e){var t={method:"GET",crossDomain:!1,async:!0,headers:{},responseType:"text",timeout:0,createXHR:function(){return this.crossDomain?l():c()},normalizeError:p,normalizeSuccess:f};if("string"==typeof e)t.url=e;else for(var n in e)O.call(e,n)&&(t[n]=e[n]);return t.crossDomain||t.headers["X-Requested-With"]||(t.headers["X-Requested-With"]="XMLHttpRequest"),t.hasContent=t.body!==r,new F(t)};x.post=function(e,t){var n;return"string"==typeof e?n={url:e,body:t,method:"POST"}:"object"==typeof e&&(n=e,n.method="POST"),L(n)},x.get=function(e){var t;return"string"==typeof e?t={url:e}:"object"==typeof e&&(t=e),L(t)},x.getJSON=function(t){if(!e.JSON&&"function"!=typeof e.JSON.parse)throw new TypeError("JSON is not supported in your runtime.");return L({url:t,responseType:"json"}).map(function(e){return e.response})};var T=function(){var t="document"in e&&e.document.createElement("div");return function(e){t.appendChild(e),t.innerHTML=""}}(),N=function(t){function n(e){this._settings=e,t.call(this)}function r(e){this._script=e,this.isDisposed=!1}return S(n,t),n.id=0,n.prototype.subscribeCore=function(t){var o={jsonp:"JSONPCallback",async:!0,jsonpCallback:"rxjsjsonpCallbackscallback_"+(n.id++).toString(36)};if("string"==typeof this._settings)o.url=this._settings;else for(var i in this._settings)O.call(this._settings,i)&&(o[i]=this._settings[i]);var s=e.document.createElement("script");s.type="text/javascript",s.async=o.async,s.src=o.url.replace(o.jsonp,o.jsonpCallback),e[o.jsonpCallback]=function(t){e[o.jsonpCallback].called=!0,e[o.jsonpCallback].data=t};var u=function(n){"load"!==n.type||e[o.jsonpCallback].called||(n={type:"error"});var r="error"===n.type?400:200,i=e[o.jsonpCallback].data;200===r?(t.onNext({status:r,responseType:"jsonp",response:i,originalEvent:n}),t.onCompleted()):t.onError({type:"error",status:r,originalEvent:n})};s.onload=s.onreadystatechanged=s.onerror=u;var a=e.document.getElementsByTagName("head")[0]||e.document.documentElement;return a.insertBefore(s,a.firstChild),new r(s)},r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._script.onload=this._script.onreadystatechanged=this._script.onerror=null,T(this._script),this._script=null)},n}(v);x.jsonpRequest=function(e){return new N(e)};var P=function(e){function t(t,n,r,o,i){this._state=t,this._url=n,this._protocol=r,this._open=o,this._close=i,e.call(this)}function n(e,t){return function n(r){e.onNext(r),e.onCompleted(),t.removeEventListener("open",n,!1)}}function r(e){return function(t){e.onNext(t)}}function o(e){return function(t){e.onError(t)}}function i(e){return function(t){return 1e3===t.code&&t.wasClean?void e.onCompleted():e.onError(t)}}function s(e,t,n,r,o){this._socket=e,this._msgFn=t,this._errFn=n,this._closeFn=r,this._close=o,this.isDisposed=!1}return S(t,e),s.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,d(this._socket,this._close),this._socket.removeEventListener("message",this._msgFn,!1),this._socket.removeEventListener("error",this._errFn,!1),this._socket.removeEventListener("close",this._closeFn,!1))},t.prototype.subscribeCore=function(e){this._state.socket=this._protocol?new WebSocket(this._url,this._protocol):new WebSocket(this._url);var t=n(this._open,this._state.socket),u=r(e),a=o(e),c=i(e);return this._open&&this._state.socket.addEventListener("open",t,!1),this._state.socket.addEventListener("message",u,!1),this._state.socket.addEventListener("error",a,!1),this._state.socket.addEventListener("close",c,!1),new s(this._state.socket,u,a,c,this._close)},t}(v),A=function(e){function t(t,n){this._state=t,this._close=n,e.call(this)}return S(t,e),t.prototype.next=function(e){this._state.socket&&this._state.socket.readyState===WebSocket.OPEN&&this._state.socket.send(e)},t.prototype.error=function(e){if(!e.code)throw new Error('no code specified. be sure to pass { code: ###, reason: "" } to onError()');d(this._state.socket,this._close,e.code,e.reason||"")},t.prototype.completed=function(){d(this._state.socket,this._close,1e3,"")},t}(m);x.fromWebSocket=function(e,t,n,r){if(!WebSocket)throw new TypeError("WebSocket not implemented in your runtime.");var o={socket:null};return w.create(new A(o,r),new P(o,e,t,n,r))};var R=function(e){function t(t){this._state=t,e.call(this)}return S(t,e),t.prototype.next=function(e){this._state.worker&&this._state.worker.postMessage(e)},t.prototype.error=function(e){throw e},t.prototype.completed=function(){},t}(m),q=function(t){function n(e,n){this._state=e,this._url=n,t.call(this)}function r(e){return function(t){e.onNext(t)}}function o(e){return function(t){e.onError(t)}}function i(e,t,n){this._w=e,this._msgFn=t,this._errFn=n,this.isDisposed=!1}return S(n,t),i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._w.terminate(),this._w.removeEventListener("message",this._msgFn,!1),this._w.removeEventListener("error",this._errFn,!1))},n.prototype.subscribeCore=function(t){this._state.worker=new e.Worker(this._url);var n=r(t),s=o(t);return this._state.worker.addEventListener("message",n,!1),this._state.worker.addEventListener("error",s,!1),new i(this._state.worker,n,s)},n}(v);x.fromWorker=function(t){if(!e.Worker)throw new TypeError("Worker not implemented in your runtime.");var n={worker:null};return w.create(new R(n),new q(n,t))};var I=function(e){function t(t,n){this._target=t,this._options=n,e.call(this)}function n(e){this._m=e,this.isDisposed=!1}return S(t,e),n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._m.disconnect())},t.prototype.subscribeCore=function(e){var t=h(function(t){e.onNext(t)});return t.observe(this._target,this._options),new n(t)},t}(v);x.fromMutationObserver=function(t,n){if(!e.MutationObserver&&!e.WebKitMutationObserver)throw new TypeError("MutationObserver not implemented in your runtime.");return new I(t,n)};var U=function(t){function n(e){this._opts=e,t.call(this)}return S(n,t),n.prototype.subscribeCore=function(t){e.navigator.geolocation.getCurrentPosition(function(e){t.onNext(e),t.onCompleted()},function(e){t.onError(e)},this._opts)},n}(v),H=function(t){function n(e){this._opts=e,t.call(this)}function r(e){this._id=e,this.isDisposed=!1}return S(n,t),r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,e.navigator.geolocation.clearWatch(this._id))},n.prototype.subscribeCore=function(t){var n=e.navigator.geolocation.watchPosition(function(e){t.onNext(e)},function(e){t.onError(e)},this._opts);return new r(n)},n}(v);n.DOM.geolocation={getCurrentPosition:function(t){if(!e.navigator&&!e.navigation.geolocation)throw new TypeError("geolocation not available");return new U(t)},watchPosition:function(t){if(!e.navigator&&!e.navigation.geolocation)throw new TypeError("geolocation not available");return new H(t).publish().refCount()}};var W=function(t){function n(e,n,r,o){this._readerFn=e,this._file=n,this._progressObserver=r,this._encoding=o,t.call(this)}function r(e,t){return function(n){t&&t.onCompleted(),e.onNext(n.target.result),e.onCompleted()}}function o(e){return function(t){e.onError(t.target.error)}}function i(e){return function(t){e.onNext(t)}}function s(e,t,n,r,o){this._r=e,this._po=t,this._lFn=n,this._eFn=r,this._pFn=o,this.isDisposed=!1}return S(n,t),s.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._r.readyState===e.FileReader.LOADING&&this._r.abort(),this._r.removeEventListener("load",this._lFn,!1),this._r.removeEventListener("error",this._eFn,!1),this._po&&this._r.removeEventListener("progress",this._pFn,!1))},n.prototype.subscribeCore=function(t){var n=new e.FileReader,u=r(t,this._progressObserver),a=o(t),c=i(this._progressObserver);return n.addEventListener("load",u,!1),n.addEventListener("error",a,!1),this._progressObserver&&n.addEventListener("progress",c,!1),n[this._readerFn](this._file,this._encoding),new s(n,this._progressObserver,u,a,c)},n}(v);x.fromReader=function(t,n){if(!e.FileReader)throw new TypeError("FileReader not implemented in your runtime.");return{asArrayBuffer:function(){return new W("readAsArrayBuffer",t,n)},asBinaryString:function(){return new W("readAsBinaryString",t,n)},asDataURL:function(){return new W("readAsDataURL",t,n)},asText:function(e){return new W("readAsText",t,n,e)}}};var V=function(e){function t(t,n){this._url=t,this._open=n,e.call(this)}function n(e,t){return function n(r){e.onNext(r),e.onCompleted(),t.removeEventListener("open",n,!1)}}function r(e){return function(t){t.readyState===EventSource.CLOSED?e.onCompleted():e.onError(t)}}function o(e){return function(t){e.onNext(t.data)}}function i(e,t,n){this._s=e,this._errFn=t,this._msgFn=n,this.isDisposed=!1}return S(t,e),i.prototype.dispose=function(){this.isDisposed||(this._s.removeEventListener("error",this._errFn,!1),this._s.removeEventListener("message",this._msgFn,!1),this._s.close())},t.prototype.subscribeCore=function(e){var t=new EventSource(this._url),s=n(this._open,t),u=r(e),a=o(e);return this._open&&t.addEventListener("open",s,!1),t.addEventListener("error",u,!1),t.addEventListener("message",a,!1),new i(t,u,a)},t}(v);x.fromEventSource=function(t,n){if(!e.EventSource)throw new TypeError("EventSource not implemented in your runtime.");return new V(t,n)};var X,$;return e.requestAnimationFrame?(X=e.requestAnimationFrame,$=e.cancelAnimationFrame):e.mozRequestAnimationFrame?(X=e.mozRequestAnimationFrame,$=e.mozCancelAnimationFrame):e.webkitRequestAnimationFrame?(X=e.webkitRequestAnimationFrame,$=e.webkitCancelAnimationFrame):e.msRequestAnimationFrame?(X=e.msRequestAnimationFrame,$=e.msCancelAnimationFrame):e.oRequestAnimationFrame?(X=e.oRequestAnimationFrame,$=e.oCancelAnimationFrame):(X=function(t){e.setTimeout(t,1e3/60)},$=e.clearTimeout),E.requestAnimationFrame=function(){var t=function(t){function n(){t.call(this)}function r(e,t,n,r){return function(){!e.isDisposed&&e.setDisposable(b._fixup(t(n,r)))}}function o(e,t){this._id=t,this._method=e,this.isDisposed=!1}return S(n,t),o.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._method.call(null,this._id))},n.prototype.schedule=function(e,t){var n=new g,i=X(r(n,t,this,e));return new _(n,new o($,i))},n.prototype._scheduleFuture=function(t,n,i){if(0===n)return this.schedule(t,i);var s=new g,u=e.setTimeout(r(s,i,this,t),n);return new _(s,new o(e.clearTimeout,u))},n}(E);return new t}(),E.microtask=function(){function t(e){delete u[e]}function n(r){if(a)e.setTimeout(function(){n(r)},0);else{var o=u[r];if(o){a=!0;try{o()}catch(i){throw i}finally{t(r),a=!1}}}}function r(){if(!e.postMessage||e.importScripts)return!1;var t=!1,n=e.onmessage;return e.onmessage=function(){t=!0},e.postMessage("","*"),e.onmessage=n,t}function o(e){"string"==typeof e.data&&e.data.substring(0,d.length)===d&&n(e.data.substring(d.length))}var i,s=1,u={},a=!1,c=e.MutationObserver||e.WebKitMutationObserver;if(c){var l="drainqueue_",f=new c(function(e){e.forEach(function(e){n(e.attributeName.substring(l.length))})}),p=e.document.createElement("div");f.observe(p,{attributes:!0}),e.addEventListener("unload",function(){f.disconnect(),f=null},!1),i=function(e){var t=s++;return u[t]=e,p.setAttribute(l+t,"drainQueue"),t}}else if("function"==typeof e.setImmediate)i=function(t){var r=s++;return u[r]=t,e.setImmediate(function(){n(r)}),r};else if(r()){var d="ms.rx.schedule"+Math.random();e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent&&e.attachEvent("onmessage",o),i=function(t){var n=s++;return u[n]=t,e.postMessage(d+n,"*"),n}}else if(e.MessageChannel){var h=new e.MessageChannel;h.port1.onmessage=function(e){n(e.data)},i=function(e){var t=s++;return u[t]=e,h.port2.postMessage(t),t}}else i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(t){var r=e.document.createElement("script"),o=s++;return u[o]=t,r.onreadystatechange=function(){n(o),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},e.document.documentElement.appendChild(r),o}:function(t){var r=s++;return u[r]=t,e.setTimeout(function(){n(r)},0),r};var v=function(n){function r(){n.call(this)}function o(e,t,n,r){return function(){!e.isDisposed&&e.setDisposable(b._fixup(t(n,r)))}}function s(e,t){this._id=t,this._method=e,this.isDisposed=!1}return S(r,n),s.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._method.call(null,this._id))},r.prototype.schedule=function(e,n){var r=new g,u=i(o(r,n,this,e));return new _(r,new s(t,u))},r.prototype._scheduleFuture=function(t,n,r){if(0===n)return this.schedule(t,r);var i=new g,u=e.setTimeout(o(i,r,this,t),n);return new _(i,new s(e.clearTimeout,u))},r}(E);return new v}(),n})}).call(t,n(12)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){e.exports=n}])});
//# sourceMappingURL=reframe.js.map