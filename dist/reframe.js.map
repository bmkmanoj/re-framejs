{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 80873d0ed068221270d2","webpack:///./src/main/js/reframe/core.js","webpack:///./src/main/js/reframe/commands.js","webpack:///./src/main/js/reframe/db.js","webpack:///external {\"amd\":\"rx\",\"commonjs\":\"rx\",\"commonjs2\":\"rx\",\"root\":\"Rx\"}","webpack:///external {\"amd\":\"immutable\",\"commonjs\":\"immutable\",\"commonjs2\":\"immutable\",\"root\":\"Immutable\"}","webpack:///./src/main/js/reframe/subs.js","webpack:///./src/main/js/reframe/dispatcher.js","webpack:///./src/main/js/reframe/subindex.js","webpack:///./src/main/js/reframe/atom.js","webpack:///./src/main/js/reframe/react.js","webpack:///external {\"amd\":\"react\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"root\":\"React\"}","webpack:///./src/main/js/reframe/shouldupdate.js","webpack:///./src/main/js/reframe/middleware.js","webpack:///./~/immutable-diff/lib/diff.js","webpack:///./~/immutable-diff/lib/lcs.js"],"names":["commands","subs","db","atom","react","middleware","module","exports","registerHandler","dispatch","dispatchSync","registerSub","subscribe","indexPath","db$","viewP","viewV","viewSP","viewSV","view","deref","swap","reset","render","pause$","compMiddleware","debug","trimv","path","enrich","after","Rx","Immutable","commandDispatcher","cmd$","Subject","middlewares","compHandler","reverse","filter","a","reduce","acc","handler","eventId","handlerFn","arguments","length","Array","isArray","Error","register","cmd","onNext","scan","dbStateTransition","version","sync","lookup","newDb","err","console","log","nextVersion","Map","BehaviorSubject","animationFrame$","animationFrame$1","sync$","requestRender$","render$","scheduled","Boolean","doOnNext","requestAnimationFrame","onRequestAnimationFrame","getValue","Observable","merge","dbAnimationFrameTransition","oldVersion","oldDb","newVersion","map","distinctUntilChanged","x","y","fireRender","subDispatcher","name","index","def","sub","Dispatcher","LISTENER_SENTINEL","Index","rx","listeners","self","slices","i","push","prototype","slice","call","pathSlice","parentPath","parentRx","getIn","concat","lastFragment","updateIn","old","subject","get","shareReplay","oldSubscribe","apply","s","Disposable","create","dispose","_count","removeIn","value","aAtom","update","React","transform","ttransform","subj","data","renderOrder","toUpdate","shouldUpdateByDerefed","derefed","shouldUpdate","v","needUpdate","obj","state","forceUpdate","sort","o1","o2","forEach","_","pausable","StatelessMixin","shouldComponentUpdate","nextProps","nextState","props","argv","getDisplayName","constructor","displayName","DerefedSubscription","aTransform","renderCycle","replay","ReplaySubject","disposable","CompositeDisposable","skip","lastValue","S4","Math","random","toString","substring","guid","SubscriptionMixin","derefSub","subVec","List","getInitialState","updateByProps","updateByState","aId","id","set","unsubscribe","componentWillUpdate","componentDidUpdate","shouldDispose","item","componentWillUnmount","createComponentObj","mixins","args","componentObj","propsView","mixin","oldRender","component","createClass","factory","createFactory","context","updater","vectorView","ignore","entries","Object","keys","indexOf","k","every","nextValue","isPrimitive","isImmutable","maybeImmutable","Iterable","isIterable","type","groupCollapsed","p","toJS","diff","df","groupEnd","dflt","newValue","setIn","enrichHandler","afterHandler"],"mappings":"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G;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;AC1HA;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0CAAyC,qBAAqB;AAC9D,6CAA4C,oCAAoC;;AAEhF;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,OAAO;AACxB,oBAAmB,OAAO;AAC1B;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,UAAU;AACvB;AACA;AACA;AACA,qCAAoC,oBAAoB;AACxD;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"reframe.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"rx\"), require(\"immutable\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"reframe\", [\"rx\", \"immutable\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"reframe\"] = factory(require(\"rx\"), require(\"immutable\"), require(\"react\"));\n\telse\n\t\troot[\"reframe\"] = factory(root[\"Rx\"], root[\"Immutable\"], root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_10__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 80873d0ed068221270d2\n **/","'use strict';\nimport * as commands from 'reframe/commands';\nimport * as subs from 'reframe/subs';\nimport * as db from 'reframe/db';\nimport * as atom from 'reframe/atom';\nimport * as react from 'reframe/react';\nimport * as middleware from 'reframe/middleware';\n\nmodule.exports.registerHandler = commands.registerHandler;\nmodule.exports.dispatch = commands.dispatch;\nmodule.exports.dispatchSync = commands.dispatchSync;\nmodule.exports.registerSub = subs.registerSub;\nmodule.exports.subscribe = subs.subscribe;\nmodule.exports.indexPath = subs.indexPath;\nmodule.exports.db$ = db.db$;\nmodule.exports.viewP = react.viewP;\nmodule.exports.viewV = react.viewV;\nmodule.exports.viewSP = react.viewSP;\nmodule.exports.viewSV = react.viewSV;\nmodule.exports.view = react.viewSV;\nmodule.exports.deref = react.deref;\nmodule.exports.atom = atom.atom;\nmodule.exports.swap = atom.swap;\nmodule.exports.reset = atom.reset;\nmodule.exports.render = react.render;\nmodule.exports.pause$ = react.pause$;\nmodule.exports.compMiddleware = commands.compMiddleware;\n\n/*********************\n * Middleware\n *********************/\nmodule.exports.debug = middleware.debug;\nmodule.exports.trimv = middleware.trimv;\nmodule.exports.path = middleware.path;\nmodule.exports.enrich = middleware.enrich;\nmodule.exports.after = middleware.after;\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/core.js\n **/","'use strict';\n\nimport {db$} from 'reframe/db.js';\nimport * as Rx from 'rx';\nimport {animationFrame$, sync$} from 'reframe/subs.js';\nimport {Dispatcher} from 'reframe/dispatcher.js';\nimport * as Immutable from 'immutable';\n\nconst commandDispatcher = new Dispatcher();\nconst cmd$ = new Rx.Subject();\n\nexport function compMiddleware(middlewares) {\n    return handler => {\n        let compHandler = middlewares.reverse().filter(a => a).reduce(\n            (acc, middleware) => middleware(acc),\n            handler\n        );\n\n        return compHandler;\n    };\n}\n\nexport function registerHandler() {\n    let eventId, middleware, handlerFn;\n\n    switch (arguments.length) {\n        case 2:\n            eventId = arguments[0];\n            middleware = handler => handler;\n            handlerFn = arguments[1];\n            break;\n        case 3:\n            eventId = arguments[0];\n            middleware = Array.isArray(arguments[1]) ? compMiddleware(arguments[1]) : arguments[1];\n            handlerFn = arguments[2];\n            break;\n        default:\n            throw new Error('Expected 2 or 3 arguments, got ' + arguments.length);\n    }\n\n    commandDispatcher.register(eventId, middleware(handlerFn));\n}\n\nexport function dispatch(cmd) {\n    cmd$.onNext([false, cmd]);\n}\n\nexport function dispatchSync(cmd) {\n    cmd$.onNext([true, cmd]);\n}\n\ncmd$\n    .scan(\n        function dbStateTransition([version, db], [sync, cmd]) {\n            const handler = commandDispatcher.lookup(cmd[0]);\n\n            if (!handler) {\n                throw new Error('Command handler for \"' + cmd[0] + '\" not found');\n            }\n\n            let newDb;\n\n            try {\n                newDb = handler(db, cmd);\n            } catch (err) {\n                console.log(\"Error in handler: \", err);\n                newDb = db;\n            }\n\n            if (newDb !== db) {\n                db$.onNext(newDb);\n                const nextVersion = version + 1;\n                if (sync) {\n                    sync$.onNext([nextVersion, newDb]);\n                } else {\n                    animationFrame$.onNext([nextVersion, newDb]);\n                }\n\n                return [nextVersion, newDb];\n            }\n            return [version, db];\n        },\n        [0, Immutable.Map()]\n    )\n    .subscribe();\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/commands.js\n **/","import * as Rx from 'rx';\nimport * as Immutable from 'immutable';\nexport const db$ = new Rx.BehaviorSubject(Immutable.Map());\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/db.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"rx\",\"commonjs\":\"rx\",\"commonjs2\":\"rx\",\"root\":\"Rx\"}\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"immutable\",\"commonjs\":\"immutable\",\"commonjs2\":\"immutable\",\"root\":\"Immutable\"}\n ** module id = 4\n ** module chunks = 0\n **/","import * as Rx from 'rx';\nimport {Dispatcher} from 'reframe/dispatcher.js';\nimport {Index} from 'reframe/subindex.js';\n\nexport const animationFrame$ = new Rx.BehaviorSubject();\nconst animationFrame$1 = new Rx.Subject();\nexport const sync$ = new Rx.Subject();\nconst requestRender$ = new Rx.BehaviorSubject();\nexport const render$ = new Rx.Subject();\n\nvar scheduled = false;\nanimationFrame$\n    .filter(Boolean)\n    .doOnNext(v => {\n    if (!scheduled) {\n        requestAnimationFrame(function onRequestAnimationFrame() {\n            animationFrame$1.onNext(animationFrame$.getValue());\n            scheduled = false;\n        });\n        scheduled = true;\n    }\n}).subscribe();\n\nRx.Observable\n    .merge(animationFrame$1, sync$)\n    .scan(function dbAnimationFrameTransition([oldVersion, oldDb], [newVersion, newDb]) {\n        if (newVersion > oldVersion) {\n            return [newVersion, newDb];\n        }\n        return [oldVersion, oldDb]\n    }, [-1, null])\n    .map(([version, db]) => db)\n    .distinctUntilChanged(x => x, (x, y) => x === y)\n    .doOnNext(function fireRender(db) {\n        requestRender$.onNext(db);\n        render$.onNext(true);\n    })\n    .subscribe();\n\nconst subDispatcher = new Dispatcher();\nexport function registerSub(name, handler) {\n    subDispatcher.register(name, handler);\n}\n\nexport function subscribe(cmd) {\n    const handler = subDispatcher.lookup(cmd[0]);\n    if (!handler) {\n        throw new Error('Subscription handler for \"' + cmd[0] + '\" not found');\n    }\n    return handler(requestRender$, cmd);\n}\n\nlet index = new Index(()=>requestRender$);\nexport function indexPath(path, def) {\n    return index.sub(path, def);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/subs.js\n **/","export class Dispatcher {\n    constructor() {\n        this.map = {};\n    }\n\n    register(name, handler) {\n        this.map[name] = handler;\n    }\n\n    lookup(name) {\n        return this.map[name];\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/dispatcher.js\n **/","'use strict';\nimport * as Immutable from 'immutable';\nimport * as Rx from 'rx';\nconst LISTENER_SENTINEL = {};\n\nexport class Index {\n    constructor(rx) {\n        this.listeners = Immutable.Map();\n        this.rx = rx;\n    }\n\n    sub(path, def) {\n        const self = this;\n\n        let slices = [];\n        for (let i = 0; i < path.length; i++) {\n            slices.push(Array.prototype.slice.call(path.slice(0, i + 1)));\n        }\n        this.listeners = slices.reduce(\n            (acc, pathSlice) => {\n                let parentPath = pathSlice.slice(0, pathSlice.length - 1);\n                let parentRx = parentPath.length === 0 ? this.rx() : acc.getIn(parentPath.concat(LISTENER_SENTINEL));\n                let lastFragment = pathSlice[pathSlice.length - 1];\n                return acc.updateIn(pathSlice.concat(LISTENER_SENTINEL), old => {\n                    if (old) {\n                        return old;\n                    }\n                    const subject = parentRx\n                        .map(a => {\n                            if (a && a.get) {\n                                return a.get(lastFragment);\n                            }\n                        })\n                        .distinctUntilChanged(x => x, (x, y) => x === y)\n                        .shareReplay(1);\n                    let oldSubscribe = subject.subscribe;\n                    subject.subscribe = function () {\n                        const sub = oldSubscribe.apply(this, arguments),\n                            s = this;\n\n                        return Rx.Disposable.create(function () {\n                            sub.dispose();\n                            if (s._count === 0) {\n                                self.listeners = self.listeners.removeIn(pathSlice);\n                            }\n                        });\n                    };\n                    return subject;\n                });\n            },\n            this.listeners\n        );\n\n        return this.listeners.getIn(path.concat([LISTENER_SENTINEL])).map(a => typeof a !== 'undefined' ? a : def);\n    }\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/subindex.js\n **/","'use strict';\nimport * as Rx from 'rx';\n\nexport function atom(value) {\n    return new Rx.BehaviorSubject(value);\n}\n\nexport function swap(aAtom, update) {\n    aAtom.onNext(update(aAtom.getValue()));\n}\n\nexport function reset(aAtom, value) {\n    aAtom.onNext(value);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/atom.js\n **/","'use strict';\n\nimport * as subs from 'reframe/subs.js';\nimport * as React from 'react';\nimport * as Rx from 'rx';\nimport * as Immutable from 'immutable';\nimport {shouldUpdate} from 'reframe/shouldupdate';\n\nexport const pause$ = new Rx.BehaviorSubject(true);\n\nexport function deref(rx, transform) {\n    let ttransform = transform || (a=>a);\n    let subj = new Rx.BehaviorSubject();\n    rx.map(ttransform).subscribe(subj).dispose();\n    return subj.getValue();\n}\n\nlet data = {\n    renderOrder: 0,\n    toUpdate: []\n};\n\nfunction shouldUpdateByDerefed(derefed) {\n    return derefed\n        .map(derefed=> {\n            return derefed.shouldUpdate();\n        })\n        .reduce((acc, v) => acc || v, false);\n}\n\nfunction needUpdate(obj) {\n    //console.log('Need update', obj.getDisplayName());\n    data.toUpdate.push([obj.state.renderOrder, ()=> {\n        if (shouldUpdateByDerefed(obj.state.derefed)) {\n            // console.log('Force update', obj.getDisplayName());\n            obj.forceUpdate();\n        }\n    }]);\n}\n\nexport function render() {\n    data.toUpdate.sort(([o1], [o2]) => o1 - o2);\n\n    data.toUpdate.forEach(([_, forceUpdate]) => forceUpdate());\n    data.toUpdate = [];\n}\nsubs.render$\n    .pausable(pause$)\n    .subscribe(render);\n\nexport let StatelessMixin = {\n    shouldComponentUpdate: function (nextProps, nextState) {\n        return shouldUpdate(this.props, nextProps, ['argv', 'ctx']) || shouldUpdate(this.state, nextState) || shouldUpdate(this.props.argv, nextProps.argv);\n    },\n    getDisplayName: function () {\n        return this.constructor.displayName;\n    }\n};\n\nclass DerefedSubscription {\n    constructor(view, rx, aTransform, renderCycle) {\n        let transform = aTransform || (a=>a),\n            replay = new Rx.ReplaySubject(1),\n            subj = new Rx.BehaviorSubject();\n        let disposable = new Rx.CompositeDisposable(\n            rx\n                .distinctUntilChanged(x=>x, (x, y) => x === y)\n                .map(transform)\n                .subscribe(replay),\n            replay\n                .subscribe(subj),\n            replay\n                .skip(1)\n                .subscribe(() => {\n                    needUpdate(view);\n                }));\n\n        this.disposable = disposable;\n        this.subject = subj;\n        this.renderCycle = null;\n    }\n    getValue(renderCycle) {\n        this.renderCycle = renderCycle;\n        this.lastValue = this.subject.getValue();\n        return this.lastValue;\n    }\n    dispose() {\n        this.disposable.dispose();\n    }\n    shouldDispose(renderCycle) {\n        return renderCycle > this.renderCycle;\n    }\n    shouldUpdate() {\n        return this.lastValue  !== this.subject.getValue();\n    }\n}\n\nfunction S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n};\n\n// Generate a pseudo-GUID by concatenating random hexadecimal.\nfunction guid() {\n    return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n};\n\nexport let SubscriptionMixin = {\n    derefSub(subVec, transform) {\n        return this.deref(subs.subscribe(subVec), transform, Immutable.List(subVec));\n    },\n    getDisplayName: function () {\n        return this.constructor.displayName;\n    },\n    getInitialState: function () {\n        return {\n            derefed: Immutable.Map(),\n            renderOrder: data.renderOrder++,\n            renderCycle: 0\n        };\n    },\n    shouldComponentUpdate: function (nextProps, nextState) {\n        let updateByProps = shouldUpdate(this.props, nextProps, ['argv', 'ctx']) || shouldUpdate(this.props.argv, nextProps.argv),\n            updateByState = shouldUpdate(this.state, nextState, ['derefed', 'renderOrder', 'renderCycle']);\n\n        return updateByProps || updateByState;\n    },\n    deref: function (rx, aTransform, aId) {\n        const id = aId || guid();\n        if (this.state.derefed.get(id)) {\n            return this.state.derefed.get(id).getValue(this.state.renderCycle);\n        }\n        const derefed = new DerefedSubscription(this, rx, aTransform);\n\n        this.state.derefed = this.state.derefed.set(id, derefed);\n\n        return derefed.getValue(this.state.renderCycle);\n    },\n    unsubscribe: function () {\n        this.state.derefed.forEach(derefed => {\n            derefed.dispose();\n        });\n\n        this.state.derefed = Immutable.Map();\n    },\n    componentWillUpdate: function () {\n        // console.log('Rendering', this.getDisplayName());\n        this.state.renderCycle++;\n        //this.unsubscribe();\n    },\n    componentDidUpdate: function() {\n        this.state.derefed.filter(derefed => {\n            return derefed.shouldDispose(this.state.renderCycle);\n        })\n        .forEach(item => item.dispose());\n\n        this.state.derefed = this.state.derefed.filter(derefed => {\n            return !derefed.shouldDispose(this.state.renderCycle);\n        });\n    },\n    componentWillUnmount: function () {\n        this.unsubscribe();\n    }\n};\n\nfunction createComponentObj(mixins, args) {\n    let componentObj;\n    switch (args.length) {\n        case 2:\n            if (typeof args[1].prototype === 'undefined') {\n                args[1].mixins = mixins;\n                componentObj = args[1];\n            } else {\n                componentObj = {\n                    mixins: mixins,\n                    render: args[1]\n                };\n            }\n            break;\n        case 3:\n            if (typeof args[2].prototype === 'undefined') {\n                // it's an object\n                args[2].mixins = mixins.concat(args[1]);\n                componentObj = args[2];\n            } else {\n                // it's a render function\n                componentObj = {\n                    mixins: mixins.concat(args[1]),\n                    render: args[2]\n                };\n            }\n            break;\n        default :\n            throw new Error('Expected 2 or 3 arguments, got ' + args.length);\n    }\n    componentObj.displayName = args[0];\n    return componentObj;\n}\n\nfunction propsView(mixin, args) {\n    let componentObj = createComponentObj(mixin, args);\n    let oldRender = componentObj.render;\n    componentObj.render = function () {\n        return oldRender.call(this, this.props);\n    };\n\n    let component = React.createClass(componentObj);\n    let factory = React.createFactory(component);\n    return function (props, context, updater) {\n        return factory(props, context);\n    };\n}\n\nfunction vectorView(mixin, args) {\n    let componentObj = createComponentObj(mixin, args);\n    let oldRender = componentObj.render;\n    componentObj.render = function () {\n        return oldRender.apply(this, this.props.argv);\n    };\n    let component = React.createClass(componentObj);\n    let factory = React.createFactory(component);\n\n    return function () {\n        return factory({argv: Array.prototype.slice.call(arguments)});\n    };\n}\n\nexport function viewP() {\n    return propsView([StatelessMixin], arguments);\n}\n\nexport function viewV() {\n    return vectorView([StatelessMixin], arguments);\n}\n\nexport function viewSP() {\n    return propsView([SubscriptionMixin], arguments);\n}\n\nexport function viewSV() {\n    return vectorView([SubscriptionMixin], arguments);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/react.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"react\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"root\":\"React\"}\n ** module id = 10\n ** module chunks = 0\n **/","'use strict';\nimport * as Immutable from 'immutable';\n\n/**\n * If props does not exist return false - Pure render mixin. If props exists and it contains mutable entries,\n * return false. If props contains only immutable entries compare them by type.\n *\n * @param {object} props current props\n * @param {object} nextProps new props\n * @param {array} ignore ignore these keys\n * @returns {boolean} true if component should be rerendered\n */\nexport function shouldUpdate(props, nextProps, ignore) {\n    let entries;\n    if (nextProps === props || nextProps.length !== props.length) {\n        return false;\n    }\n    if (ignore && ignore.length > 0) {\n        entries = Object.keys(props)\n            .filter(k => ignore.indexOf(k) === -1)\n            .map(k => [props[k], nextProps[k]]);\n    } else {\n        entries = Object.keys(props).map(k => [props[k], nextProps[k]]);\n    }\n\n    if (entries.length) {\n        return !entries.every(function ([value, nextValue]) {\n            if ((isPrimitive(value) && isPrimitive(nextValue))\n                ||\n                (isImmutable(value) && isImmutable(nextValue))) {\n\n                return value === nextValue;\n            }\n            return false;\n        });\n    }\n    return false;\n}\nfunction isImmutable(maybeImmutable) {\n    return Immutable.Iterable.isIterable(maybeImmutable);\n}\n\nfunction isPrimitive(value) {\n    var type = typeof value;\n    return type === 'number' || type === 'boolean' || type === 'string' || value === null || value === void 0;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/shouldupdate.js\n **/","'use strict';\n\nimport immutablediff from 'immutable-diff';\n\n/* eslint-disable no-console */\nexport function debug(handler) {\n    return (db, cmd) => {\n        console.log('-- New Event ----------------------------------------------------');\n        console.groupCollapsed('re-frame event: ', cmd.map(p => p && p.toJS ? p.toJS() : p));\n        let newDb = handler(db, cmd),\n            diff = immutablediff(db, newDb);\n        diff.forEach(df => console.log(df.toJS()));\n        console.groupEnd();\n        return newDb;\n    };\n}\n/* eslint-enable no-console */\n\nexport function trimv(handler) {\n    return (db, cmd) => handler(db, cmd.slice(1));\n}\n\nexport function path(p, dflt) {\n    return handler => (db, cmd) => {\n        let newValue = handler(db.getIn(p, dflt), cmd);\n        return db.setIn(p, newValue);\n    };\n}\n\nexport function enrich(enrichHandler) {\n    return handler => (db, cmd) => {\n        let newDb = handler(db, cmd);\n        return enrichHandler(newDb, cmd, db);\n    };\n}\n\nexport function after(afterHandler) {\n    return handler => (db, cmd) => {\n        let newDb = handler(db, cmd);\n        afterHandler(newDb, cmd, db);\n        return newDb;\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/middleware.js\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = diff;\n\nvar _immutable = require('immutable');\n\nvar _lcs = require('./lcs');\n\nvar isMap = _immutable.Map.isMap;\nvar isIndexed = _immutable.Iterable.isIndexed;\n\nfunction op(operation, path, value) {\n  if (operation === 'remove') {\n    return { op: operation, path: path };\n  }\n  return { op: operation, path: path, value: value };\n}\n\nfunction mapDiff(a, b) {\n  var path = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\n  var ops = [];\n\n  if ((0, _immutable.is)(a, b)) {\n    return ops;\n  }\n\n  var areIndexed = isIndexed(a) && isIndexed(b);\n  var lastKey = null;\n  var removeKey = null;\n\n  if (a.forEach) {\n    a.forEach(function (aValue, aKey) {\n      if (b.has(aKey)) {\n        if (isMap(aValue) && isMap(b.get(aKey))) {\n          ops = ops.concat(mapDiff(aValue, b.get(aKey), path.concat(aKey)));\n        } else if (isIndexed(b.get(aKey)) && isIndexed(aValue)) {\n          ops = ops.concat(sequenceDiff(aValue, b.get(aKey), path.concat(aKey)));\n        } else {\n          var bValue = b.get ? b.get(aKey) : b;\n          var areDifferentValues = aValue !== bValue;\n          if (areDifferentValues) {\n            ops.push(op('replace', path.concat(aKey), bValue));\n          }\n        }\n      } else if (areIndexed) {\n        removeKey = lastKey != null && lastKey + 1 === aKey ? removeKey : aKey;\n        ops.push(op('remove', path.concat(removeKey)));\n        lastKey = aKey;\n      } else {\n        ops.push(op('remove', path.concat(aKey)));\n      }\n    });\n  }\n\n  b.forEach(function (bValue, bKey) {\n    if (a.has && !a.has(bKey)) {\n      ops.push(op('add', path.concat(bKey), bValue));\n    }\n  });\n\n  return ops;\n}\n\nfunction sequenceDiff(a, b) {\n  var path = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\n  var ops = [];\n  if ((0, _immutable.is)(a, b)) {\n    return ops;\n  }\n  if (b.count() > 100) {\n    return mapDiff(a, b, path);\n  }\n\n  var lcsDiff = (0, _lcs.diff)(a, b);\n\n  var pathIndex = 0;\n\n  lcsDiff.forEach(function (diff) {\n    if (diff.op === '=') {\n      pathIndex++;\n    } else if (diff.op === '!=') {\n      if (isMap(diff.val) && isMap(diff.newVal)) {\n        var mapDiffs = mapDiff(diff.val, diff.newVal, path.concat(pathIndex));\n        ops = ops.concat(mapDiffs);\n      } else {\n        ops.push(op('replace', path.concat(pathIndex), diff.newVal));\n      }\n      pathIndex++;\n    } else if (diff.op === '+') {\n      ops.push(op('add', path.concat(pathIndex), diff.val));\n      pathIndex++;\n    } else if (diff.op === '-') {\n      ops.push(op('remove', path.concat(pathIndex)));\n    }\n  });\n\n  return ops;\n}\n\nfunction primitiveTypeDiff(a, b) {\n  var path = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\n  if (a === b) {\n    return [];\n  } else {\n    return [op('replace', path, b)];\n  }\n}\n\nfunction diff(a, b, path) {\n  if (isIndexed(a) && isIndexed(b)) {\n    return (0, _immutable.fromJS)(sequenceDiff(a, b));\n  }\n  if (isMap(a) && isMap(b)) {\n    return (0, _immutable.fromJS)(mapDiff(a, b));\n  }\n  return (0, _immutable.fromJS)(primitiveTypeDiff(a, b, path));\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/immutable-diff/lib/diff.js\n ** module id = 13\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.lcs = lcs;\nexports.diff = diff;\nexports.backtrackLcs = backtrackLcs;\n\nvar _immutable = require('immutable');\n\n/**\n * Returns a two-dimensional array (an array of arrays) with dimensions n by m.\n * All the elements of this new matrix are initially equal to x\n * @param n number of rows\n * @param m number of columns\n * @param x initial element for every item in matrix\n */\nfunction makeMatrix(n, m, x) {\n  var matrix = [];\n  for (var i = 0; i < n; i++) {\n    matrix[i] = new Array(m);\n    for (var j = 0; j < m; j++) {\n      matrix[i][j] = x;\n    }\n  }\n\n  return matrix;\n};\n\n/**\n * Computes Longest Common Subsequence between two Immutable.JS Indexed Iterables\n * Based on Dynamic Programming http://rosettacode.org/wiki/Longest_common_subsequence#Java\n * @param xs ImmutableJS Indexed Sequence 1\n * @param ys ImmutableJS Indexed Sequence 2\n */\nfunction lcs(xs, ys) {\n  var matrix = computeLcsMatrix(xs, ys);\n\n  return backtrackLcs(xs, ys, matrix);\n};\n\nvar DiffResult = (0, _immutable.Record)({ op: '=', val: null });\nvar ReplaceResult = (0, _immutable.Record)({ op: '!=', val: null, newVal: null });\n\n/**\n * Returns the resulting diff operations of LCS between two sequences\n * @param xs Indexed Sequence 1\n * @param ys Indexed Sequence 2\n * @returns Array of DiffResult {op:'=' | '+' | '-', val:any}\n */\nfunction diff(xs, ys) {\n  var matrix = computeLcsMatrix(xs, ys);\n\n  return printDiff(matrix, xs, ys, xs.size || 0, ys.size || 0);\n};\n\nfunction printDiff(matrix, xs, ys, i, j) {\n  if (i === 0 && j === 0) {\n    return [];\n  }\n  if (i > 0 && j > 0 && (0, _immutable.is)(xs.get(i - 1), ys.get(j - 1))) {\n    return printDiff(matrix, xs, ys, i - 1, j - 1).concat(new DiffResult({\n      op: '=',\n      val: xs.get(i - 1)\n    }));\n  } else if (i > 0 && j > 0 && i === j && !(0, _immutable.is)(xs.get(i - 1), ys.get(j - 1))) {\n    return printDiff(matrix, xs, ys, i - 1, j - 1).concat(new ReplaceResult({\n      val: xs.get(i - 1),\n      newVal: ys.get(i - 1)\n    }));\n  } else if (j > 0 && (i === 0 || matrix[i][j - 1] >= matrix[i - 1][j])) {\n    return printDiff(matrix, xs, ys, i, j - 1).concat(new DiffResult({\n      op: '+',\n      val: ys.get(j - 1)\n    }));\n  } else if (i > 0 && (j === 0 || matrix[i][j - 1] < matrix[i - 1][j])) {\n    return printDiff(matrix, xs, ys, i - 1, j).concat(new DiffResult({\n      op: '-',\n      val: xs.get(i - 1)\n    }));\n  }\n};\n\n/**\n * Computes the Longest Common Subsequence table\n * @param xs Indexed Sequence 1\n * @param ys Indexed Sequence 2\n */\nfunction computeLcsMatrix(xs, ys) {\n  var n = xs.size || 0;\n  var m = ys.size || 0;\n  var a = makeMatrix(n + 1, m + 1, 0);\n\n  for (var i = 0; i < n; i++) {\n    for (var j = 0; j < m; j++) {\n      if ((0, _immutable.is)(xs.get(i), ys.get(j))) {\n        a[i + 1][j + 1] = a[i][j] + 1;\n      } else {\n        a[i + 1][j + 1] = Math.max(a[i + 1][j], a[i][j + 1]);\n      }\n    }\n  }\n\n  return a;\n}\n\n/**\n * Extracts a LCS from matrix M\n * @param xs Indexed Sequence 1\n * @param ys Indexed Sequence 2\n * @param matrix LCS Matrix\n * @returns {Array.<T>} Longest Common Subsequence\n */\nfunction backtrackLcs(xs, ys, matrix) {\n  var lcs = [];\n  for (var i = xs.size, j = ys.size; i !== 0 && j !== 0;) {\n    if (matrix[i][j] === matrix[i - 1][j]) {\n      i--;\n    } else if (matrix[i][j] === matrix[i][j - 1]) {\n      j--;\n    } else if ((0, _immutable.is)(xs.get(i - 1), ys.get(j - 1))) {\n      lcs.push(xs.get(i - 1));\n      i--;\n      j--;\n    }\n  }\n  return lcs.reverse();\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/immutable-diff/lib/lcs.js\n ** module id = 14\n ** module chunks = 0\n **/"],"sourceRoot":""}