{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///reframe.js","webpack:///webpack/bootstrap d19d380861ceaa967524","webpack:///./src/main/js/reframe/core.js","webpack:///external \"Rx\"","webpack:///./src/main/js/reframe/subs.js","webpack:///external \"Immutable\"","webpack:///./src/main/js/reframe/db.js","webpack:///./src/main/js/reframe/dispatcher.js","webpack:///./src/main/js/reframe/atom.js","webpack:///./src/main/js/reframe/commands.js","webpack:///./src/main/js/reframe/react.js","webpack:///./src/main/js/reframe/shouldupdate.js","webpack:///./src/main/js/reframe/subindex.js","webpack:///./~/rx-dom/dist/rx.dom.js","webpack:///(webpack)/buildin/module.js","webpack:///external \"React\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_13__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","_commands","commands","_subs","subs","_db","db","_atom","atom","_react","react","registerHandler","dispatch","dispatchSync","registerSub","subscribe","indexPath","db$","viewP","viewV","viewSP","viewSV","view","deref","swap","name","handler","subDispatcher","register","cmd","lookup","requestRender$","path","def","index","sub","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","Array","isArray","TypeError","defineProperty","render$","sync$","animationFrame$","_rxDom","Rx","_dispatcher","_subindex","Subject","BehaviorSubject","Observable","merge","throttleLatest","Scheduler","requestAnimationFrame","scan","_ref","_ref2","_ref4","oldVersion","oldDb","_ref3","newVersion","newDb","map","_ref5","_ref6","distinctUntilChanged","x","y","doOnNext","onNext","Dispatcher","Index","_rx","_immutable","Immutable","Map","_classCallCheck","instance","Constructor","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","Error","aAtom","update","getValue","compMiddleware","middlewares","compHandler","reverse","filter","a","reduce","acc","middleware","eventId","handlerFn","arguments","commandDispatcher","cmd$","version","sync","nextVersion","rx","transform","ttransform","subj","dispose","shouldUpdateByDerefed","derefed","shouldUpdate","v","needUpdate","data","toUpdate","state","renderOrder","forceUpdate","render","sort","o1","o2","forEach","S4","Math","random","toString","substring","guid","createComponentObj","mixins","args","componentObj","concat","displayName","propsView","mixin","oldRender","component","React","createClass","createFactory","vectorView","apply","argv","slice","StatelessMixin","SubscriptionMixin","_shouldupdate","window","shouldComponentUpdate","nextProps","nextState","getDisplayName","constructor","DerefedSubscription","aTransform","renderCycle","replay","ReplaySubject","disposable","CompositeDisposable","skip","subject","lastValue","derefSub","subVec","List","getInitialState","updateByProps","updateByState","aId","get","set","unsubscribe","componentWillUpdate","componentDidUpdate","_this","shouldDispose","item","componentWillUnmount","_typeof","ignore","entries","keys","k","indexOf","every","nextValue","isPrimitive","isImmutable","maybeImmutable","Iterable","isIterable","type","LISTENER_SENTINEL","listeners","self","slices","pathSlice","parentPath","parentRx","getIn","lastFragment","updateIn","old","subscription","oldSubscribe","Disposable","create","hasObservers","removeIn","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","checkGlobal","objectTypes","function","object","freeExports","nodeType","freeModule","freeGlobal","freeSelf","freeWindow","thisGlobal","Function","exp","tryCatcherGen","tryCatchTarget","e","errorObj","tryCatch","fn","isFunction","CreateListenerDisposable","element","useCapture","_fn","_u","addEventListener","isDisposed","createListener","createEventListener","el","eventName","disposables","toStr","len","add","getXMLHttpRequest","XMLHttpRequest","progId","progIds","ActiveXObject","getCORSRequest","xhr","withCredentials","XDomainRequest","normalizeAjaxSuccessEvent","settings","response","responseText","responseType","JSON","parse","status","originalEvent","normalizeAjaxErrorEvent","socketClose","socket","closingObserver","code","reason","onCompleted","close","getMutationObserver","M","MutationObserver","WebKitMutationObserver","ObservableBase","AbstractObserver","internals","Observer","BinaryDisposable","SingleAssignmentDisposable","dom","DOM","helpers","noop","inherits","removeEventListener","FromEventObservable","__super__","selector","_uc","createHandler","o","results","onError","subscribeCore","fromEvent","selectorFn","publish","refCount","events","PointerEvent","TouchEvent","split","ReadyObservable","ReadyDisposable","_o","_addedHandlers","document","readyState","setTimeout","ready","AjaxObservable","_settings","AjaxDisposable","_state","_xhr","isDone","normalizeError","normalizeSuccess","processResponse","createXHR","user","open","method","url","async","password","headers","header","setRequestHeader","timeout","ontimeout","progressObserver","upload","onload","onprogress","onerror","onabort","onreadystatechange","contentType","hasContent","body","newBody","prop","join","send","abort","ajaxRequest","ajax","options","crossDomain","post","getJSON","destroy","trash","createElement","appendChild","innerHTML","ScriptObservable","ScriptDisposable","script","_script","jsonp","jsonpCallback","src","replace","called","onreadystatechanged","head","getElementsByTagName","documentElement","insertBefore","firstChild","jsonpRequest","SocketObservable","protocol","_url","_protocol","_open","_close","createOpenHandler","openHandler","createMsgHandler","createErrHandler","createCloseHandler","wasClean","SocketDisposable","msgFn","errFn","closeFn","_socket","_msgFn","_errFn","_closeFn","WebSocket","msgHandler","errHandler","closeHandler","SocketObserver","OPEN","error","completed","fromWebSocket","openObserver","WorkerObserver","worker","postMessage","WorkerObservable","createMessageHandler","WorkerDisposable","w","_w","terminate","Worker","messageHandler","fromWorker","MutationObserverObservable","_target","_options","InnerDisposable","mutationObserver","_m","disconnect","observe","fromMutationObserver","CurrentPositionObservable","opts","_opts","navigator","geolocation","getCurrentPosition","WatchPositionObservable","WatchPositionDisposable","_id","clearWatch","watchId","watchPosition","geolocationOptions","navigation","FromReaderObservable","readerFn","file","encoding","_readerFn","_file","_progressObserver","_encoding","createLoadHandler","result","createErrorHandler","createProgressHandler","FromReaderDisposable","reader","loadHandler","errorHandler","progressHandler","_r","_po","_lFn","_eFn","_pFn","FileReader","LOADING","fromReader","asArrayBuffer","asBinaryString","asDataURL","asText","EventSourceObservable","createOnOpen","source","onOpen","createOnError","EventSource","CLOSED","createOnMessage","EventSourceDisposable","s","onMessage","fromEventSource","requestAnimFrame","cancelAnimFrame","cancelAnimationFrame","mozRequestAnimationFrame","mozCancelAnimationFrame","webkitRequestAnimationFrame","webkitCancelAnimationFrame","msRequestAnimationFrame","msCancelAnimationFrame","oRequestAnimationFrame","oCancelAnimationFrame","cb","clearTimeout","RequestAnimationFrameScheduler","scheduleAction","action","scheduler","setDisposable","_fixup","ClearDisposable","_method","schedule","_scheduleFuture","dueTime","microtask","clearMethod","handle","tasksByHandle","runTask","currentlyRunning","task","postMessageSupported","importScripts","isAsync","oldHandler","onmessage","onGlobalPostMessage","event","MSG_PREFIX","scheduleMethod","nextHandle","BrowserMutationObserver","PREFIX","observer","mutations","mutation","attributeName","attributes","setAttribute","setImmediate","attachEvent","MessageChannel","channel","port1","port2","scriptElement","parentNode","removeChild","MicroTaskScheduler","webpackPolyfill","deprecate","paths","children"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,MAAAA,QAAA,aAAAA,QAAA,UACA,kBAAAC,gBAAAC,IACAD,QAAA,0BAAAJ,GACA,gBAAAC,SACAA,QAAA,QAAAD,EAAAG,QAAA,MAAAA,QAAA,aAAAA,QAAA,UAEAJ,EAAA,QAAAC,EAAAD,EAAA,GAAAA,EAAA,UAAAA,EAAA,QACCO,KAAA,SAAAC,EAAAC,EAAAC,GACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAX,OAGA,IAAAC,GAAAW,EAAAD,IACAX,WACAa,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAd,EAAAD,QAAAC,IAAAD,QAAAU,GAGAT,EAAAa,QAAA,EAGAb,EAAAD,QAvBA,GAAAY,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,OAGAR,EAAA,KDgBM,SAAST,EAAQD,EAASU,GEtDhC,YF8EC,SAASS,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAeX,KAAKK,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,cAAiBF,EAAYE,EApBlQ,GAAIK,GAAYjB,EAAoB,GEzDzBkB,EAAQT,EAAAQ,GF6DfE,EAAQnB,EAAoB,GE5DrBoB,EAAIX,EAAAU,GFgEXE,EAAMrB,EAAoB,GE/DnBsB,EAAEb,EAAAY,GFmETE,EAAQvB,EAAoB,GElErBwB,EAAIf,EAAAc,GFsEXE,EAASzB,EAAoB,GErEtB0B,EAAKjB,EAAAgB,EAEjBlC,GAAOD,QAAQqC,gBAAkBT,EAASS,gBAC1CpC,EAAOD,QAAQsC,SAAWV,EAASU,SACnCrC,EAAOD,QAAQuC,aAAeX,EAASW,aACvCtC,EAAOD,QAAQwC,YAAcV,EAAKU,YAClCvC,EAAOD,QAAQyC,UAAYX,EAAKW,UAChCxC,EAAOD,QAAQ0C,UAAYZ,EAAKY,UAChCzC,EAAOD,QAAQ2C,IAAMX,EAAGW,IACxB1C,EAAOD,QAAQ4C,MAAQR,EAAMQ,MAC7B3C,EAAOD,QAAQ6C,MAAQT,EAAMS,MAC7B5C,EAAOD,QAAQ8C,OAASV,EAAMU,OAC9B7C,EAAOD,QAAQ+C,OAASX,EAAMW,OAC9B9C,EAAOD,QAAQgD,KAAOZ,EAAMW,OAC5B9C,EAAOD,QAAQiD,MAAQb,EAAMa,MAC7BhD,EAAOD,QAAQkC,KAAOA,EAAKA,KAC3BjC,EAAOD,QAAQkD,KAAOhB,EAAKgB,MF6ErB,SAASjD,EAAQD,GGlGvBC,EAAAD,QAAAM,GHwGM,SAASL,EAAQD,EAASU,GAE/B,YAoBA,SAASS,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAeX,KAAKK,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,cAAiBF,EAAYE,EI/F5P,QAASkB,GAAYW,EAAMC,GAC9BC,EAAcC,SAASH,EAAMC,GAG1B,QAASX,GAAUc,GACtB,GAAMH,GAAUC,EAAcG,OAAOD,EAAI,GACzC,OAAOH,GAAQK,EAAgBF,GAI5B,QAASb,GAAUgB,EAAMC,GAC5B,MAAOC,GAAMC,IAAIH,EAAMC,GJkE1B,GAAIG,GAAiB,WAAe,QAASC,GAAcC,EAAKC,GAAK,GAAIC,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAKC,MAAW,KAAM,IAAK,GAAiCC,GAA7BC,EAAKR,EAAIS,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQC,QAAoBV,EAAKW,KAAKN,EAAGO,QAAYb,GAAKC,EAAKa,SAAWd,GAA3DE,GAAK,IAAoE,MAAOa,GAAOZ,GAAK,EAAMC,EAAKW,EAAO,QAAU,KAAWb,GAAMK,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIJ,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUF,EAAKC,GAAK,GAAIgB,MAAMC,QAAQlB,GAAQ,MAAOA,EAAY,IAAIS,OAAOC,WAAYlD,QAAOwC,GAAQ,MAAOD,GAAcC,EAAKC,EAAa,MAAM,IAAIkB,WAAU,2DAEvlB3D,QAAO4D,eAAepF,EAAS,cAC3B8E,OAAO,IAEX9E,EAAQqF,QAAUrF,EAAQsF,MAAQtF,EAAQuF,gBAAkBjB,OAC5DtE,EInFewC,cJoFfxC,EIhFeyC,YJiFfzC,EI3Ee0C,WJ6Ef,IAAI8C,GAAS9E,EAAoB,IItHtB+E,EAAEtE,EAAAqE,GJ0HTE,EAAchF,EAAoB,GAElCiF,EAAYjF,EAAoB,IIxHxB6E,EAAevF,EAAfuF,gBAAkB,GAAIE,GAAGG,QACzBN,EAAKtF,EAALsF,MAAQ,GAAIG,GAAGG,QACtBnC,EAAiB,GAAIgC,GAAGI,gBACjBR,EAAOrF,EAAPqF,QAAU,GAAII,GAAGG,OAE9BH,GAAGK,WACEC,MACGR,EACCS,eAAe,EAAE,GAAIP,EAAGQ,UAAUC,uBAEnCZ,GAEHa,KAAK,SAAAC,EAAAC,GJwHL,GAAIC,GAAQxC,EAAesC,EAAM,GIxH1BG,EAAUD,EAAA,GAAEE,EAAKF,EAAA,GJ6HpBG,EAAQ3C,EAAeuC,EAAO,GI7HNK,EAAUD,EAAA,GAAEE,EAAKF,EAAA,EAC1C,OAAIC,GAAaH,GACLG,EAAYC,IAEhBJ,EAAYC,KACpB,GAAI,OACPI,IAAI,SAAAC,GJiIJ,GAAIC,GAAQhD,EAAe+C,EAAO,GIjInB7E,GAAF8E,EAAA,GAAIA,EAAA,GJqIjB,OIrIuB9E,KACvB+E,qBAAqB,SAAAC,GJsIrB,MItI0BA,IAAG,SAACA,EAAGC,GJwIjC,MIxIuCD,KAAMC,IAC7CC,SAAS,SAAAlF,GACNyB,EAAe0D,OAAOnF,GACtBqD,EAAQ8B,QAAO,KAElB1E,WAEL,IAAMY,GAAgB,GAAAqC,GA7Bd0B,WAuCJxD,EAAQ,GAAA+B,GAtCJ0B,MAsCc,WJwIjB,MIxIqB5D,MJgJpB,SAASxD,EAAQD,GKxLvBC,EAAAD,QAAAO,GL8LM,SAASN,EAAQD,EAASU,GAE/B,YAeA,SAASS,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAeX,KAAKK,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,cAAiBF,EAAYE,EAblQE,OAAO4D,eAAepF,EAAS,cAC7B8E,OAAO,IAET9E,EAAQ2C,IAAM2B,MAEd,IAAIgD,GAAM5G,EAAoB,GMvMnB+E,EAAEtE,EAAAmG,GN2MTC,EAAa7G,EAAoB,GM1M1B8G,EAASrG,EAAAoG,EACLvH,GAAH2C,IAAM,GAAI8C,GAAGI,gBAAgB2B,EAAUC,QNmN9C,SAASxH,EAAQD,GAEtB,YAQA,SAAS0H,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIzC,WAAU,qCANhH,GAAI0C,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI/D,GAAI,EAAGA,EAAI+D,EAAMjD,OAAQd,IAAK,CAAE,GAAIgE,GAAaD,EAAM/D,EAAIgE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAM5G,OAAO4D,eAAe2C,EAAQE,EAAW1G,IAAK0G,IAAiB,MAAO,UAAUL,EAAaS,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBF,EAAYnG,UAAW4G,GAAiBC,GAAaR,EAAiBF,EAAaU,GAAqBV,KAEjiBpG,QAAO4D,eAAepF,EAAS,cAC3B8E,OAAO,GO5NW9E,GAAVoH,WAAU,WACnB,QADSA,KPmOJM,EAAgBrH,KOnOZ+G,GAEL/G,KAAKuG,OPqPR,MAfAiB,GOxOQT,IPyOJ7F,IAAK,WACLuD,MAAO,SOrOH3B,EAAMC,GACX,GAAI/C,KAAKuG,IAAIzD,GACT,KAAM,IAAIoF,OAAMpF,EAAO,gCAE3B9C,MAAKuG,IAAIzD,GAAQC,KPwOhB7B,IAAK,SACLuD,MAAO,SOtOL3B,GACH,MAAO9C,MAAKuG,IAAIzD,OAbXiE,MP4PP,SAASnH,EAAQD,EAASU,GQ5PhC,YR0QC,SAASS,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAeX,KAAKK,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,cAAiBF,EAAYE,EQvQ5P,QAASY,GAAK4C,GACjB,MAAO,IAAIW,GAAGI,gBAAgBf,GAG3B,QAAS5B,GAAKsF,EAAOC,GACxBD,EAAMrB,OAAOsB,EAAOD,EAAME,aRwP7BlH,OAAO4D,eAAepF,EAAS,cAC3B8E,OAAO,IAEX9E,EQhQekC,ORiQflC,EQ7PekD,MR+Pf,IAAIoE,GAAM5G,EAAoB,GQrQnB+E,EAAEtE,EAAAmG,IRqRR,SAASrH,EAAQD,EAASU,GStRhC,YTkTC,SAASS,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAeX,KAAKK,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,cAAiBF,EAAYE,ESvS5P,QAASqH,GAAeC,GAC3B,MAAO,UAAAxF,GACH,GAAIyF,GAAcD,EAAYE,UAAUC,OAAO,SAAAC,GT6S1C,MS7S+CA,KAAGC,OACnD,SAACC,EAAKC,GT8SL,MS9SoBA,GAAWD,IAChC9F,EAGJ,OAAOyF,IAIR,QAASxG,KACZ,GAAI+G,GAAO9E,OAAE6E,EAAU7E,OAAE+E,EAAS/E,MAElC,QAAQgF,UAAUvE,QACd,IAAK,GACDqE,EAAUE,UAAU,GACpBH,EAAa,SAAA/F,GTgTR,MShTmBA,IACxBiG,EAAYC,UAAU,EACtB,MACJ,KAAK,GACDF,EAAUE,UAAU,GACpBH,EAAalE,MAAMC,QAAQoE,UAAU,IAAMX,EAAeW,UAAU,IAAMA,UAAU,GACpFD,EAAYC,UAAU,EACtB,MACJ,SACI,KAAM,IAAIf,OAAM,kCAAoCe,UAAUvE,QAGtEwE,EAAkBjG,SAAS8F,EAASD,EAAWE,IAG5C,QAAS/G,GAASiB,GACrBiG,EAAKrC,SAAQ,EAAO5D,IAGjB,QAAShB,GAAagB,GACzBiG,EAAKrC,SAAQ,EAAM5D,IT0OtB,GAAIO,GAAiB,WAAe,QAASC,GAAcC,EAAKC,GAAK,GAAIC,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAKC,MAAW,KAAM,IAAK,GAAiCC,GAA7BC,EAAKR,EAAIS,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQC,QAAoBV,EAAKW,KAAKN,EAAGO,QAAYb,GAAKC,EAAKa,SAAWd,GAA3DE,GAAK,IAAoE,MAAOa,GAAOZ,GAAK,EAAMC,EAAKW,EAAO,QAAU,KAAWb,GAAMK,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIJ,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUF,EAAKC,GAAK,GAAIgB,MAAMC,QAAQlB,GAAQ,MAAOA,EAAY,IAAIS,OAAOC,WAAYlD,QAAOwC,GAAQ,MAAOD,GAAcC,EAAKC,EAAa,MAAM,IAAIkB,WAAU,2DAEvlB3D,QAAO4D,eAAepF,EAAS,cAC3B8E,OAAO,IAEX9E,ESpRe2I,iBTqRf3I,ES1QeqC,kBT2QfrC,EStPesC,WTuPftC,ESnPeuC,cTqPf,IAAIR,GAAMrB,EAAoB,GAE1B4G,EAAM5G,EAAoB,GSnSnB+E,EAAEtE,EAAAmG,GTuSTzF,EAAQnB,EAAoB,GAE5BgF,EAAchF,EAAoB,GAElC6G,EAAa7G,EAAoB,GSxS1B8G,EAASrG,EAAAoG,GAEfgC,EAAoB,GAAA7D,GAHlB0B,WAIFoC,EAAO,GAAI/D,GAAGG,OA0CpB4D,GACKrD,KACG,SAAAC,EAAAC,GTgTH,GAAIC,GAAQxC,EAAesC,EAAM,GShT5BqD,EAAOnD,EAAA,GAAEtE,EAAEsE,EAAA,GTqTZG,EAAQ3C,EAAeuC,EAAO,GSrTdqD,EAAIjD,EAAA,GAAElD,EAAGkD,EAAA,GAChBrD,EAAUmG,EAAkB/F,OAAOD,EAAI,IAEvCoD,EAAQvD,EAAQpB,EAAIuB,EAE1B,IAAIoD,IAAU3E,EAAI,CACdD,EAzDRY,IAyDYwE,OAAOR,EACX,IAAMgD,GAAcF,EAAU,CAO9B,OANIC,GACA7H,EA1DKyD,MA0DC6B,QAAQwC,EAAahD,IAE3B9E,EA5DZ0D,gBA4D4B4B,QAAQwC,EAAahD,KAGjCgD,EAAahD,GAEzB,OAAQ8C,EAASzH,KAEpB,EAAGwF,EAAUC,QAEjBhF,aT0TC,SAASxC,EAAQD,EAASU,GUnYhC,YVoaC,SAASS,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAeX,KAAKK,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,cAAiBF,EAAYE,EAElQ,QAASoG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIzC,WAAU,qCU/Z1G,QAASlC,GAAM2G,EAAIC,GACtB,GAAIC,GAAaD,GAAc,SAAAb,GVka1B,MUla6BA,IAC9Be,EAAO,GAAItE,GAAGI,eAElB,OADA+D,GAAGhD,IAAIkD,GAAYrH,UAAUsH,GAAMC,UAC5BD,EAAKrB,WAQhB,QAASuB,GAAsBC,GAC3B,MAAOA,GACFtD,IAAI,SAAAsD,GACD,MAAOA,GAAQC,iBAElBlB,OAAO,SAACC,EAAKkB,GVkab,MUlamBlB,IAAOkB,IAAG,GAGtC,QAASC,GAAWjJ,GAEhBkJ,EAAKC,SAAS1F,MAAMzD,EAAIoJ,MAAMC,YAAa,WACnCR,EAAsB7I,EAAIoJ,MAAMN,UAEhC9I,EAAIsJ,iBAKT,QAASC,KACZL,EAAKC,SAASK,KAAK,SAAAxE,EAAAC,GVoad,GAAIC,GAAQxC,EAAesC,EAAM,GUpajByE,EAAEvE,EAAA,GVwadG,EAAQ3C,EAAeuC,EAAO,GUxaZyE,EAAErE,EAAA,EV2axB,OU3a8BoE,GAAKC,IAExCR,EAAKC,SAASQ,QAAQ,SAAAlE,GV6ajB,GAAIC,GAAQhD,EAAe+C,EAAO,GU7aZ6D,GAAF5D,EAAA,GAAaA,EAAA,GVibjC,OUjbuC4D,OAC5CJ,EAAKC,YAoDT,QAASS,KACL,OAA+B,OAArB,EAAIC,KAAKC,UAAuB,GAAGC,SAAS,IAAIC,UAAU,GAIxE,QAASC,KACL,MAAQL,KAAOA,IAAO,IAAMA,IAAO,IAAMA,IAAO,IAAMA,IAAO,IAAMA,IAAOA,IAAOA,IA6DrF,QAASM,GAAmBC,EAAQC,GAChC,GAAIC,GAAYnH,MAChB,QAAQkH,EAAKzG,QACT,IAAK,GACgC,mBAAtByG,GAAK,GAAG/J,WACf+J,EAAK,GAAGD,OAASA,EACjBE,EAAeD,EAAK,IAEpBC,GACIF,OAAQA,EACRZ,OAAQa,EAAK,GAGrB,MACJ,KAAK,GACgC,mBAAtBA,GAAK,GAAG/J,WAEf+J,EAAK,GAAGD,OAASA,EAAOG,OAAOF,EAAK,IACpCC,EAAeD,EAAK,IAGpBC,GACIF,OAAQA,EAAOG,OAAOF,EAAK,IAC3Bb,OAAQa,EAAK,GAGrB,MACJ,SACI,KAAM,IAAIjD,OAAM,kCAAoCiD,EAAKzG,QAGjE,MADA0G,GAAaE,YAAcH,EAAK,GACzBC,EAGX,QAASG,GAAUC,EAAOL,GACtB,GAAIC,GAAeH,EAAmBO,EAAOL,GACzCM,EAAYL,EAAad,MAC7Bc,GAAad,OAAS,WAClB,MAAOmB,GAAU/K,KAAKV,KAAMA,KAAK2H,OAGrC,IAAI+D,GAAYC,EAAMC,YAAYR,EAElC,OAAOO,GAAME,cAAcH,GAG/B,QAASI,GAAWN,EAAOL,GACvB,GAAIC,GAAeH,EAAmBO,EAAOL,GACzCM,EAAYL,EAAad,MAC7Bc,GAAad,OAAS,WAClB,MAAOmB,GAAUM,MAAM/L,KAAMA,KAAK2H,MAAMqE,MAE5C,IAAIN,GAAYC,EAAMC,YAAYR,GAC9B1L,EAAUiM,EAAME,cAAcH,EAElC,OAAO,YACH,MAAOhM,IAASsM,KAAMpH,MAAMxD,UAAU6K,MAAMvL,KAAKuI,cAIlD,QAAS1G,KACZ,MAAOgJ,IAAWW,GAAiBjD,WAGhC,QAASzG,KACZ,MAAOsJ,IAAYI,GAAiBjD,WAGjC,QAASxG,KACZ,MAAO8I,IAAWY,GAAoBlD,WAGnC,QAASvG,KACZ,MAAOoJ,IAAYK,GAAoBlD,WV8J1C,GAAIzB,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI/D,GAAI,EAAGA,EAAI+D,EAAMjD,OAAQd,IAAK,CAAE,GAAIgE,GAAaD,EAAM/D,EAAIgE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAM5G,OAAO4D,eAAe2C,EAAQE,EAAW1G,IAAK0G,IAAiB,MAAO,UAAUL,EAAaS,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBF,EAAYnG,UAAW4G,GAAiBC,GAAaR,EAAiBF,EAAaU,GAAqBV,MAE7hB9D,EAAiB,WAAe,QAASC,GAAcC,EAAKC,GAAK,GAAIC,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAKC,MAAW,KAAM,IAAK,GAAiCC,GAA7BC,EAAKR,EAAIS,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQC,QAAoBV,EAAKW,KAAKN,EAAGO,QAAYb,GAAKC,EAAKa,SAAWd,GAA3DE,GAAK,IAAoE,MAAOa,GAAOZ,GAAK,EAAMC,EAAKW,EAAO,QAAU,KAAWb,GAAMK,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIJ,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUF,EAAKC,GAAK,GAAIgB,MAAMC,QAAQlB,GAAQ,MAAOA,EAAY,IAAIS,OAAOC,WAAYlD,QAAOwC,GAAQ,MAAOD,GAAcC,EAAKC,EAAa,MAAM,IAAIkB,WAAU,2DAEvlB3D,QAAO4D,eAAepF,EAAS,cAC3B8E,OAAO,IAEX9E,EAAQwM,kBAAoBxM,EAAQuM,eAAiBjI,OACrDtE,EUxYeiD,QVyYfjD,EU3We2K,SV4Wf3K,EUrLe4C,QVsLf5C,EUlLe6C,QVmLf7C,EU/Ke8C,SVgLf9C,EU5Ke+C,QV8Kf,IAAIlB,GAAQnB,EAAoB,GUpZrBoB,EAAIX,EAAAU,GVwZXM,EAASzB,EAAoB,IUvZtBsL,EAAK7K,EAAAgB,GV2ZZmF,EAAM5G,EAAoB,GU1ZnB+E,EAAEtE,EAAAmG,GV8ZTmF,EAAgB/L,EAAoB,GUpZrC4J,GACAG,YAAa,EACbF,YA2BJzI,GAAKuD,QAAQ5C,UAAUkI,GACvB+B,OAAO/B,OAASA,CAET,IAAI4B,GAAcvM,EAAduM,gBACPI,sBAAuB,SAAUC,EAAWC,GACxC,OAAO,EAAAJ,EA3CPtC,cA2CoB9J,KAAK2H,MAAO4E,GAAY,WAAY,EAAAH,EA3CxDtC,cA2CqE9J,KAAKmK,MAAOqC,KAAc,EAAAJ,EA3C/FtC,cA2C4G9J,KAAK2H,MAAMqE,KAAMO,EAAUP,OAE3IS,eAAgB,WACZ,MAAOzM,MAAK0M,YAAYpB,cAI1BqB,EAAmB,WACrB,QADEA,GACUhK,EAAM4G,EAAIqD,EAAYC,GVmb7BxF,EAAgBrH,KUpbnB2M,EAEE,IAAInD,GAAYoD,GAAe,SAAAjE,GVqb1B,MUrb6BA,IAC9BmE,EAAS,GAAI1H,GAAG2H,cAAc,GAC9BrD,EAAO,GAAItE,GAAGI,gBACdwH,EAAa,GAAI5H,GAAG6H,oBACpB1D,EACK7C,qBAAqB,SAAAC,GVqbzB,MUrb4BA,IAAG,SAACA,EAAGC,GVubnC,MUvbyCD,KAAMC,IAC3CL,IAAIiD,GACJpH,UAAU0K,GACfA,EACK1K,UAAUsH,GACfoD,EACKI,KAAK,GACL9K,UAAU,WACP4H,EAAWrH,KAGvB3C,MAAKgN,WAAaA,EAClBhN,KAAKmN,QAAUzD,EACf1J,KAAK6M,YAAc,KV4ctB,MAxBArF,GUxcCmF,IVycGzL,IAAK,WACLuD,MAAO,SUpbHoI,GAGL,MAFA7M,MAAK6M,YAAcA,EACnB7M,KAAKoN,UAAYpN,KAAKmN,QAAQ9E,WACvBrI,KAAKoN,aVubXlM,IAAK,UACLuD,MAAO,WUrbRzE,KAAKgN,WAAWrD,aVybfzI,IAAK,gBACLuD,MAAO,SUxbEoI,GACV,MAAOA,GAAc7M,KAAK6M,eV2bzB3L,IAAK,eACLuD,MAAO,WUzbR,MAAOzE,MAAKoN,YAAepN,KAAKmN,QAAQ9E,eAlC1CsE,KA+CKR,EAAiBxM,EAAjBwM,mBACPkB,SAAQ,SAACC,EAAQ9D,GACb,MAAOxJ,MAAK4C,MAAMnB,EAAKW,UAAUkL,GAAS9D,EAAWrC,UAAUoG,KAAKD,KAExEb,eAAgB,WACZ,MAAOzM,MAAK0M,YAAYpB,aAE5BkC,gBAAiB,WACb,OACI3D,QAAS1C,UAAUC,MACnBgD,YAAaH,EAAKG,cAClByC,YAAa,IAGrBP,sBAAuB,SAAUC,EAAWC,GACxC,GAAIiB,IAAgB,EAAArB,EAhHpBtC,cAgHiC9J,KAAK2H,MAAO4E,GAAY,WAAY,EAAAH,EAhHrEtC,cAgHkF9J,KAAK2H,MAAMqE,KAAMO,EAAUP,MACzG0B,GAAgB,EAAAtB,EAjHpBtC,cAiHiC9J,KAAKmK,MAAOqC,GAAY,UAAW,cAAe,eAEnF,OAAOiB,IAAiBC,GAE5B9K,MAAO,SAAU2G,EAAIqD,EAAYe,GAC7B,GAAMnN,GAAKmN,GAAO3C,GAClB,IAAIhL,KAAKmK,MAAMN,QAAQ+D,IAAIpN,GACvB,MAAOR,MAAKmK,MAAMN,QAAQ+D,IAAIpN,GAAI6H,SAASrI,KAAKmK,MAAM0C,YAE1D,IAAMhD,GAAU,GAAI8C,GAAoB3M,KAAMuJ,EAAIqD,EAIlD,OAFA5M,MAAKmK,MAAMN,QAAU7J,KAAKmK,MAAMN,QAAQgE,IAAIrN,EAAIqJ,GAEzCA,EAAQxB,SAASrI,KAAKmK,MAAM0C,cAEvCiB,YAAa,WACT9N,KAAKmK,MAAMN,QAAQa,QAAQ,SAAAb,GACvBA,EAAQF,YAGZ3J,KAAKmK,MAAMN,QAAU1C,UAAUC,OAEnC2G,oBAAqB,WAEjB/N,KAAKmK,MAAM0C,eAGfmB,mBAAoB,WV+bf,GAAIC,GAAQjO,IU9bbA,MAAKmK,MAAMN,QAAQnB,OAAO,SAAAmB,GACtB,MAAOA,GAAQqE,cAAcD,EAAK9D,MAAM0C,eAE3CnC,QAAQ,SAAAyD,GVgcJ,MUhcYA,GAAKxE,YAEtB3J,KAAKmK,MAAMN,QAAU7J,KAAKmK,MAAMN,QAAQnB,OAAO,SAAAmB,GAC3C,OAAQA,EAAQqE,cAAcD,EAAK9D,MAAM0C,gBAGjDuB,qBAAsB,WAClBpO,KAAK8N,iBVmhBP,SAASlO,EAAQD,GW/qBvB,YXqsBC,SAAS0O,GAAQtN,GAAO,MAAOA,IAAyB,mBAAXqD,SAA0BrD,EAAI2L,cAAgBtI,OAAS,eAAkBrD,GW1rBhH,QAAS+I,GAAanC,EAAO4E,EAAW+B,GAC3C,GAAIC,GAAOtK,MACX,OAAIsI,KAAc5E,GAAS4E,EAAU7H,SAAWiD,EAAMjD,QAC3C,GAGP6J,EADAD,GAAUA,EAAO5J,OAAS,EAChBvD,OAAOqN,KAAK7G,GACjBe,OAAO,SAAA+F,GX4rBP,MW5rBYH,GAAOI,QAAQD,IAAM,IACjClI,IAAI,SAAAkI,GX6rBJ,OW7rBU9G,EAAM8G,GAAIlC,EAAUkC,MAEzBtN,OAAOqN,KAAK7G,GAAOpB,IAAI,SAAAkI,GX+rB5B,OW/rBkC9G,EAAM8G,GAAIlC,EAAUkC,MAG3DF,EAAQ7J,QACA6J,EAAQI,MAAM,SAAA5I,GXisBjB,GAAIC,GAAQvC,EAAesC,EAAM,GWjsBLtB,EAAKuB,EAAA,GAAE4I,EAAS5I,EAAA,EAC7C,OAAK6I,GAAYpK,IAAUoK,EAAYD,IAElCE,EAAYrK,IAAUqK,EAAYF,GAE5BnK,IAAUmK,GAEd,KAGR,GAEX,QAASE,GAAYC,GACjB,MAAO5H,WAAU6H,SAASC,WAAWF,GAGzC,QAASF,GAAYpK,GACjB,GAAIyK,GAAmB,mBAALzK,GAAK,YAAA4J,EAAL5J,EAClB,OAAgB,WAATyK,GAA8B,YAATA,GAA+B,WAATA,GAA+B,OAAVzK,GAA4B,SAAVA,EXmpB5F,GAAIhB,GAAiB,WAAe,QAASC,GAAcC,EAAKC,GAAK,GAAIC,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAKC,MAAW,KAAM,IAAK,GAAiCC,GAA7BC,EAAKR,EAAIS,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQC,QAAoBV,EAAKW,KAAKN,EAAGO,QAAYb,GAAKC,EAAKa,SAAWd,GAA3DE,GAAK,IAAoE,MAAOa,GAAOZ,GAAK,EAAMC,EAAKW,EAAO,QAAU,KAAWb,GAAMK,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIJ,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUF,EAAKC,GAAK,GAAIgB,MAAMC,QAAQlB,GAAQ,MAAOA,EAAY,IAAIS,OAAOC,WAAYlD,QAAOwC,GAAQ,MAAOD,GAAcC,EAAKC,EAAa,MAAM,IAAIkB,WAAU,2DAEvlB3D,QAAO4D,eAAepF,EAAS,cAC3B8E,OAAO,IAEX9E,EWxrBemK,gBXwuBV,SAASlK,EAAQD,EAASU,GYnvBhC,YZswBC,SAASS,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAeX,KAAKK,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,cAAiBF,EAAYE,EAElQ,QAASoG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIzC,WAAU,qCAjBhH,GAAI0C,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI/D,GAAI,EAAGA,EAAI+D,EAAMjD,OAAQd,IAAK,CAAE,GAAIgE,GAAaD,EAAM/D,EAAIgE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAM5G,OAAO4D,eAAe2C,EAAQE,EAAW1G,IAAK0G,IAAiB,MAAO,UAAUL,EAAaS,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBF,EAAYnG,UAAW4G,GAAiBC,GAAaR,EAAiBF,EAAaU,GAAqBV,KAEjiBpG,QAAO4D,eAAepF,EAAS,cAC3B8E,OAAO,IAEX9E,EAAQqH,MAAQ/C,MAEhB,IAAIiD,GAAa7G,EAAoB,GY7vB1B8G,EAASrG,EAAAoG,GZiwBhBD,EAAM5G,EAAoB,GYhwBnB+E,EAAEtE,EAAAmG,GACRkI,IAEYxP,GAALqH,MAAK,WACd,QADSA,GACGuC,GZwwBPlC,EAAgBrH,KYzwBZgH,GAELhH,KAAKoP,UAAYjI,EAAUC,MAC3BpH,KAAKuJ,GAAKA,EZi0Bb,MArDA/B,GY/wBQR,IZgxBJ9F,IAAK,MACLuD,MAAO,SY3wBRpB,EAAMC,GAIN,IAAK,GZwwBI2K,GAAQjO,KY3wBXqP,EAAOrP,KAETsP,KACK1L,EAAI,EAAGA,EAAIP,EAAKqB,OAAQd,IAC7B0L,EAAO9K,KAAKI,MAAMxD,UAAU6K,MAAMvL,KAAK2C,EAAK4I,MAAM,EAAGrI,EAAI,IAuC7D,OArCA5D,MAAKoP,UAAYE,EAAO1G,OACpB,SAACC,EAAK0G,GACF,GAAIC,GAAaD,EAAUtD,MAAM,EAAGsD,EAAU7K,OAAS,GACnD+K,EAAiC,IAAtBD,EAAW9K,OAAeuJ,EAAK1E,KAAOV,EAAI6G,MAAMF,EAAWnE,OAAO8D,IAC7EQ,EAAeJ,EAAUA,EAAU7K,OAAS,EAChD,OAAOmE,GAAI+G,SAASL,EAAUlE,OAAO8D,GAAoB,SAAAU,GACrD,GAAIA,EACA,MAAOA,EAEX,IAAI1C,GAAU,GAAI/H,GAAG2H,cAAc,GAC/B+C,EAAeL,EACVlJ,IAAI,SAAAoC,GACD,MAAIA,IAAKA,EAAEiF,IACAjF,EAAEiF,IAAI+B,GADjB,SAIHjJ,qBAAqB,SAAAC,GZ2wBzB,MY3wB8BA,IAAG,SAACA,EAAGC,GZ6wBrC,MY7wB2CD,KAAMC,IAE7CxE,UAAU+K,GACf4C,EAAe5C,EAAQ/K,SAY3B,OAXA+K,GAAQ/K,UAAY,WAChB,GAAMoB,GAAMuM,EAAahE,MAAM/L,KAAMiJ,UAErC,OAAO7D,GAAG4K,WAAWC,OAAO,WACxBzM,EAAImG,UACCwD,EAAQ+C,iBACTJ,EAAanG,UACb0F,EAAKD,UAAYC,EAAKD,UAAUe,SAASZ,OAI9CpC,KAGfnN,KAAKoP,WAGFpP,KAAKoP,UAAUM,MAAMrM,EAAKgI,QAAQ8D,KAAqB5I,IAAI,SAAAoC,GZ6wBzD,MY7wB2E,mBAANA,GAAoBA,EAAIrF,QAlDjG0D,MZy0BP,SAASpH,EAAQD,EAASU,GAE/B,GAAI+P,GAA8BC,Gah1BnC,SAAAzQ,EAAA0Q,IAEC,SAAA5Q,GAMD,QAAA6Q,GAAA9L,GACA,MAAAA,MAAAtD,gBAAAsD,EAAA,KANA,GAAA+L,IACAC,YAAA,EACAC,QAAA,GAOAC,EAAAH,QAAA7Q,WAAAiR,SAAAjR,EAAA,KACAkR,EAAAL,QAAA5Q,WAAAgR,SAAAhR,EAAA,KACAkR,EAAAP,EAAAI,GAAAE,GAAA,gBAAAP,OACAS,EAAAR,EAAAC,QAAAnB,cACA2B,EAAAT,EAAAC,QAAAnE,kBAEA4E,GADAJ,KAAAlR,UAAAgR,IAAA,KACAJ,EAAAC,QAAAxQ,eACAP,EAAAqR,GAAAE,KAAAC,KAAA5E,SAAA2E,GAAAD,GAAAE,GAAAC,SAAA,gBAIAd,IAAA/P,EAAA,IAAAgQ,EAAA,SAAAjL,EAAAzF,GACA,MAAAD,GAAAD,EAAAE,EAAAyF,IACK2G,MAAApM,EAAAyQ,KAAAnM,SAAAoM,IAAAzQ,EAAAD,QAAA0Q,MAMJ3P,KAAAV,KAAA,SAAAP,EAAA0R,EAAA/L,EAAAnB,GAsBD,QAAAmN,GAAAC,GACA,kBACA,IACA,MAAAA,GAAAtF,MAAA/L,KAAAiJ,WACO,MAAAqI,GAEP,MADAC,GAAAD,IACAC,IAKA,QAAAC,GAAAC,GACA,IAAAC,EAAAD,GAA0B,SAAA3M,WAAA,wBAC1B,OAAAsM,GAAAK,GAOA,QAAAE,GAAAC,EAAA9O,EAAAC,EAAA8O,GACA7R,KAAAgE,GAAA4N,EACA5R,KAAA8D,GAAAhB,EACA9C,KAAA8R,IAAA/O,EACA/C,KAAA+R,GAAAF,EACA7R,KAAAgE,GAAAgO,iBAAAhS,KAAA8D,GAAA9D,KAAA8R,IAAA9R,KAAA+R,IACA/R,KAAAiS,YAAA,EAUA,QAAAC,GAAAN,EAAA9O,EAAAC,EAAA8O,GACA,GAAAD,EAAAI,iBACA,UAAAL,GAAAC,EAAA9O,EAAAC,EAAA8O,EAEA,UAAA3J,OAAA,qBAGA,QAAAiK,GAAAC,EAAAC,EAAAtP,EAAA8O,GACA,GAAAS,GAAA,GAAArF,GAGAsF,EAAApR,OAAAC,UAAA0J,QACA,0BAAAyH,EAAA7R,KAAA0R,IAAA,4BAAAG,EAAA7R,KAAA0R,GACA,OAAAxO,GAAA,EAAA4O,EAAAJ,EAAA1N,OAAsC8N,EAAA5O,EAASA,IAC/C0O,EAAAG,IAAAN,EAAAC,EAAAjE,KAAAvK,GAAAyO,EAAAtP,EAAA8O,QAEKO,IACLE,EAAAG,IAAAP,EAAAE,EAAAC,EAAAtP,EAAA8O,GAEA,OAAAS,GA6HA,QAAAI,KACA,GAAAjT,EAAAkT,eACA,UAAAlT,GAAAkT,cAEA,IAAAC,EACA,KAEA,OADAC,IAAA,2DACAjP,EAAA,EAAsB,EAAAA,EAAOA,IAC7B,IAEA,GADAgP,EAAAC,EAAAjP,GACA,GAAAnE,GAAAqT,cAAAF,GACA,MAEW,MAAAtB,IAEX,UAAA7R,GAAAqT,cAAAF,GACO,MAAAtB,GACP,SAAApJ,OAAA,oDAMA,QAAA6K,KACA,GAAAC,GAAA,GAAAvT,GAAAkT,cACA,uBAAAK,GAEA,MADAA,GAAAC,iBAAA,EACAD,CACK,IAAAvT,EAAAyT,eACL,UAAAA,eAEA,UAAAhL,OAAA,yCAIA,QAAAiL,GAAA7B,EAAA0B,EAAAI,GACA,GAAAC,GAAA,YAAAL,KAAAK,SAAAL,EAAAM,YAEA,OADAD,GAAA,SAAAD,EAAAG,aAAAC,KAAAC,MAAAJ,MAEAA,WACAK,OAAAV,EAAAU,OACAH,aAAAP,EAAAO,aACAP,MACAW,cAAArC,GAIA,QAAAsC,GAAAtC,EAAA0B,EAAA9D,GACA,OACAA,OACAwE,OAAAV,EAAAU,OACAV,MACAW,cAAArC,GAgVA,QAAAuC,GAAAC,EAAAC,EAAAC,EAAAC,GACAH,IACAC,IACAA,EAAAjN,SACAiN,EAAAG,eAEAF,EAGAF,EAAAK,MAAAH,EAAAC,GAFAH,EAAAK,SA+LA,QAAAC,GAAA9P,GACA,GAAA+P,GAAA5U,EAAA6U,kBAAA7U,EAAA8U,sBACA,WAAAF,GAAA/P,GApxBA,GACAkQ,IADApP,EAAAK,WACAL,EAAAoP,gBACAC,EAAArP,EAAAsP,UAAAD,iBAIAzE,GAHA5K,EAAAuP,SAAA1E,OACA7K,EAAAK,WAAAwK,OACA7K,EAAA4K,WAAAC,OACA7K,EAAA4K,YACA/C,EAAA7H,EAAA6H,oBACA2H,EAAAxP,EAAAwP,iBACAC,EAAAzP,EAAAyP,2BACAtP,EAAAH,EAAAG,QACAK,EAAAR,EAAAQ,UACAkP,EAAA1P,EAAA2P,OACA1T,KAAuBA,eAEvBqQ,GADAtM,EAAA4P,QAAAC,KACA7P,EAAA4P,QAAAtD,YACAwD,EAAA9P,EAAAsP,UAAAQ,SAEA3D,GAAkBD,KA+BlBK,GAAAvQ,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAiS,YAAA,EACAjS,KAAAgE,GAAAmR,oBAAAnV,KAAA8D,GAAA9D,KAAA8R,IAAA9R,KAAA+R,KA0BA,IAAAqD,GAAA,SAAAC,GAEA,QAAAD,GAAAxD,EAAAS,EAAAiD,EAAAzD,GACA7R,KAAAgE,GAAA4N,EACA5R,KAAA8D,GAAAuO,EACArS,KAAA8R,IAAAwD,EACAtV,KAAAuV,IAAA1D,EACAwD,EAAA3U,KAAAV,MAGA,QAAAwV,GAAAC,EAAAhE,GACA,kBACA,GAAAiE,GAAAzM,UAAA,EACA,OAAAwI,KACAiE,EAAAlE,EAAAC,GAAA1F,MAAA,KAAA9C,WACAyM,IAAAnE,GAAqCkE,EAAAE,QAAAD,EAAApE,OAErCmE,GAAA3O,OAAA4O,IAYA,MA5BAR,GAAAE,EAAAC,GAoBAD,EAAAhU,UAAAwU,cAAA,SAAAH,GACA,MAAAtD,GACAnS,KAAAgE,GACAhE,KAAA8D,GACA0R,EAAAC,EAAAzV,KAAA8R,KACA9R,KAAAuV,MAGAH,GACGZ,GAUHqB,EAAAf,EAAAe,UAAA,SAAAjE,EAAAS,EAAAiD,EAAAzD,GACA,GAAAiE,GAAApE,EAAA4D,KAAA,IAGA,OAFA,iBAAAA,KAAAzD,EAAAyD,GACA,mBAAAzD,QAAA,GACA,GAAAuD,GAAAxD,EAAAS,EAAAyD,EAAAjE,GAAAkE,UAAAC,aAGA,WACA,GAAAC,GAAA,+MAIAxW,GAAAyW,eACAD,GAAA,uFAGAxW,EAAA0W,aACAF,GAAA,8CAGAA,IAAAG,MAAA,IAEA,QAAAxS,GAAA,EAAA4O,EAAAyD,EAAAvR,OAAuC8N,EAAA5O,EAASA,KAChD,SAAA0N,GACAwD,EAAAxD,GAAA,SAAAM,EAAA0D,EAAAzD,GACA,MAAAgE,GAAAjE,EAAAN,EAAAgE,EAAAzD,KAEOoE,EAAArS,MAIP,IAAAyS,GAAA,SAAAhB,GAEA,QAAAgB,KACAhB,EAAA3U,KAAAV,MAGA,QAAAwV,GAAAC,GACA,kBACAA,EAAA3O,SACA2O,EAAAvB,eAQA,QAAAoC,GAAAb,EAAAhE,GACAzR,KAAAuW,GAAAd,EACAzV,KAAA8R,IAAAL,EACAzR,KAAAwW,gBAAA,EACAxW,KAAAiS,YAAA,EAEA,aAAAxS,EAAAgX,SAAAC,WACAC,WAAA3W,KAAA8R,IAAA,IAEA9R,KAAAwW,gBAAA,EACA/W,EAAAgX,SAAAzE,iBAAA,mBAAAhS,KAAA8R,KAAA,IAWA,MArCAoD,GAAAmB,EAAAhB,GAYAgB,EAAAjV,UAAAwU,cAAA,SAAAH,GACA,UAAAa,GAAAb,EAAAD,EAAAC,KAiBAa,EAAAlV,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAiS,YAAA,EACAxS,EAAAgX,SAAAtB,oBAAA,mBAAAnV,KAAA8R,KAAA,KAIAuE,GACG7B,EAMHM,GAAA8B,MAAA,WACA,UAAAP,GA6DA,IAAAQ,GAAA,SAAAxB,GAEA,QAAAwB,GAAAzD,GACApT,KAAA8W,UAAA1D,EACAiC,EAAA3U,KAAAV,MAqGA,QAAA+W,GAAA5M,EAAA6I,GACAhT,KAAAgX,OAAA7M,EACAnK,KAAAiX,KAAAjE,EACAhT,KAAAiS,YAAA,EAUA,MArHAiD,GAAA2B,EAAAxB,GAMAwB,EAAAzV,UAAAwU,cAAA,SAAAH,GACA,GACAzC,GADA7I,GAAmB+M,QAAA,GAGnB9D,EAAApT,KAAA8W,UACAK,EAAA/D,EAAA+D,eACAC,EAAAhE,EAAAgE,iBAEAC,EAAA,SAAArE,EAAA1B,GACA,GAAAoC,GAAA,OAAAV,EAAAU,OAAA,IAAAV,EAAAU,MACAA,IAAA,UAAAA,GAAA,IAAAA,GAAA,KAAAA,GACA+B,EAAA3O,OAAAsQ,EAAA9F,EAAA0B,EAAAI,IACAqC,EAAAvB,eAEAuB,EAAAE,QAAAvC,EAAA+D,eAAA7F,EAAA0B,EAAA,UAEA7I,EAAA+M,QAAA,EAGA,KACAlE,EAAAI,EAAAkE,YACO,MAAA3S,GACP,MAAA8Q,GAAAE,QAAAhR,GAGA,IACAyO,EAAAmE,KACAvE,EAAAwE,KAAApE,EAAAqE,OAAArE,EAAAsE,IAAAtE,EAAAuE,MAAAvE,EAAAmE,KAAAnE,EAAAwE,UAEA5E,EAAAwE,KAAApE,EAAAqE,OAAArE,EAAAsE,IAAAtE,EAAAuE,MAGA,IAAAE,GAAAzE,EAAAyE,OACA,QAAAC,KAAAD,GACAxW,EAAAX,KAAAmX,EAAAC,IACA9E,EAAA+E,iBAAAD,EAAAD,EAAAC,GAIA9E,GAAAgF,QAAA5E,EAAA4E,QACAhF,EAAAiF,UAAA,SAAA3G,GACA8B,EAAA8E,kBAAA9E,EAAA8E,iBAAAvC,QAAArE,GACAmE,EAAAE,QAAAwB,EAAA7F,EAAA0B,EAAA,aAGAA,EAAAmF,UAAA,mBAAAnF,KAAAvT,EAAAyT,gBACAF,EAAAoF,OAAA,SAAA9G,GACA8B,EAAA8E,mBACA9E,EAAA8E,iBAAApR,OAAAwK,GACA8B,EAAA8E,iBAAAhE,eAEAmD,EAAArE,EAAA1B,IAGA8B,EAAA8E,mBACAlF,EAAAqF,WAAA,SAAA/G,GACA8B,EAAA8E,iBAAApR,OAAAwK,KAIA0B,EAAAsF,QAAA,SAAAhH,GACA8B,EAAA8E,kBAAA9E,EAAA8E,iBAAAvC,QAAArE,GACAmE,EAAAE,QAAAwB,EAAA7F,EAAA0B,EAAA,UACA7I,EAAA+M,QAAA,GAGAlE,EAAAuF,QAAA,SAAAjH,GACA8B,EAAA8E,kBAAA9E,EAAA8E,iBAAAvC,QAAArE,GACAmE,EAAAE,QAAAwB,EAAA7F,EAAA0B,EAAA,UACA7I,EAAA+M,QAAA,IAGAlE,EAAAwF,mBAAA,SAAAlH,GACA,IAAA0B,EAAA0D,YAAAW,EAAArE,EAAA1B,GAIA,IAAAmH,GAAArF,EAAAyE,QAAA,iBACAzE,EAAAyE,QAAA,iBACAzE,EAAAyE,QAAA,eACA,IAAAzE,EAAAsF,YAAA,sCAAAD,GAAA,gBAAArF,GAAAuF,KAAA,CACA,GAAAC,KACA,QAAAC,KAAAzF,GAAAuF,KACAtX,EAAAX,KAAA0S,EAAAuF,KAAAE,IACAD,EAAApU,KAAAqU,EAAA,IAAAzF,EAAAuF,KAAAE,GAGAzF,GAAAuF,KAAAC,EAAAE,KAAA,KAGA9F,EAAA+F,KAAA3F,EAAAsF,YAAAtF,EAAAuF,MAAA,MACO,MAAArH,GACPmE,EAAAE,QAAArE,GAGA,UAAAyF,GAAA5M,EAAA6I,IASA+D,EAAA3V,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAiS,YAAA,EACAjS,KAAAgX,OAAAE,QAAA,IAAAlX,KAAAiX,KAAAP,YAAgE1W,KAAAiX,KAAA+B,UAIhEnC,GACGrC,GAsBHyE,EAAAnE,EAAAoE,KAAA,SAAAC,GACA,GAAA/F,IACAqE,OAAA,MACA2B,aAAA,EACAzB,OAAA,EACAE,WACAtE,aAAA,OACAyE,QAAA,EACAV,UAAA,WACA,MAAAtX,MAAAoZ,YAAArG,IAAAL,KAEAyE,eAAAvD,EACAwD,iBAAAjE,EAGA,oBAAAgG,GACA/F,EAAAsE,IAAAyB,MAEA,QAAAN,KAAAM,GACA9X,EAAAX,KAAAyY,EAAAN,KACAzF,EAAAyF,GAAAM,EAAAN,GAUA,OALAzF,GAAAgG,aAAAhG,EAAAyE,QAAA,sBACAzE,EAAAyE,QAAA,sCAEAzE,EAAAsF,WAAAtF,EAAAuF,OAAA1U,EAEA,GAAA4S,GAAAzD,GAUA0B,GAAAuE,KAAA,SAAA3B,EAAAiB,GACA,GAAAvF,EAOA,OANA,gBAAAsE,GACAtE,GAAkBsE,MAAAiB,OAAAlB,OAAA,QACb,gBAAAC,KACLtE,EAAAsE,EACAtE,EAAAqE,OAAA,QAEAwB,EAAA7F,IASA0B,EAAAlH,IAAA,SAAA8J,GACA,GAAAtE,EAMA,OALA,gBAAAsE,GACAtE,GAAkBsE,OACb,gBAAAA,KACLtE,EAAAsE,GAEAuB,EAAA7F,IASA0B,EAAAwE,QAAA,SAAA5B,GACA,IAAAjY,EAAA+T,MAAA,kBAAA/T,GAAA+T,KAAAC,MAA8D,SAAA3O,WAAA,yCAC9D,OAAAmU,IAAwBvB,MAAAnE,aAAA,SAA+BhN,IAAA,SAAAI,GACvD,MAAAA,GAAA0M,WAIA,IAAAkG,GAAA,WACA,GAAAC,GAAA,YAAA/Z,MAAAgX,SAAAgD,cAAA,MACA,iBAAA7H,GACA4H,EAAAE,YAAA9H,GACA4H,EAAAG,UAAA,OAIAC,EAAA,SAAAvE,GAEA,QAAAuE,GAAAxG,GACApT,KAAA8W,UAAA1D,EACAiC,EAAA3U,KAAAV,MAkEA,QAAA6Z,GAAAC,GACA9Z,KAAA+Z,QAAAD,EACA9Z,KAAAiS,YAAA,EAYA,MAnFAiD,GAAA0E,EAAAvE,GAMAuE,EAAApZ,GAAA,EAEAoZ,EAAAxY,UAAAwU,cAAA,SAAAH,GACA,GAAArC,IACA4G,MAAA,gBACArC,OAAA,EACAsC,cAAA,+BAAAL,EAAApZ,MAAAsK,SAAA,IAGA,oBAAA9K,MAAA8W,UACA1D,EAAAsE,IAAA1X,KAAA8W,cAEA,QAAA+B,KAAA7Y,MAAA8W,UACAzV,EAAAX,KAAAV,KAAA8W,UAAA+B,KACAzF,EAAAyF,GAAA7Y,KAAA8W,UAAA+B,GAKA,IAAAiB,GAAAra,EAAAgX,SAAAgD,cAAA,SACAK,GAAA5K,KAAA,kBACA4K,EAAAnC,MAAAvE,EAAAuE,MACAmC,EAAAI,IAAA9G,EAAAsE,IAAAyC,QAAA/G,EAAA4G,MAAA5G,EAAA6G,eAEAxa,EAAA2T,EAAA6G,eAAA,SAAAhQ,GACAxK,EAAA2T,EAAA6G,eAAAG,QAAA,EACA3a,EAAA2T,EAAA6G,eAAAhQ,OAGA,IAAAlH,GAAA,SAAAuO,GACA,SAAAA,EAAApC,MAAAzP,EAAA2T,EAAA6G,eAAAG,SACA9I,GAAepC,KAAA,SAEf,IAAAwE,GAAA,UAAApC,EAAApC,KAAA,QACAjF,EAAAxK,EAAA2T,EAAA6G,eAAAhQ,IAEA,OAAAyJ,GACA+B,EAAA3O,QACA4M,SACAH,aAAA,QACAF,SAAApJ,EACA0J,cAAArC,IAGAmE,EAAAvB,eAGAuB,EAAAE,SACAzG,KAAA,QACAwE,SACAC,cAAArC,IAKAwI,GAAA1B,OAAA0B,EAAAO,oBAAAP,EAAAxB,QAAAvV,CAEA,IAAAuX,GAAA7a,EAAAgX,SAAA8D,qBAAA,YAAA9a,EAAAgX,SAAA+D,eAGA,OAFAF,GAAAG,aAAAX,EAAAQ,EAAAI,YAEA,GAAAb,GAAAC,IAQAD,EAAAzY,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAiS,YAAA,EACAjS,KAAA+Z,QAAA3B,OAAApY,KAAA+Z,QAAAM,oBAAAra,KAAA+Z,QAAAzB,QAAA,KACAiB,EAAAvZ,KAAA+Z,SACA/Z,KAAA+Z,QAAA,OAIAH,GACGpF,EAcHM,GAAA6F,aAAA,SAAAvH,GACA,UAAAwG,GAAAxG,GAiBA,IAAAwH,GAAA,SAAAvF,GAEA,QAAAuF,GAAAzQ,EAAAuN,EAAAmD,EAAArD,EAAArD,GACAnU,KAAAgX,OAAA7M,EACAnK,KAAA8a,KAAApD,EACA1X,KAAA+a,UAAAF,EACA7a,KAAAgb,MAAAxD,EACAxX,KAAAib,OAAA9G,EACAkB,EAAA3U,KAAAV,MAGA,QAAAkb,GAAA1D,EAAA1D,GACA,eAAAqH,GAAA7J,GACAkG,EAAA1Q,OAAAwK,GACAkG,EAAAtD,cACAJ,EAAAqB,oBAAA,OAAAgG,GAAA,IAGA,QAAAC,GAAA3F,GAAkC,gBAAAnE,GAAgCmE,EAAA3O,OAAAwK,IAClE,QAAA+J,GAAA5F,GAAkC,gBAAAnE,GAAgCmE,EAAAE,QAAArE,IAClE,QAAAgK,GAAA7F,GACA,gBAAAnE,GACA,aAAAA,EAAA0C,MAAA1C,EAAAiK,aACA9F,GAAAvB,cAD6CuB,EAAAE,QAAArE,IAK7C,QAAAkK,GAAA1H,EAAA2H,EAAAC,EAAAC,EAAAxH,GACAnU,KAAA4b,QAAA9H,EACA9T,KAAA6b,OAAAJ,EACAzb,KAAA8b,OAAAJ,EACA1b,KAAA+b,SAAAJ,EACA3b,KAAAib,OAAA9G,EACAnU,KAAAiS,YAAA,EA8BA,MA9DAiD,GAAA0F,EAAAvF,GAmCAmG,EAAApa,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAiS,YAAA,EACA4B,EAAA7T,KAAA4b,QAAA5b,KAAAib,QAEAjb,KAAA4b,QAAAzG,oBAAA,UAAAnV,KAAA6b,QAAA,GACA7b,KAAA4b,QAAAzG,oBAAA,QAAAnV,KAAA8b,QAAA,GACA9b,KAAA4b,QAAAzG,oBAAA,QAAAnV,KAAA+b,UAAA,KAIAnB,EAAAxZ,UAAAwU,cAAA,SAAAH,GACAzV,KAAAgX,OAAAlD,OAAA9T,KAAA+a,UAAA,GAAAiB,WAAAhc,KAAA8a,KAAA9a,KAAA+a,WAAA,GAAAiB,WAAAhc,KAAA8a,KAEA,IAAAK,GAAAD,EAAAlb,KAAAgb,MAAAhb,KAAAgX,OAAAlD,QACAmI,EAAAb,EAAA3F,GACAyG,EAAAb,EAAA5F,GACA0G,EAAAb,EAAA7F,EAOA,OALAzV,MAAAgb,OAAAhb,KAAAgX,OAAAlD,OAAA9B,iBAAA,OAAAmJ,GAAA,GACAnb,KAAAgX,OAAAlD,OAAA9B,iBAAA,UAAAiK,GAAA,GACAjc,KAAAgX,OAAAlD,OAAA9B,iBAAA,QAAAkK,GAAA,GACAlc,KAAAgX,OAAAlD,OAAA9B,iBAAA,QAAAmK,GAAA,GAEA,GAAAX,GAAAxb,KAAAgX,OAAAlD,OAAAmI,EAAAC,EAAAC,EAAAnc,KAAAib,SAGAL,GACGpG,GAEH4H,EAAA,SAAA/G,GAEA,QAAA+G,GAAAjS,EAAAgK,GACAnU,KAAAgX,OAAA7M,EACAnK,KAAAib,OAAA9G,EACAkB,EAAA3U,KAAAV,MAkBA,MAtBAkV,GAAAkH,EAAA/G,GAOA+G,EAAAhb,UAAAkD,KAAA,SAAAqC,GACA3G,KAAAgX,OAAAlD,QAAA9T,KAAAgX,OAAAlD,OAAA4C,aAAAsF,UAAAK,MAAArc,KAAAgX,OAAAlD,OAAAiF,KAAApS,IAGAyV,EAAAhb,UAAAkb,MAAA,SAAAhL,GACA,IAAAA,EAAA0C,KACA,SAAA9L,OAAA,4EAEA2L,GAAA7T,KAAAgX,OAAAlD,OAAA9T,KAAAib,OAAA3J,EAAA0C,KAAA1C,EAAA2C,QAAA,KAGAmI,EAAAhb,UAAAmb,UAAA,WACA1I,EAAA7T,KAAAgX,OAAAlD,OAAA9T,KAAAib,OAAA,SAGAmB,GACG3H,EAcHK,GAAA0H,cAAA,SAAA9E,EAAAmD,EAAA4B,EAAA1I,GACA,IAAAiI,UAAqB,SAAAlX,WAAA,6CACrB,IAAAqF,IAAiB2J,OAAA,KACjB,OAAAvO,GAAA0K,OACA,GAAAmM,GAAAjS,EAAA4J,GACA,GAAA6G,GAAAzQ,EAAAuN,EAAAmD,EAAA4B,EAAA1I,IAIA,IAAA2I,GAAA,SAAArH,GAEA,QAAAqH,GAAAvS,GACAnK,KAAAgX,OAAA7M,EACAkL,EAAA3U,KAAAV,MAOA,MAVAkV,GAAAwH,EAAArH,GAMAqH,EAAAtb,UAAAkD,KAAA,SAAAqC,GAAkD3G,KAAAgX,OAAA2F,QAAA3c,KAAAgX,OAAA2F,OAAAC,YAAAjW,IAClD+V,EAAAtb,UAAAkb,MAAA,SAAAhL,GAAmD,KAAAA,IACnDoL,EAAAtb,UAAAmb,UAAA,aAEAG,GACGjI,GAEHoI,EAAA,SAAAxH,GAEA,QAAAwH,GAAA1S,EAAAuN,GACA1X,KAAAgX,OAAA7M,EACAnK,KAAA8a,KAAApD,EACArC,EAAA3U,KAAAV,MAGA,QAAA8c,GAAArH,GAAsC,gBAAAnE,GAAqCmE,EAAA3O,OAAAwK,IAC3E,QAAA+J,GAAA5F,GAAkC,gBAAAnE,GAAgCmE,EAAAE,QAAArE,IAElE,QAAAyL,GAAAC,EAAAvB,EAAAC,GACA1b,KAAAid,GAAAD,EACAhd,KAAA6b,OAAAJ,EACAzb,KAAA8b,OAAAJ,EACA1b,KAAAiS,YAAA,EAwBA,MAtCAiD,GAAA2H,EAAAxH,GAiBA0H,EAAA3b,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAiS,YAAA,EACAjS,KAAAid,GAAAC,YACAld,KAAAid,GAAA9H,oBAAA,UAAAnV,KAAA6b,QAAA,GACA7b,KAAAid,GAAA9H,oBAAA,QAAAnV,KAAA8b,QAAA,KAIAe,EAAAzb,UAAAwU,cAAA,SAAAH,GACAzV,KAAAgX,OAAA2F,OAAA,GAAAld,GAAA0d,OAAAnd,KAAA8a,KAEA,IAAAsC,GAAAN,EAAArH,GACAyG,EAAAb,EAAA5F,EAKA,OAHAzV,MAAAgX,OAAA2F,OAAA3K,iBAAA,UAAAoL,GAAA,GACApd,KAAAgX,OAAA2F,OAAA3K,iBAAA,QAAAkK,GAAA,GAEA,GAAAa,GAAA/c,KAAAgX,OAAA2F,OAAAS,EAAAlB,IAGAW,GACGrI,EAWHM,GAAAuI,WAAA,SAAA3F,GACA,IAAAjY,EAAA0d,OAAuB,SAAArY,WAAA,0CACvB,IAAAqF,IAAiBwS,OAAA,KACjB,OAAApX,GAAA0K,OAAA,GAAAyM,GAAAvS,GAAA,GAAA0S,GAAA1S,EAAAuN,IAQA,IAAA4F,GAAA,SAAAjI,GAEA,QAAAiI,GAAA5V,EAAAyR,GACAnZ,KAAAud,QAAA7V,EACA1H,KAAAwd,SAAArE,EACA9D,EAAA3U,KAAAV,MAGA,QAAAyd,GAAAC,GACA1d,KAAA2d,GAAAD,EACA1d,KAAAiS,YAAA,EAgBA,MAzBAiD,GAAAoI,EAAAjI,GAYAoI,EAAArc,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAiS,YAAA,EACAjS,KAAA2d,GAAAC,eAIAN,EAAAlc,UAAAwU,cAAA,SAAAH,GACA,GAAAiI,GAAAtJ,EAAA,SAAA9C,GAA+DmE,EAAA3O,OAAAwK,IAE/D,OADAoM,GAAAG,QAAA7d,KAAAud,QAAAvd,KAAAwd,UACA,GAAAC,GAAAC,IAGAJ,GACG9I,EAYHM,GAAAgJ,qBAAA,SAAApW,EAAAyR,GACA,IAAA1Z,EAAA6U,mBAAA7U,EAAA8U,uBAAkE,SAAAzP,WAAA,oDAClE,WAAAwY,GAAA5V,EAAAyR,GAGA,IAAA4E,GAAA,SAAA1I,GAEA,QAAA0I,GAAAC,GACAhe,KAAAie,MAAAD,EACA3I,EAAA3U,KAAAV,MAaA,MAhBAkV,GAAA6I,EAAA1I,GAMA0I,EAAA3c,UAAAwU,cAAA,SAAAH,GACAhW,EAAAye,UAAAC,YAAAC,mBACA,SAAAnU,GACAwL,EAAA3O,OAAAmD,GACAwL,EAAAvB,eAEA,SAAA5C,GAAsBmE,EAAAE,QAAArE,IACtBtR,KAAAie,QAGAF,GACGvJ,GAEH6J,EAAA,SAAAhJ,GAEA,QAAAgJ,GAAAL,GACAhe,KAAAie,MAAAD,EACA3I,EAAA3U,KAAAV,MAGA,QAAAse,GAAA9d,GACAR,KAAAue,IAAA/d,EACAR,KAAAiS,YAAA,EAmBA,MA3BAiD,GAAAmJ,EAAAhJ,GAWAiJ,EAAAld,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAiS,YAAA,EACAxS,EAAAye,UAAAC,YAAAK,WAAAxe,KAAAue,OAIAF,EAAAjd,UAAAwU,cAAA,SAAAH,GACA,GAAAgJ,GAAAhf,EAAAye,UAAAC,YAAAO,cACA,SAAA/X,GAAsB8O,EAAA3O,OAAAH,IACtB,SAAA2K,GAAsBmE,EAAAE,QAAArE,IACtBtR,KAAAie,MAEA,WAAAK,GAAAG,IAGAJ,GACG7J,EAEHpP,GAAA2P,IAAAoJ,aAcAC,mBAAA,SAAAO,GACA,IAAAlf,EAAAye,YAAAze,EAAAmf,WAAAT,YAA4D,SAAArZ,WAAA,4BAC5D,WAAAiZ,GAAAY,IAgBAD,cAAA,SAAAC,GACA,IAAAlf,EAAAye,YAAAze,EAAAmf,WAAAT,YAA4D,SAAArZ,WAAA,4BAC5D,WAAAuZ,GAAAM,GAAA5I,UAAAC,YAIA,IAAA6I,GAAA,SAAAxJ,GAEA,QAAAwJ,GAAAC,EAAAC,EAAA7G,EAAA8G,GACAhf,KAAAif,UAAAH,EACA9e,KAAAkf,MAAAH,EACA/e,KAAAmf,kBAAAjH,EACAlY,KAAAof,UAAAJ,EACA3J,EAAA3U,KAAAV,MAGA,QAAAqf,GAAA5J,EAAA5U,GACA,gBAAAyQ,GACAzQ,KAAAqT,cACAuB,EAAA3O,OAAAwK,EAAA5J,OAAA4X,QACA7J,EAAAvB,eAIA,QAAAqL,GAAA9J,GAAoC,gBAAAnE,GAAmCmE,EAAAE,QAAArE,EAAA5J,OAAA4U,QACvE,QAAAkD,GAAA/J,GAAuC,gBAAAnE,GAAsCmE,EAAA3O,OAAAwK,IAE7E,QAAAmO,GAAAC,EAAAxH,EAAAyH,EAAAC,EAAAC,GACA7f,KAAA8f,GAAAJ,EACA1f,KAAA+f,IAAA7H,EACAlY,KAAAggB,KAAAL,EACA3f,KAAAigB,KAAAL,EACA5f,KAAAkgB,KAAAL,EACA7f,KAAAiS,YAAA,EA6BA,MAvDAiD,GAAA2J,EAAAxJ,GA6BAoK,EAAAre,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAiS,YAAA,EACAjS,KAAA8f,GAAApJ,aAAAjX,EAAA0gB,WAAAC,SAAApgB,KAAA8f,GAAA9G,QACAhZ,KAAA8f,GAAA3K,oBAAA,OAAAnV,KAAAggB,MAAA,GACAhgB,KAAA8f,GAAA3K,oBAAA,QAAAnV,KAAAigB,MAAA,GACAjgB,KAAA+f,KAAA/f,KAAA8f,GAAA3K,oBAAA,WAAAnV,KAAAkgB,MAAA,KAIArB,EAAAzd,UAAAwU,cAAA,SAAAH,GACA,GAAAiK,GAAA,GAAAjgB,GAAA0gB,WAEAR,EAAAN,EAAA5J,EAAAzV,KAAAmf,mBACAS,EAAAL,EAAA9J,GACAoK,EAAAL,EAAAxf,KAAAmf,kBAQA,OANAO,GAAA1N,iBAAA,OAAA2N,GAAA,GACAD,EAAA1N,iBAAA,QAAA4N,GAAA,GACA5f,KAAAmf,mBAAAO,EAAA1N,iBAAA,WAAA6N,GAAA,GAEAH,EAAA1f,KAAAif,WAAAjf,KAAAkf,MAAAlf,KAAAof,WAEA,GAAAK,GAAAC,EAAA1f,KAAAmf,kBAAAQ,EAAAC,EAAAC,IAGAhB,GACGrK,EAUHM,GAAAuL,WAAA,SAAAtB,EAAA7G,GACA,IAAAzY,EAAA0gB,WAA2B,SAAArb,WAAA,8CAE3B,QAKAwb,cAAA,WACA,UAAAzB,GAAA,oBAAAE,EAAA7G,IAMAqI,eAAA,WACA,UAAA1B,GAAA,qBAAAE,EAAA7G,IAMAsI,UAAA,WACA,UAAA3B,GAAA,gBAAAE,EAAA7G,IAMAuI,OAAA,SAAAzB,GACA,UAAAH,GAAA,aAAAE,EAAA7G,EAAA8G,KAKA,IAAA0B,GAAA,SAAArL,GAEA,QAAAqL,GAAAhJ,EAAAF,GACAxX,KAAA8a,KAAApD,EACA1X,KAAAgb,MAAAxD,EACAnC,EAAA3U,KAAAV,MAGA,QAAA2gB,GAAAlL,EAAAmL,GACA,eAAAC,GAAAvP,GACAmE,EAAA3O,OAAAwK,GACAmE,EAAAvB,cACA0M,EAAAzL,oBAAA,OAAA0L,GAAA,IAIA,QAAAC,GAAArL,GACA,gBAAAnE,GACAA,EAAAoF,aAAAqK,YAAAC,OACAvL,EAAAvB,cAEAuB,EAAAE,QAAArE,IAKA,QAAA2P,GAAAxL,GAAiC,gBAAAnE,GAA+BmE,EAAA3O,OAAAwK,EAAArH,OAEhE,QAAAiX,GAAAC,EAAAzF,EAAAD,GACAzb,KAAAkE,GAAAid,EACAnhB,KAAA8b,OAAAJ,EACA1b,KAAA6b,OAAAJ,EACAzb,KAAAiS,YAAA,EAwBA,MAvDAiD,GAAAwL,EAAArL,GAkCA6L,EAAA9f,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAkE,GAAAiR,oBAAA,QAAAnV,KAAA8b,QAAA,GACA9b,KAAAkE,GAAAiR,oBAAA,UAAAnV,KAAA6b,QAAA,GACA7b,KAAAkE,GAAAiQ,UAIAuM,EAAAtf,UAAAwU,cAAA,SAAAH,GACA,GAAAmL,GAAA,GAAAG,aAAA/gB,KAAA8a,MACA+F,EAAAF,EAAA3gB,KAAAgb,MAAA4F,GACAjL,EAAAmL,EAAArL,GACA2L,EAAAH,EAAAxL,EAMA,OAJAzV,MAAAgb,OAAA4F,EAAA5O,iBAAA,OAAA6O,GAAA,GACAD,EAAA5O,iBAAA,QAAA2D,GAAA,GACAiL,EAAA5O,iBAAA,UAAAoP,GAAA,GAEA,GAAAF,GAAAN,EAAAjL,EAAAyL,IAGAV,GACGlM,EAQHM,GAAAuM,gBAAA,SAAA3J,EAAA+E,GACA,IAAAhd,EAAAshB,YAA4B,SAAAjc,WAAA,+CAC5B,WAAA4b,GAAAhJ,EAAA+E,GAGA,IAAA6E,GAAAC,CA+PA,OA9PA9hB,GAAAoG,uBACAyb,EAAA7hB,EAAAoG,sBACA0b,EAAA9hB,EAAA+hB,sBACG/hB,EAAAgiB,0BACHH,EAAA7hB,EAAAgiB,yBACAF,EAAA9hB,EAAAiiB,yBACGjiB,EAAAkiB,6BACHL,EAAA7hB,EAAAkiB,4BACAJ,EAAA9hB,EAAAmiB,4BACGniB,EAAAoiB,yBACHP,EAAA7hB,EAAAoiB,wBACAN,EAAA9hB,EAAAqiB,wBACGriB,EAAAsiB,wBACHT,EAAA7hB,EAAAsiB,uBACAR,EAAA9hB,EAAAuiB,wBAEAV,EAAA,SAAAW,GAAqCxiB,EAAAkX,WAAAsL,EAAA,SACrCV,EAAA9hB,EAAAyiB,cAMAtc,EAAAC,sBAAA,WACA,GAAAsc,GAAA,SAAA9M,GAEA,QAAA8M,KACA9M,EAAA3U,KAAAV,MAGA,QAAAoiB,GAAApV,EAAAqV,EAAAC,EAAAnY,GACA,mBACA6C,EAAAiF,YAAAjF,EAAAuV,cAAAvS,EAAAwS,OAAAH,EAAAC,EAAAnY,MAIA,QAAAsY,GAAAhL,EAAAjX,GACAR,KAAAue,IAAA/d,EACAR,KAAA0iB,QAAAjL,EACAzX,KAAAiS,YAAA,EAuBA,MArCAiD,GAAAiN,EAAA9M,GAiBAoN,EAAArhB,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAiS,YAAA,EACAjS,KAAA0iB,QAAAhiB,KAAA,KAAAV,KAAAue,OAIA4D,EAAA/gB,UAAAuhB,SAAA,SAAAxY,EAAAkY,GACA,GAAArV,GAAA,GAAA6H,GACArU,EAAA8gB,EAAAc,EAAApV,EAAAqV,EAAAriB,KAAAmK,GACA,WAAAyK,GAAA5H,EAAA,GAAAyV,GAAAlB,EAAA/gB,KAGA2hB,EAAA/gB,UAAAwhB,gBAAA,SAAAzY,EAAA0Y,EAAAR,GACA,OAAAQ,EAA4B,MAAA7iB,MAAA2iB,SAAAxY,EAAAkY,EAC5B,IAAArV,GAAA,GAAA6H,GACArU,EAAAf,EAAAkX,WAAAyL,EAAApV,EAAAqV,EAAAriB,KAAAmK,GAAA0Y,EACA,WAAAjO,GAAA5H,EAAA,GAAAyV,GAAAhjB,EAAAyiB,aAAA1hB,KAGA2hB,GACKvc,EAEL,WAAAuc,MAMAvc,EAAAkd,UAAA,WAIA,QAAAC,GAAAC,SACAC,GAAAD,GAGA,QAAAE,GAAAF,GACA,GAAAG,EACA1jB,EAAAkX,WAAA,WAAqCuM,EAAAF,IAAkB,OAChD,CACP,GAAAI,GAAAH,EAAAD,EACA,IAAAI,EAAA,CACAD,GAAA,CACA,KACAC,IACW,MAAA9R,GACX,KAAAA,GACW,QACXyR,EAAAC,GACAG,GAAA,KAMA,QAAAE,KAEA,IAAA5jB,EAAAmd,aAAAnd,EAAA6jB,cAAoD,QACpD,IAAAC,IAAA,EAAAC,EAAA/jB,EAAAgkB,SAMA,OAJAhkB,GAAAgkB,UAAA,WAAoCF,GAAA,GACpC9jB,EAAAmd,YAAA,QACAnd,EAAAgkB,UAAAD,EAEAD,EAyCA,QAAAG,GAAAC,GAEA,gBAAAA,GAAA1Z,MAAA0Z,EAAA1Z,KAAAc,UAAA,EAAA6Y,EAAAlf,UAAAkf,GACAV,EAAAS,EAAA1Z,KAAAc,UAAA6Y,EAAAlf,SA9EA,GAA0Cmf,GAA1CC,EAAA,EAAAb,KAA0CE,GAAA,EAsC1CY,EAAAtkB,EAAA6U,kBAAA7U,EAAA8U,sBACA,IAAAwP,EAAA,CAEA,GAAAC,GAAA,cAEAC,EAAA,GAAAF,GAAA,SAAAG,GACAA,EAAAxZ,QAAA,SAAAyZ,GACAjB,EAAAiB,EAAAC,cAAArZ,UAAAiZ,EAAAtf,aAIAkN,EAAAnS,EAAAgX,SAAAgD,cAAA,MACAwK,GAAApG,QAAAjM,GAAiCyS,YAAA,IAGjC5kB,EAAAuS,iBAAA,oBACAiS,EAAArG,aACAqG,EAAA,OACO,GAEPJ,EAAA,SAAAxB,GACA,GAAA7hB,GAAAsjB,GAGA,OAFAb,GAAAziB,GAAA6hB,EACAzQ,EAAA0S,aAAAN,EAAAxjB,EAAA,cACAA,OAEK,sBAAAf,GAAA8kB,aACLV,EAAA,SAAAxB,GACA,GAAA7hB,GAAAsjB,GAIA,OAHAb,GAAAziB,GAAA6hB,EACA5iB,EAAA8kB,aAAA,WAAuCrB,EAAA1iB,KAEvCA,OAEK,IAAA6iB,IAAA,CACL,GAAAO,GAAA,iBAAAhZ,KAAAC,QASApL,GAAAuS,iBACAvS,EAAAuS,iBAAA,UAAA0R,GAAA,GACOjkB,EAAA+kB,aACP/kB,EAAA+kB,YAAA,YAAAd,GAGAG,EAAA,SAAAxB,GACA,GAAA7hB,GAAAsjB,GAGA,OAFAb,GAAAziB,GAAA6hB,EACA5iB,EAAAmd,YAAAgH,EAAApjB,EAAA,KACAA,OAEK,IAAAf,EAAAglB,eAAA,CACL,GAAAC,GAAA,GAAAjlB,GAAAglB,cAEAC,GAAAC,MAAAlB,UAAA,SAAAE,GACAT,EAAAS,EAAA1Z,OAGA4Z,EAAA,SAAAxB,GACA,GAAA7hB,GAAAsjB,GAGA,OAFAb,GAAAziB,GAAA6hB,EACAqC,EAAAE,MAAAhI,YAAApc,GACAA,OAIAqjB,GAFK,YAAApkB,IAAA,sBAAAA,GAAAgX,SAAAgD,cAAA,UAEL,SAAA4I,GACA,GAAAwC,GAAAplB,EAAAgX,SAAAgD,cAAA,UACAjZ,EAAAsjB,GAWA,OAVAb,GAAAziB,GAAA6hB,EAEAwC,EAAArM,mBAAA,WACA0K,EAAA1iB,GACAqkB,EAAArM,mBAAA,KACAqM,EAAAC,WAAAC,YAAAF,GACAA,EAAA,MAEAplB,EAAAgX,SAAA+D,gBAAAd,YAAAmL,GAEArkB,GAIA,SAAA6hB,GACA,GAAA7hB,GAAAsjB,GAMA,OALAb,GAAAziB,GAAA6hB,EACA5iB,EAAAkX,WAAA,WACAuM,EAAA1iB,IACS,GAETA,EAIA,IAAAwkB,GAAA,SAAA3P,GAEA,QAAA2P,KACA3P,EAAA3U,KAAAV,MAGA,QAAAoiB,GAAApV,EAAAqV,EAAAC,EAAAnY,GACA,mBACA6C,EAAAiF,YAAAjF,EAAAuV,cAAAvS,EAAAwS,OAAAH,EAAAC,EAAAnY,MAIA,QAAAsY,GAAAhL,EAAAjX,GACAR,KAAAue,IAAA/d,EACAR,KAAA0iB,QAAAjL,EACAzX,KAAAiS,YAAA,EAuBA,MArCAiD,GAAA8P,EAAA3P,GAiBAoN,EAAArhB,UAAAuI,QAAA,WACA3J,KAAAiS,aACAjS,KAAAiS,YAAA,EACAjS,KAAA0iB,QAAAhiB,KAAA,KAAAV,KAAAue,OAIAyG,EAAA5jB,UAAAuhB,SAAA,SAAAxY,EAAAkY,GACA,GAAArV,GAAA,GAAA6H,GACArU,EAAAqjB,EAAAzB,EAAApV,EAAAqV,EAAAriB,KAAAmK,GACA,WAAAyK,GAAA5H,EAAA,GAAAyV,GAAAM,EAAAviB,KAGAwkB,EAAA5jB,UAAAwhB,gBAAA,SAAAzY,EAAA0Y,EAAAR,GACA,OAAAQ,EAA4B,MAAA7iB,MAAA2iB,SAAAxY,EAAAkY,EAC5B,IAAArV,GAAA,GAAA6H,GACArU,EAAAf,EAAAkX,WAAAyL,EAAApV,EAAAqV,EAAAriB,KAAAmK,GAAA0Y,EACA,WAAAjO,GAAA5H,EAAA,GAAAyV,GAAAhjB,EAAAyiB,aAAA1hB,KAGAwkB,GACKpf,EAEL,WAAAof,MAGA5f,Mbk1B8B1E,KAAKf,EAASU,EAAoB,IAAIT,GAAU,WAAa,MAAOI,WAI5F,SAASJ,EAAQD,Gc9rEvBC,EAAAD,QAAA,SAAAC,GAQA,MAPAA,GAAAqlB,kBACArlB,EAAAslB,UAAA,aACAtlB,EAAAulB,SAEAvlB,EAAAwlB,YACAxlB,EAAAqlB,gBAAA,GAEArlB,IdssEM,SAASA,EAAQD,Ge9sEvBC,EAAAD,QAAAQ","file":"reframe.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Rx\"), require(\"Immutable\"), require(\"React\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Rx\", \"Immutable\", \"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"reframe\"] = factory(require(\"Rx\"), require(\"Immutable\"), require(\"React\"));\n\telse\n\t\troot[\"reframe\"] = factory(root[\"Rx\"], root[\"Immutable\"], root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_13__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Rx\"), require(\"Immutable\"), require(\"React\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Rx\", \"Immutable\", \"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"reframe\"] = factory(require(\"Rx\"), require(\"Immutable\"), require(\"React\"));\n\telse\n\t\troot[\"reframe\"] = factory(root[\"Rx\"], root[\"Immutable\"], root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_13__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/js/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _commands = __webpack_require__(7);\n\t\n\tvar commands = _interopRequireWildcard(_commands);\n\t\n\tvar _subs = __webpack_require__(2);\n\t\n\tvar subs = _interopRequireWildcard(_subs);\n\t\n\tvar _db = __webpack_require__(4);\n\t\n\tvar db = _interopRequireWildcard(_db);\n\t\n\tvar _atom = __webpack_require__(6);\n\t\n\tvar atom = _interopRequireWildcard(_atom);\n\t\n\tvar _react = __webpack_require__(8);\n\t\n\tvar react = _interopRequireWildcard(_react);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tmodule.exports.registerHandler = commands.registerHandler;\n\tmodule.exports.dispatch = commands.dispatch;\n\tmodule.exports.dispatchSync = commands.dispatchSync;\n\tmodule.exports.registerSub = subs.registerSub;\n\tmodule.exports.subscribe = subs.subscribe;\n\tmodule.exports.indexPath = subs.indexPath;\n\tmodule.exports.db$ = db.db$;\n\tmodule.exports.viewP = react.viewP;\n\tmodule.exports.viewV = react.viewV;\n\tmodule.exports.viewSP = react.viewSP;\n\tmodule.exports.viewSV = react.viewSV;\n\tmodule.exports.view = react.viewSV;\n\tmodule.exports.deref = react.deref;\n\tmodule.exports.atom = atom.atom;\n\tmodule.exports.swap = atom.swap;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.render$ = exports.sync$ = exports.animationFrame$ = undefined;\n\texports.registerSub = registerSub;\n\texports.subscribe = subscribe;\n\texports.indexPath = indexPath;\n\t\n\tvar _rxDom = __webpack_require__(11);\n\t\n\tvar Rx = _interopRequireWildcard(_rxDom);\n\t\n\tvar _dispatcher = __webpack_require__(5);\n\t\n\tvar _subindex = __webpack_require__(10);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar animationFrame$ = exports.animationFrame$ = new Rx.Subject();\n\tvar sync$ = exports.sync$ = new Rx.Subject();\n\tvar requestRender$ = new Rx.BehaviorSubject();\n\tvar render$ = exports.render$ = new Rx.Subject();\n\t\n\tRx.Observable.merge(animationFrame$.throttleLatest(1 / 60, Rx.Scheduler.requestAnimationFrame),\n\t//.observeOn(Rx.Scheduler.requestAnimationFrame),\n\tsync$).scan(function (_ref, _ref2) {\n\t    var _ref4 = _slicedToArray(_ref, 2);\n\t\n\t    var oldVersion = _ref4[0];\n\t    var oldDb = _ref4[1];\n\t\n\t    var _ref3 = _slicedToArray(_ref2, 2);\n\t\n\t    var newVersion = _ref3[0];\n\t    var newDb = _ref3[1];\n\t\n\t    if (newVersion > oldVersion) {\n\t        return [newVersion, newDb];\n\t    }\n\t    return [oldVersion, oldDb];\n\t}, [-1, null]).map(function (_ref5) {\n\t    var _ref6 = _slicedToArray(_ref5, 2);\n\t\n\t    var version = _ref6[0];\n\t    var db = _ref6[1];\n\t    return db;\n\t}).distinctUntilChanged(function (x) {\n\t    return x;\n\t}, function (x, y) {\n\t    return x === y;\n\t}).doOnNext(function (db) {\n\t    requestRender$.onNext(db);\n\t    render$.onNext(true);\n\t}).subscribe();\n\t\n\tvar subDispatcher = new _dispatcher.Dispatcher();\n\tfunction registerSub(name, handler) {\n\t    subDispatcher.register(name, handler);\n\t}\n\t\n\tfunction subscribe(cmd) {\n\t    var handler = subDispatcher.lookup(cmd[0]);\n\t    return handler(requestRender$, cmd);\n\t}\n\t\n\tvar index = new _subindex.Index(function () {\n\t    return requestRender$;\n\t});\n\tfunction indexPath(path, def) {\n\t    return index.sub(path, def);\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.db$ = undefined;\n\t\n\tvar _rx = __webpack_require__(1);\n\t\n\tvar Rx = _interopRequireWildcard(_rx);\n\t\n\tvar _immutable = __webpack_require__(3);\n\t\n\tvar Immutable = _interopRequireWildcard(_immutable);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar db$ = exports.db$ = new Rx.BehaviorSubject(Immutable.Map());\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Dispatcher = exports.Dispatcher = (function () {\n\t    function Dispatcher() {\n\t        _classCallCheck(this, Dispatcher);\n\t\n\t        this.map = {};\n\t    }\n\t\n\t    _createClass(Dispatcher, [{\n\t        key: 'register',\n\t        value: function register(name, handler) {\n\t            if (this.map[name]) {\n\t                throw new Error(name + 'handler is already registered');\n\t            }\n\t            this.map[name] = handler;\n\t        }\n\t    }, {\n\t        key: 'lookup',\n\t        value: function lookup(name) {\n\t            return this.map[name];\n\t        }\n\t    }]);\n\t\n\t    return Dispatcher;\n\t})();\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.atom = atom;\n\texports.swap = swap;\n\t\n\tvar _rx = __webpack_require__(1);\n\t\n\tvar Rx = _interopRequireWildcard(_rx);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction atom(value) {\n\t    return new Rx.BehaviorSubject(value);\n\t}\n\t\n\tfunction swap(aAtom, update) {\n\t    aAtom.onNext(update(aAtom.getValue()));\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.compMiddleware = compMiddleware;\n\texports.registerHandler = registerHandler;\n\texports.dispatch = dispatch;\n\texports.dispatchSync = dispatchSync;\n\t\n\tvar _db = __webpack_require__(4);\n\t\n\tvar _rx = __webpack_require__(1);\n\t\n\tvar Rx = _interopRequireWildcard(_rx);\n\t\n\tvar _subs = __webpack_require__(2);\n\t\n\tvar _dispatcher = __webpack_require__(5);\n\t\n\tvar _immutable = __webpack_require__(3);\n\t\n\tvar Immutable = _interopRequireWildcard(_immutable);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar commandDispatcher = new _dispatcher.Dispatcher();\n\tvar cmd$ = new Rx.Subject();\n\t\n\tfunction compMiddleware(middlewares) {\n\t    return function (handler) {\n\t        var compHandler = middlewares.reverse().filter(function (a) {\n\t            return a;\n\t        }).reduce(function (acc, middleware) {\n\t            return middleware(acc);\n\t        }, handler);\n\t\n\t        return compHandler;\n\t    };\n\t}\n\t\n\tfunction registerHandler() {\n\t    var eventId = undefined,\n\t        middleware = undefined,\n\t        handlerFn = undefined;\n\t\n\t    switch (arguments.length) {\n\t        case 2:\n\t            eventId = arguments[0];\n\t            middleware = function (handler) {\n\t                return handler;\n\t            };\n\t            handlerFn = arguments[1];\n\t            break;\n\t        case 3:\n\t            eventId = arguments[0];\n\t            middleware = Array.isArray(arguments[1]) ? compMiddleware(arguments[1]) : arguments[1];\n\t            handlerFn = arguments[2];\n\t            break;\n\t        default:\n\t            throw new Error('Expected 2 or 3 arguments, got ' + arguments.length);\n\t    }\n\t\n\t    commandDispatcher.register(eventId, middleware(handlerFn));\n\t}\n\t\n\tfunction dispatch(cmd) {\n\t    cmd$.onNext([false, cmd]);\n\t}\n\t\n\tfunction dispatchSync(cmd) {\n\t    cmd$.onNext([true, cmd]);\n\t}\n\t\n\tcmd$.scan(function (_ref, _ref2) {\n\t    var _ref4 = _slicedToArray(_ref, 2);\n\t\n\t    var version = _ref4[0];\n\t    var db = _ref4[1];\n\t\n\t    var _ref3 = _slicedToArray(_ref2, 2);\n\t\n\t    var sync = _ref3[0];\n\t    var cmd = _ref3[1];\n\t\n\t    var handler = commandDispatcher.lookup(cmd[0]);\n\t\n\t    var newDb = handler(db, cmd);\n\t\n\t    if (newDb !== db) {\n\t        _db.db$.onNext(newDb);\n\t        var nextVersion = version + 1;\n\t        if (sync) {\n\t            _subs.sync$.onNext([nextVersion, newDb]);\n\t        } else {\n\t            _subs.animationFrame$.onNext([nextVersion, newDb]);\n\t        }\n\t\n\t        return [nextVersion, newDb];\n\t    }\n\t    return [version, db];\n\t}, [0, Immutable.Map()]).subscribe();\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.SubscriptionMixin = exports.StatelessMixin = undefined;\n\texports.deref = deref;\n\texports.render = render;\n\texports.viewP = viewP;\n\texports.viewV = viewV;\n\texports.viewSP = viewSP;\n\texports.viewSV = viewSV;\n\t\n\tvar _subs = __webpack_require__(2);\n\t\n\tvar subs = _interopRequireWildcard(_subs);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar React = _interopRequireWildcard(_react);\n\t\n\tvar _rx = __webpack_require__(1);\n\t\n\tvar Rx = _interopRequireWildcard(_rx);\n\t\n\tvar _shouldupdate = __webpack_require__(9);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction deref(rx, transform) {\n\t    var ttransform = transform || function (a) {\n\t        return a;\n\t    };\n\t    var subj = new Rx.BehaviorSubject();\n\t    rx.map(ttransform).subscribe(subj).dispose();\n\t    return subj.getValue();\n\t}\n\t\n\tvar data = {\n\t    renderOrder: 0,\n\t    toUpdate: []\n\t};\n\t\n\tfunction shouldUpdateByDerefed(derefed) {\n\t    return derefed.map(function (derefed) {\n\t        return derefed.shouldUpdate();\n\t    }).reduce(function (acc, v) {\n\t        return acc || v;\n\t    }, false);\n\t}\n\t\n\tfunction needUpdate(obj) {\n\t    //console.log('Need update', obj.getDisplayName());\n\t    data.toUpdate.push([obj.state.renderOrder, function () {\n\t        if (shouldUpdateByDerefed(obj.state.derefed)) {\n\t            // console.log('Force update', obj.getDisplayName());\n\t            obj.forceUpdate();\n\t        }\n\t    }]);\n\t}\n\t\n\tfunction render() {\n\t    data.toUpdate.sort(function (_ref, _ref2) {\n\t        var _ref4 = _slicedToArray(_ref, 1);\n\t\n\t        var o1 = _ref4[0];\n\t\n\t        var _ref3 = _slicedToArray(_ref2, 1);\n\t\n\t        var o2 = _ref3[0];\n\t        return o1 - o2;\n\t    });\n\t\n\t    data.toUpdate.forEach(function (_ref5) {\n\t        var _ref6 = _slicedToArray(_ref5, 2);\n\t\n\t        var _ = _ref6[0];\n\t        var forceUpdate = _ref6[1];\n\t        return forceUpdate();\n\t    });\n\t    data.toUpdate = [];\n\t}\n\tsubs.render$.subscribe(render);\n\twindow.render = render;\n\t\n\tvar StatelessMixin = exports.StatelessMixin = {\n\t    shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n\t        return (0, _shouldupdate.shouldUpdate)(this.props, nextProps, ['argv']) || (0, _shouldupdate.shouldUpdate)(this.state, nextState) || (0, _shouldupdate.shouldUpdate)(this.props.argv, nextProps.argv);\n\t    },\n\t    getDisplayName: function getDisplayName() {\n\t        return this.constructor.displayName;\n\t    }\n\t};\n\t\n\tvar DerefedSubscription = (function () {\n\t    function DerefedSubscription(view, rx, aTransform, renderCycle) {\n\t        _classCallCheck(this, DerefedSubscription);\n\t\n\t        var transform = aTransform || function (a) {\n\t            return a;\n\t        },\n\t            replay = new Rx.ReplaySubject(1),\n\t            subj = new Rx.BehaviorSubject();\n\t        var disposable = new Rx.CompositeDisposable(rx.distinctUntilChanged(function (x) {\n\t            return x;\n\t        }, function (x, y) {\n\t            return x === y;\n\t        }).map(transform).subscribe(replay), replay.subscribe(subj), replay.skip(1).subscribe(function () {\n\t            needUpdate(view);\n\t        }));\n\t\n\t        this.disposable = disposable;\n\t        this.subject = subj;\n\t        this.renderCycle = null;\n\t    }\n\t\n\t    _createClass(DerefedSubscription, [{\n\t        key: 'getValue',\n\t        value: function getValue(renderCycle) {\n\t            this.renderCycle = renderCycle;\n\t            this.lastValue = this.subject.getValue();\n\t            return this.lastValue;\n\t        }\n\t    }, {\n\t        key: 'dispose',\n\t        value: function dispose() {\n\t            this.disposable.dispose();\n\t        }\n\t    }, {\n\t        key: 'shouldDispose',\n\t        value: function shouldDispose(renderCycle) {\n\t            return renderCycle > this.renderCycle;\n\t        }\n\t    }, {\n\t        key: 'shouldUpdate',\n\t        value: function shouldUpdate() {\n\t            return this.lastValue !== this.subject.getValue();\n\t        }\n\t    }]);\n\t\n\t    return DerefedSubscription;\n\t})();\n\t\n\tfunction S4() {\n\t    return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n\t};\n\t\n\t// Generate a pseudo-GUID by concatenating random hexadecimal.\n\tfunction guid() {\n\t    return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4();\n\t};\n\t\n\tvar SubscriptionMixin = exports.SubscriptionMixin = {\n\t    derefSub: function derefSub(subVec, transform) {\n\t        return this.deref(subs.subscribe(subVec), transform, Immutable.List(subVec));\n\t    },\n\t\n\t    getDisplayName: function getDisplayName() {\n\t        return this.constructor.displayName;\n\t    },\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            derefed: Immutable.Map(),\n\t            renderOrder: data.renderOrder++,\n\t            renderCycle: 0\n\t        };\n\t    },\n\t    shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n\t        var updateByProps = (0, _shouldupdate.shouldUpdate)(this.props, nextProps, ['argv']) || (0, _shouldupdate.shouldUpdate)(this.props.argv, nextProps.argv),\n\t            updateByState = (0, _shouldupdate.shouldUpdate)(this.state, nextState, ['derefed', 'renderOrder', 'renderCycle']);\n\t\n\t        return updateByProps || updateByState;\n\t    },\n\t    deref: function deref(rx, aTransform, aId) {\n\t        var id = aId || guid();\n\t        if (this.state.derefed.get(id)) {\n\t            return this.state.derefed.get(id).getValue(this.state.renderCycle);\n\t        }\n\t        var derefed = new DerefedSubscription(this, rx, aTransform);\n\t\n\t        this.state.derefed = this.state.derefed.set(id, derefed);\n\t\n\t        return derefed.getValue(this.state.renderCycle);\n\t    },\n\t    unsubscribe: function unsubscribe() {\n\t        this.state.derefed.forEach(function (derefed) {\n\t            derefed.dispose();\n\t        });\n\t\n\t        this.state.derefed = Immutable.Map();\n\t    },\n\t    componentWillUpdate: function componentWillUpdate() {\n\t        // console.log('Rendering', this.getDisplayName());\n\t        this.state.renderCycle++;\n\t        //this.unsubscribe();\n\t    },\n\t    componentDidUpdate: function componentDidUpdate() {\n\t        var _this = this;\n\t\n\t        this.state.derefed.filter(function (derefed) {\n\t            return derefed.shouldDispose(_this.state.renderCycle);\n\t        }).forEach(function (item) {\n\t            return item.dispose();\n\t        });\n\t\n\t        this.state.derefed = this.state.derefed.filter(function (derefed) {\n\t            return !derefed.shouldDispose(_this.state.renderCycle);\n\t        });\n\t    },\n\t    componentWillUnmount: function componentWillUnmount() {\n\t        this.unsubscribe();\n\t    }\n\t};\n\t\n\tfunction createComponentObj(mixins, args) {\n\t    var componentObj = undefined;\n\t    switch (args.length) {\n\t        case 2:\n\t            if (typeof args[1].prototype === 'undefined') {\n\t                args[1].mixins = mixins;\n\t                componentObj = args[1];\n\t            } else {\n\t                componentObj = {\n\t                    mixins: mixins,\n\t                    render: args[1]\n\t                };\n\t            }\n\t            break;\n\t        case 3:\n\t            if (typeof args[2].prototype === 'undefined') {\n\t                // it's an object\n\t                args[2].mixins = mixins.concat(args[1]);\n\t                componentObj = args[2];\n\t            } else {\n\t                // it's a render function\n\t                componentObj = {\n\t                    mixins: mixins.concat(args[1]),\n\t                    render: args[2]\n\t                };\n\t            }\n\t            break;\n\t        default:\n\t            throw new Error('Expected 2 or 3 arguments, got ' + args.length);\n\t    }\n\t    componentObj.displayName = args[0];\n\t    return componentObj;\n\t}\n\t\n\tfunction propsView(mixin, args) {\n\t    var componentObj = createComponentObj(mixin, args);\n\t    var oldRender = componentObj.render;\n\t    componentObj.render = function () {\n\t        return oldRender.call(this, this.props);\n\t    };\n\t\n\t    var component = React.createClass(componentObj);\n\t\n\t    return React.createFactory(component);\n\t}\n\t\n\tfunction vectorView(mixin, args) {\n\t    var componentObj = createComponentObj(mixin, args);\n\t    var oldRender = componentObj.render;\n\t    componentObj.render = function () {\n\t        return oldRender.apply(this, this.props.argv);\n\t    };\n\t    var component = React.createClass(componentObj);\n\t    var factory = React.createFactory(component);\n\t\n\t    return function () {\n\t        return factory({ argv: Array.prototype.slice.call(arguments) });\n\t    };\n\t}\n\t\n\tfunction viewP() {\n\t    return propsView([StatelessMixin], arguments);\n\t}\n\t\n\tfunction viewV() {\n\t    return vectorView([StatelessMixin], arguments);\n\t}\n\t\n\tfunction viewSP() {\n\t    return propsView([SubscriptionMixin], arguments);\n\t}\n\t\n\tfunction viewSV() {\n\t    return vectorView([SubscriptionMixin], arguments);\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict'\n\t\n\t/**\n\t * If props does not exist return false - Pure render mixin. If props exists and it contains mutable entries,\n\t * return false. If props contains only immutable entries compare them by type.\n\t *\n\t * @param {object} props current props\n\t * @param {object} nextProps new props\n\t * @param {array} ignore ignore these keys\n\t * @returns {boolean} true if component should be rerendered\n\t */\n\t;\n\t\n\tvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.shouldUpdate = shouldUpdate;\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tfunction shouldUpdate(props, nextProps, ignore) {\n\t    var entries = undefined;\n\t    if (nextProps === props || nextProps.length !== props.length) {\n\t        return false;\n\t    }\n\t    if (ignore && ignore.length > 0) {\n\t        entries = Object.keys(props).filter(function (k) {\n\t            return ignore.indexOf(k) >= 0;\n\t        }).map(function (k) {\n\t            return [props[k], nextProps[k]];\n\t        });\n\t    } else {\n\t        entries = Object.keys(props).map(function (k) {\n\t            return [props[k], nextProps[k]];\n\t        });\n\t    }\n\t\n\t    if (entries.length) {\n\t        return !entries.every(function (_ref) {\n\t            var _ref2 = _slicedToArray(_ref, 2);\n\t\n\t            var value = _ref2[0];\n\t            var nextValue = _ref2[1];\n\t\n\t            if (isPrimitive(value) && isPrimitive(nextValue) || isImmutable(value) && isImmutable(nextValue)) {\n\t\n\t                return value === nextValue;\n\t            }\n\t            return false;\n\t        });\n\t    }\n\t    return false;\n\t}\n\tfunction isImmutable(maybeImmutable) {\n\t    return Immutable.Iterable.isIterable(maybeImmutable);\n\t}\n\t\n\tfunction isPrimitive(value) {\n\t    var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\t    return type === 'number' || type === 'boolean' || type === 'string' || value === null || value === void 0;\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Index = undefined;\n\t\n\tvar _immutable = __webpack_require__(3);\n\t\n\tvar Immutable = _interopRequireWildcard(_immutable);\n\t\n\tvar _rx = __webpack_require__(1);\n\t\n\tvar Rx = _interopRequireWildcard(_rx);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar LISTENER_SENTINEL = {};\n\t\n\tvar Index = exports.Index = (function () {\n\t    function Index(rx) {\n\t        _classCallCheck(this, Index);\n\t\n\t        this.listeners = Immutable.Map();\n\t        this.rx = rx;\n\t    }\n\t\n\t    _createClass(Index, [{\n\t        key: 'sub',\n\t        value: function sub(path, def) {\n\t            var _this = this;\n\t\n\t            var self = this;\n\t\n\t            var slices = [];\n\t            for (var i = 0; i < path.length; i++) {\n\t                slices.push(Array.prototype.slice.call(path.slice(0, i + 1)));\n\t            }\n\t            this.listeners = slices.reduce(function (acc, pathSlice) {\n\t                var parentPath = pathSlice.slice(0, pathSlice.length - 1);\n\t                var parentRx = parentPath.length === 0 ? _this.rx() : acc.getIn(parentPath.concat(LISTENER_SENTINEL));\n\t                var lastFragment = pathSlice[pathSlice.length - 1];\n\t                return acc.updateIn(pathSlice.concat(LISTENER_SENTINEL), function (old) {\n\t                    if (old) {\n\t                        return old;\n\t                    }\n\t                    var subject = new Rx.ReplaySubject(1),\n\t                        subscription = parentRx.map(function (a) {\n\t                        if (a && a.get) {\n\t                            return a.get(lastFragment);\n\t                        }\n\t                    }).distinctUntilChanged(function (x) {\n\t                        return x;\n\t                    }, function (x, y) {\n\t                        return x === y;\n\t                    })\n\t                    //.doOnNext(v => console.log('v', v.toJS()))\n\t                    .subscribe(subject);\n\t                    var oldSubscribe = subject.subscribe;\n\t                    subject.subscribe = function () {\n\t                        var sub = oldSubscribe.apply(this, arguments);\n\t\n\t                        return Rx.Disposable.create(function () {\n\t                            sub.dispose();\n\t                            if (!subject.hasObservers()) {\n\t                                subscription.dispose();\n\t                                self.listeners = self.listeners.removeIn(pathSlice);\n\t                            }\n\t                        });\n\t                    };\n\t                    return subject;\n\t                });\n\t            }, this.listeners);\n\t\n\t            return this.listeners.getIn(path.concat([LISTENER_SENTINEL])).map(function (a) {\n\t                return typeof a !== 'undefined' ? a : def;\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Index;\n\t})();\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {// Copyright (c) Microsoft, Inc. All rights reserved. See License.txt in the project root for license information.\n\t\n\t;(function (factory) {\n\t  var objectTypes = {\n\t    'function': true,\n\t    'object': true\n\t  };\n\t\n\t  function checkGlobal(value) {\n\t    return (value && value.Object === Object) ? value : null;\n\t  }\n\t\n\t  var freeExports = (objectTypes[typeof exports] && exports && !exports.nodeType) ? exports : null;\n\t  var freeModule = (objectTypes[typeof module] && module && !module.nodeType) ? module : null;\n\t  var freeGlobal = checkGlobal(freeExports && freeModule && typeof global === 'object' && global);\n\t  var freeSelf = checkGlobal(objectTypes[typeof self] && self);\n\t  var freeWindow = checkGlobal(objectTypes[typeof window] && window);\n\t  var moduleExports = (freeModule && freeModule.exports === freeExports) ? freeExports : null;\n\t  var thisGlobal = checkGlobal(objectTypes[typeof this] && this);\n\t  var root = freeGlobal || ((freeWindow !== (thisGlobal && thisGlobal.window)) && freeWindow) || freeSelf || thisGlobal || Function('return this')();\n\t\n\t  // Because of build optimizers\n\t  if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = function (Rx, exports) {\n\t      return factory(root, exports, Rx);\n\t    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  } else if (typeof module === 'object' && module && module.exports === freeExports) {\n\t    module.exports = factory(root, module.exports, require('rx'));\n\t  } else {\n\t    root.Rx = factory(root, {}, root.Rx);\n\t  }\n\t}.call(this, function (root, exp, Rx, undefined) {\n\t\n\t  var Observable = Rx.Observable,\n\t    ObservableBase = Rx.ObservableBase,\n\t    AbstractObserver = Rx.internals.AbstractObserver,\n\t    observerCreate = Rx.Observer.create,\n\t    observableCreate = Rx.Observable.create,\n\t    disposableCreate = Rx.Disposable.create,\n\t    Disposable = Rx.Disposable,\n\t    CompositeDisposable = Rx.CompositeDisposable,\n\t    BinaryDisposable = Rx.BinaryDisposable,\n\t    SingleAssignmentDisposable = Rx.SingleAssignmentDisposable,\n\t    Subject = Rx.Subject,\n\t    Scheduler = Rx.Scheduler,\n\t    dom = Rx.DOM = {},\n\t    hasOwnProperty = {}.hasOwnProperty,\n\t    noop = Rx.helpers.noop,\n\t    isFunction = Rx.helpers.isFunction,\n\t    inherits = Rx.internals.inherits;\n\t\n\t  var errorObj = {e: {}};\n\t\n\t  function tryCatcherGen(tryCatchTarget) {\n\t    return function tryCatcher() {\n\t      try {\n\t        return tryCatchTarget.apply(this, arguments);\n\t      } catch (e) {\n\t        errorObj.e = e;\n\t        return errorObj;\n\t      }\n\t    };\n\t  }\n\t\n\t  function tryCatch(fn) {\n\t    if (!isFunction(fn)) { throw new TypeError('fn must be a function'); }\n\t    return tryCatcherGen(fn);\n\t  }\n\t\n\t  function thrower(e) {\n\t    throw e;\n\t  }\n\t\n\t  function CreateListenerDisposable(element, name, handler, useCapture) {\n\t    this._e = element;\n\t    this._n = name;\n\t    this._fn = handler;\n\t    this._u = useCapture;\n\t    this._e.addEventListener(this._n, this._fn, this._u);\n\t    this.isDisposed = false;\n\t  }\n\t\n\t  CreateListenerDisposable.prototype.dispose = function () {\n\t    if (!this.isDisposed) {\n\t      this.isDisposed = true;\n\t      this._e.removeEventListener(this._n, this._fn, this._u);\n\t    }\n\t  };\n\t\n\t  function createListener (element, name, handler, useCapture) {\n\t    if (element.addEventListener) {\n\t      return new CreateListenerDisposable(element, name, handler, useCapture);\n\t    }\n\t    throw new Error('No listener found');\n\t  }\n\t\n\t  function createEventListener (el, eventName, handler, useCapture) {\n\t    var disposables = new CompositeDisposable();\n\t\n\t    // Asume NodeList or HTMLCollection\n\t    var toStr = Object.prototype.toString;\n\t    if (toStr.call(el) === '[object NodeList]' || toStr.call(el) === '[object HTMLCollection]') {\n\t      for (var i = 0, len = el.length; i < len; i++) {\n\t        disposables.add(createEventListener(el.item(i), eventName, handler, useCapture));\n\t      }\n\t    } else if (el) {\n\t      disposables.add(createListener(el, eventName, handler, useCapture));\n\t    }\n\t    return disposables;\n\t  }\n\t\n\t  var FromEventObservable = (function(__super__) {\n\t    inherits(FromEventObservable, __super__);\n\t    function FromEventObservable(element, eventName, selector, useCapture) {\n\t      this._e = element;\n\t      this._n = eventName;\n\t      this._fn = selector;\n\t      this._uc = useCapture;\n\t      __super__.call(this);\n\t    }\n\t\n\t    function createHandler(o, fn) {\n\t      return function handler() {\n\t        var results = arguments[0];\n\t        if (fn) {\n\t          results = tryCatch(fn).apply(null, arguments);\n\t          if (results === errorObj) { return o.onError(results.e); }\n\t        }\n\t        o.onNext(results);\n\t      };\n\t    }\n\t\n\t    FromEventObservable.prototype.subscribeCore = function (o) {\n\t      return createEventListener(\n\t        this._e,\n\t        this._n,\n\t        createHandler(o, this._fn),\n\t        this._uc);\n\t    };\n\t\n\t    return FromEventObservable;\n\t  }(ObservableBase));\n\t\n\t  /**\n\t   * Creates an observable sequence by adding an event listener to the matching DOMElement or each item in the NodeList.\n\t   * @param {Object} element The DOMElement or NodeList to attach a listener.\n\t   * @param {String} eventName The event name to attach the observable sequence.\n\t   * @param {Function} [selector] A selector which takes the arguments from the event handler to produce a single item to yield on next.\n\t   * @param {Boolean} [useCapture] If true, useCapture indicates that the user wishes to initiate capture. After initiating capture, all events of the specified type will be dispatched to the registered listener before being dispatched to any EventTarget beneath it in the DOM tree. Events which are bubbling upward through the tree will not trigger a listener designated to use capture\n\t   * @returns {Observable} An observable sequence of events from the specified element and the specified event.\n\t   */\n\t  var fromEvent = dom.fromEvent = function (element, eventName, selector, useCapture) {\n\t    var selectorFn = isFunction(selector) ? selector : null;\n\t    typeof selector === 'boolean' && (useCapture = selector);\n\t    typeof useCapture === 'undefined' && (useCapture = false);\n\t    return new FromEventObservable(element, eventName, selectorFn, useCapture).publish().refCount();\n\t  };\n\t\n\t  (function () {\n\t    var events = 'blur focus focusin focusout load resize scroll unload click dblclick ' +\n\t      'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave ' +\n\t      'change select submit keydown keypress keyup error contextmenu input';\n\t\n\t    if (root.PointerEvent) {\n\t      events += ' pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave';\n\t    }\n\t\n\t    if (root.TouchEvent) {\n\t      events += ' touchstart touchend touchmove touchcancel';\n\t    }\n\t\n\t    events = events.split(' ');\n\t\n\t    for(var i = 0, len = events.length; i < len; i++) {\n\t      (function (e) {\n\t        dom[e] = function (element, selector, useCapture) {\n\t          return fromEvent(element, e, selector, useCapture);\n\t        };\n\t      }(events[i]))\n\t    }\n\t  }());\n\t\n\t  var ReadyObservable = (function (__super__) {\n\t    inherits(ReadyObservable, __super__);\n\t    function ReadyObservable() {\n\t      __super__.call(this);\n\t    }\n\t\n\t    function createHandler(o) {\n\t      return function handler() {\n\t        o.onNext();\n\t        o.onCompleted();\n\t      };\n\t    }\n\t\n\t    ReadyObservable.prototype.subscribeCore = function (o) {\n\t      return new ReadyDisposable(o, createHandler(o));\n\t    };\n\t\n\t    function ReadyDisposable(o, fn) {\n\t      this._o = o;\n\t      this._fn = fn;\n\t      this._addedHandlers = false;\n\t      this.isDisposed = false;\n\t\n\t      if (root.document.readyState === 'complete') {\n\t        setTimeout(this._fn, 0);\n\t      } else {\n\t        this._addedHandlers = true;\n\t        root.document.addEventListener( 'DOMContentLoaded', this._fn, false );\n\t      }\n\t    }\n\t\n\t    ReadyDisposable.prototype.dispose = function () {\n\t      if (!this.isDisposed) {\n\t        this.isDisposed = true;\n\t        root.document.removeEventListener( 'DOMContentLoaded', this._fn, false );\n\t      }\n\t    };\n\t\n\t    return ReadyObservable;\n\t  }(ObservableBase));\n\t\n\t  /**\n\t   * Creates an observable sequence when the DOM is loaded\n\t   * @returns {Observable} An observable sequence fired when the DOM is loaded\n\t   */\n\t  dom.ready = function () {\n\t    return new ReadyObservable();\n\t  };\n\t\n\t\n\t  // Gets the proper XMLHttpRequest for support for older IE\n\t  function getXMLHttpRequest() {\n\t    if (root.XMLHttpRequest) {\n\t      return new root.XMLHttpRequest();\n\t    } else {\n\t      var progId;\n\t      try {\n\t        var progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'];\n\t        for(var i = 0; i < 3; i++) {\n\t          try {\n\t            progId = progIds[i];\n\t            if (new root.ActiveXObject(progId)) {\n\t              break;\n\t            }\n\t          } catch(e) { }\n\t        }\n\t        return new root.ActiveXObject(progId);\n\t      } catch (e) {\n\t        throw new Error('XMLHttpRequest is not supported by your browser');\n\t      }\n\t    }\n\t  }\n\t\n\t  // Get CORS support even for older IE\n\t  function getCORSRequest() {\n\t    var xhr = new root.XMLHttpRequest();\n\t    if ('withCredentials' in xhr) {\n\t      xhr.withCredentials = true;\n\t      return xhr;\n\t    } else if (!!root.XDomainRequest) {\n\t      return new XDomainRequest();\n\t    } else {\n\t      throw new Error('CORS is not supported by your browser');\n\t    }\n\t  }\n\t\n\t  function normalizeAjaxSuccessEvent(e, xhr, settings) {\n\t    var response = ('response' in xhr) ? xhr.response : xhr.responseText;\n\t    response = settings.responseType === 'json' ? JSON.parse(response) : response;\n\t    return {\n\t      response: response,\n\t      status: xhr.status,\n\t      responseType: xhr.responseType,\n\t      xhr: xhr,\n\t      originalEvent: e\n\t    };\n\t  }\n\t\n\t  function normalizeAjaxErrorEvent(e, xhr, type) {\n\t    return {\n\t      type: type,\n\t      status: xhr.status,\n\t      xhr: xhr,\n\t      originalEvent: e\n\t    };\n\t  }\n\t\n\t  var AjaxObservable = (function(__super__) {\n\t    inherits(AjaxObservable, __super__);\n\t    function AjaxObservable(settings) {\n\t      this._settings = settings;\n\t      __super__.call(this);\n\t    }\n\t\n\t    AjaxObservable.prototype.subscribeCore = function (o) {\n\t      var state = { isDone: false };\n\t      var xhr;\n\t\n\t      var settings = this._settings;\n\t      var normalizeError = settings.normalizeError;\n\t      var normalizeSuccess = settings.normalizeSuccess;\n\t\n\t      var processResponse = function(xhr, e){\n\t        var status = xhr.status === 1223 ? 204 : xhr.status;\n\t        if ((status >= 200 && status <= 300) || status === 0 || status === '') {\n\t          o.onNext(normalizeSuccess(e, xhr, settings));\n\t          o.onCompleted();\n\t        } else {\n\t          o.onError(settings.normalizeError(e, xhr, 'error'));\n\t        }\n\t        state.isDone = true;\n\t      };\n\t\n\t      try {\n\t        xhr = settings.createXHR();\n\t      } catch (err) {\n\t        return o.onError(err);\n\t      }\n\t\n\t      try {\n\t        if (settings.user) {\n\t          xhr.open(settings.method, settings.url, settings.async, settings.user, settings.password);\n\t        } else {\n\t          xhr.open(settings.method, settings.url, settings.async);\n\t        }\n\t\n\t        var headers = settings.headers;\n\t        for (var header in headers) {\n\t          if (hasOwnProperty.call(headers, header)) {\n\t            xhr.setRequestHeader(header, headers[header]);\n\t          }\n\t        }\n\t\n\t        xhr.timeout = settings.timeout;\n\t        xhr.ontimeout = function (e) {\n\t          settings.progressObserver && settings.progressObserver.onError(e);\n\t          o.onError(normalizeError(e, xhr, 'timeout'));\n\t        };\n\t\n\t        if(!!xhr.upload || (!('withCredentials' in xhr) && !!root.XDomainRequest)) {\n\t          xhr.onload = function(e) {\n\t            if(settings.progressObserver) {\n\t              settings.progressObserver.onNext(e);\n\t              settings.progressObserver.onCompleted();\n\t            }\n\t            processResponse(xhr, e);\n\t          };\n\t\n\t          if(settings.progressObserver) {\n\t            xhr.onprogress = function(e) {\n\t              settings.progressObserver.onNext(e);\n\t            };\n\t          }\n\t\n\t          xhr.onerror = function(e) {\n\t            settings.progressObserver && settings.progressObserver.onError(e);\n\t            o.onError(normalizeError(e, xhr, 'error'));\n\t            state.isDone = true;\n\t          };\n\t\n\t          xhr.onabort = function(e) {\n\t            settings.progressObserver && settings.progressObserver.onError(e);\n\t            o.onError(normalizeError(e, xhr, 'abort'));\n\t            state.isDone = true;\n\t          };\n\t        } else {\n\t          xhr.onreadystatechange = function (e) {\n\t            xhr.readyState === 4 && processResponse(xhr, e);\n\t          };\n\t        }\n\t\n\t        var contentType = settings.headers['Content-Type'] ||\n\t            settings.headers['Content-type'] ||\n\t            settings.headers['content-type'];\n\t        if (settings.hasContent && contentType === 'application/x-www-form-urlencoded' && typeof settings.body !== 'string') {\n\t          var newBody = [];\n\t          for (var prop in settings.body) {\n\t            if (hasOwnProperty.call(settings.body, prop)) {\n\t              newBody.push(prop + '=' + settings.body[prop]);\n\t            }\n\t          }\n\t          settings.body = newBody.join('&');\n\t        }\n\t\n\t        xhr.send(settings.hasContent && settings.body || null);\n\t      } catch (e) {\n\t        o.onError(e);\n\t      }\n\t\n\t      return new AjaxDisposable(state, xhr);\n\t    };\n\t\n\t    function AjaxDisposable(state, xhr) {\n\t      this._state = state;\n\t      this._xhr = xhr;\n\t      this.isDisposed = false;\n\t    }\n\t\n\t    AjaxDisposable.prototype.dispose = function () {\n\t      if (!this.isDisposed) {\n\t        this.isDisposed = true;\n\t        if (!this._state.isDone && this._xhr.readyState !== 4) { this._xhr.abort(); }\n\t      }\n\t    };\n\t\n\t    return AjaxObservable;\n\t  }(ObservableBase));\n\t\n\t  /**\n\t   * Creates an observable for an Ajax request with either a settings object with url, headers, etc or a string for a URL.\n\t   *\n\t   * @example\n\t   *   source = Rx.DOM.ajax('/products');\n\t   *   source = Rx.DOM.ajax( url: 'products', method: 'GET' });\n\t   *\n\t   * @param {Object} settings Can be one of the following:\n\t   *\n\t   *  A string of the URL to make the Ajax call.\n\t   *  An object with the following properties\n\t   *   - url: URL of the request\n\t   *   - body: The body of the request\n\t   *   - method: Method of the request, such as GET, POST, PUT, PATCH, DELETE\n\t   *   - async: Whether the request is async\n\t   *   - headers: Optional headers\n\t   *   - crossDomain: true if a cross domain request, else false\n\t   *\n\t   * @returns {Observable} An observable sequence containing the XMLHttpRequest.\n\t  */\n\t  var ajaxRequest = dom.ajax = function (options) {\n\t    var settings = {\n\t      method: 'GET',\n\t      crossDomain: false,\n\t      async: true,\n\t      headers: {},\n\t      responseType: 'text',\n\t      timeout: 0,\n\t      createXHR: function(){\n\t        return this.crossDomain ? getCORSRequest() : getXMLHttpRequest()\n\t      },\n\t      normalizeError: normalizeAjaxErrorEvent,\n\t      normalizeSuccess: normalizeAjaxSuccessEvent\n\t    };\n\t\n\t    if(typeof options === 'string') {\n\t      settings.url = options;\n\t    } else {\n\t      for(var prop in options) {\n\t        if(hasOwnProperty.call(options, prop)) {\n\t          settings[prop] = options[prop];\n\t        }\n\t      }\n\t    }\n\t\n\t    if (!settings.crossDomain && !settings.headers['X-Requested-With']) {\n\t      settings.headers['X-Requested-With'] = 'XMLHttpRequest';\n\t    }\n\t    settings.hasContent = settings.body !== undefined;\n\t\n\t    return new AjaxObservable(settings);\n\t  };\n\t\n\t  /**\n\t   * Creates an observable sequence from an Ajax POST Request with the body.\n\t   *\n\t   * @param {String} url The URL to POST\n\t   * @param {Object} body The body to POST\n\t   * @returns {Observable} The observable sequence which contains the response from the Ajax POST.\n\t   */\n\t  dom.post = function (url, body) {\n\t    var settings;\n\t    if (typeof url === 'string') {\n\t      settings = {url: url, body: body, method: 'POST' };\n\t    } else if (typeof url === 'object') {\n\t      settings = url;\n\t      settings.method = 'POST';\n\t    }\n\t    return ajaxRequest(settings);\n\t  };\n\t\n\t  /**\n\t   * Creates an observable sequence from an Ajax GET Request with the body.\n\t   *\n\t   * @param {String} url The URL to GET\n\t   * @returns {Observable} The observable sequence which contains the response from the Ajax GET.\n\t   */\n\t  dom.get = function (url) {\n\t    var settings;\n\t    if (typeof url === 'string') {\n\t      settings = {url: url };\n\t    } else if (typeof url === 'object') {\n\t      settings = url;\n\t    }\n\t    return ajaxRequest(settings);\n\t  };\n\t\n\t  /**\n\t   * Creates an observable sequence from JSON from an Ajax request\n\t   *\n\t   * @param {String} url The URL to GET\n\t   * @returns {Observable} The observable sequence which contains the parsed JSON.\n\t   */\n\t  dom.getJSON = function (url) {\n\t    if (!root.JSON && typeof root.JSON.parse !== 'function') { throw new TypeError('JSON is not supported in your runtime.'); }\n\t    return ajaxRequest({url: url, responseType: 'json'}).map(function (x) {\n\t      return x.response;\n\t    });\n\t  };\n\t\n\t  var destroy = (function () {\n\t    var trash = 'document' in root && root.document.createElement('div');\n\t    return function (element) {\n\t      trash.appendChild(element);\n\t      trash.innerHTML = '';\n\t    };\n\t  })();\n\t\n\t  var ScriptObservable = (function(__super__) {\n\t    inherits(ScriptObservable, __super__);\n\t    function ScriptObservable(settings) {\n\t      this._settings = settings;\n\t      __super__.call(this);\n\t    }\n\t\n\t    ScriptObservable.id = 0;\n\t\n\t    ScriptObservable.prototype.subscribeCore = function (o) {\n\t      var settings = {\n\t        jsonp: 'JSONPCallback',\n\t        async: true,\n\t        jsonpCallback: 'rxjsjsonpCallbacks' + 'callback_' + (ScriptObservable.id++).toString(36)\n\t      };\n\t\n\t      if(typeof this._settings === 'string') {\n\t        settings.url = this._settings;\n\t      } else {\n\t        for(var prop in this._settings) {\n\t          if(hasOwnProperty.call(this._settings, prop)) {\n\t            settings[prop] = this._settings[prop];\n\t          }\n\t        }\n\t      }\n\t\n\t      var script = root.document.createElement('script');\n\t      script.type = 'text/javascript';\n\t      script.async = settings.async;\n\t      script.src = settings.url.replace(settings.jsonp, settings.jsonpCallback);\n\t\n\t      root[settings.jsonpCallback] = function(data) {\n\t        root[settings.jsonpCallback].called = true;\n\t        root[settings.jsonpCallback].data = data;\n\t      };\n\t\n\t      var handler = function(e) {\n\t        if(e.type === 'load' && !root[settings.jsonpCallback].called) {\n\t          e = { type: 'error' };\n\t        }\n\t        var status = e.type === 'error' ? 400 : 200;\n\t        var data = root[settings.jsonpCallback].data;\n\t\n\t        if(status === 200) {\n\t          o.onNext({\n\t            status: status,\n\t            responseType: 'jsonp',\n\t            response: data,\n\t            originalEvent: e\n\t          });\n\t\n\t          o.onCompleted();\n\t        }\n\t        else {\n\t          o.onError({\n\t            type: 'error',\n\t            status: status,\n\t            originalEvent: e\n\t          });\n\t        }\n\t      };\n\t\n\t      script.onload = script.onreadystatechanged = script.onerror = handler;\n\t\n\t      var head = root.document.getElementsByTagName('head')[0] || root.document.documentElement;\n\t      head.insertBefore(script, head.firstChild);\n\t\n\t      return new ScriptDisposable(script);\n\t    };\n\t\n\t    function ScriptDisposable(script) {\n\t      this._script = script;\n\t      this.isDisposed = false;\n\t    }\n\t\n\t    ScriptDisposable.prototype.dispose = function () {\n\t      if (!this.isDisposed) {\n\t        this.isDisposed = true;\n\t        this._script.onload = this._script.onreadystatechanged = this._script.onerror = null;\n\t        destroy(this._script);\n\t        this._script = null;\n\t      }\n\t    };\n\t\n\t    return ScriptObservable;\n\t  }(ObservableBase));\n\t\n\t  /**\n\t   * Creates an observable JSONP Request with the specified settings.\n\t   * @param {Object} settings Can be one of the following:\n\t   *\n\t   *  A string of the URL to make the JSONP call with the JSONPCallback=? in the url.\n\t   *  An object with the following properties\n\t   *   - url: URL of the request\n\t   *   - jsonp: The named callback parameter for the JSONP call\n\t   *   - jsonpCallback: Callback to execute. For when the JSONP callback can't be changed\n\t   *\n\t   * @returns {Observable} A cold observable containing the results from the JSONP call.\n\t   */\n\t   dom.jsonpRequest = function (settings) {\n\t     return new ScriptObservable(settings);\n\t   };\n\t\n\t  function socketClose(socket, closingObserver, code, reason) {\n\t    if (socket) {\n\t      if (closingObserver) {\n\t        closingObserver.onNext();\n\t        closingObserver.onCompleted();\n\t      }\n\t      if (!code) {\n\t        socket.close();\n\t      } else {\n\t        socket.close(code, reason);\n\t      }\n\t    }\n\t  }\n\t\n\t  var SocketObservable = (function (__super__) {\n\t    inherits(SocketObservable, __super__);\n\t    function SocketObservable(state, url, protocol, open, close) {\n\t      this._state = state;\n\t      this._url = url;\n\t      this._protocol = protocol;\n\t      this._open = open;\n\t      this._close = close;\n\t      __super__.call(this);\n\t    }\n\t\n\t    function createOpenHandler(open, socket) {\n\t      return function openHandler(e) {\n\t        open.onNext(e);\n\t        open.onCompleted();\n\t        socket.removeEventListener('open', openHandler, false);\n\t      };\n\t    }\n\t    function createMsgHandler(o) { return function msgHandler(e) { o.onNext(e); }; }\n\t    function createErrHandler(o) { return function errHandler(e) { o.onError(e); }; }\n\t    function createCloseHandler(o) {\n\t      return function closeHandler(e) {\n\t        if (e.code !== 1000 || !e.wasClean) { return o.onError(e); }\n\t        o.onCompleted();\n\t      };\n\t    }\n\t\n\t    function SocketDisposable(socket, msgFn, errFn, closeFn, close) {\n\t      this._socket = socket;\n\t      this._msgFn = msgFn;\n\t      this._errFn = errFn;\n\t      this._closeFn = closeFn;\n\t      this._close = close;\n\t      this.isDisposed = false;\n\t    }\n\t\n\t    SocketDisposable.prototype.dispose = function () {\n\t      if (!this.isDisposed) {\n\t        this.isDisposed = true;\n\t        socketClose(this._socket, this._close);\n\t\n\t        this._socket.removeEventListener('message', this._msgFn, false);\n\t        this._socket.removeEventListener('error', this._errFn, false);\n\t        this._socket.removeEventListener('close', this._closeFn, false);\n\t      }\n\t    };\n\t\n\t    SocketObservable.prototype.subscribeCore = function (o) {\n\t      this._state.socket = this._protocol ? new WebSocket(this._url, this._protocol) : new WebSocket(this._url);\n\t\n\t      var openHandler = createOpenHandler(this._open, this._state.socket);\n\t      var msgHandler = createMsgHandler(o);\n\t      var errHandler = createErrHandler(o);\n\t      var closeHandler = createCloseHandler(o);\n\t\n\t      this._open && this._state.socket.addEventListener('open', openHandler, false);\n\t      this._state.socket.addEventListener('message', msgHandler, false);\n\t      this._state.socket.addEventListener('error', errHandler, false);\n\t      this._state.socket.addEventListener('close', closeHandler, false);\n\t\n\t      return new SocketDisposable(this._state.socket, msgHandler, errHandler, closeHandler, this._close);\n\t    };\n\t\n\t    return SocketObservable;\n\t  }(ObservableBase));\n\t\n\t  var SocketObserver = (function (__super__) {\n\t    inherits(SocketObserver, __super__);\n\t    function SocketObserver(state, close) {\n\t      this._state = state;\n\t      this._close = close;\n\t      __super__.call(this);\n\t    }\n\t\n\t    SocketObserver.prototype.next = function (x) {\n\t      this._state.socket && this._state.socket.readyState === WebSocket.OPEN && this._state.socket.send(x);\n\t    };\n\t\n\t    SocketObserver.prototype.error = function (e) {\n\t      if (!e.code) {\n\t        throw new Error('no code specified. be sure to pass { code: ###, reason: \"\" } to onError()');\n\t      }\n\t      socketClose(this._state.socket, this._close, e.code, e.reason || '');\n\t    };\n\t\n\t    SocketObserver.prototype.completed = function () {\n\t      socketClose(this._state.socket, this._close, 1000, '');\n\t    };\n\t\n\t    return SocketObserver;\n\t  }(AbstractObserver));\n\t\n\t   /**\n\t   * Creates a WebSocket Subject with a given URL, protocol and an optional observer for the open event.\n\t   *\n\t   * @example\n\t   *  var socket = Rx.DOM.fromWebSocket('http://localhost:8080', 'stock-protocol', openObserver, closingObserver);\n\t   *\n\t   * @param {String} url The URL of the WebSocket.\n\t   * @param {String} protocol The protocol of the WebSocket.\n\t   * @param {Observer} [openObserver] An optional Observer to capture the open event.\n\t   * @param {Observer} [closingObserver] An optional Observer to capture the moment before the underlying socket is closed.\n\t   * @returns {Subject} An observable sequence wrapping a WebSocket.\n\t   */\n\t  dom.fromWebSocket = function (url, protocol, openObserver, closingObserver) {\n\t    if (!WebSocket) { throw new TypeError('WebSocket not implemented in your runtime.'); }\n\t    var state = { socket: null };\n\t    return Subject.create(\n\t      new SocketObserver(state, closingObserver),\n\t      new SocketObservable(state, url, protocol, openObserver, closingObserver)\n\t    );\n\t  };\n\t\n\t  var WorkerObserver = (function (__super__) {\n\t    inherits(WorkerObserver, __super__);\n\t    function WorkerObserver(state) {\n\t      this._state = state;\n\t      __super__.call(this);\n\t    }\n\t\n\t    WorkerObserver.prototype.next = function (x) { this._state.worker && this._state.worker.postMessage(x); };\n\t    WorkerObserver.prototype.error = function (e) { throw e; };\n\t    WorkerObserver.prototype.completed = function () { };\n\t\n\t    return WorkerObserver;\n\t  }(AbstractObserver));\n\t\n\t  var WorkerObservable = (function (__super__) {\n\t    inherits(WorkerObservable, __super__);\n\t    function WorkerObservable(state, url) {\n\t      this._state = state;\n\t      this._url = url;\n\t      __super__.call(this);\n\t    }\n\t\n\t    function createMessageHandler(o) { return function messageHandler (e) { o.onNext(e); }; }\n\t    function createErrHandler(o) { return function errHandler(e) { o.onError(e); }; }\n\t\n\t    function WorkerDisposable(w, msgFn, errFn) {\n\t      this._w = w;\n\t      this._msgFn = msgFn;\n\t      this._errFn = errFn;\n\t      this.isDisposed = false;\n\t    }\n\t\n\t    WorkerDisposable.prototype.dispose = function () {\n\t      if (!this.isDisposed) {\n\t        this.isDisposed = true;\n\t        this._w.terminate();\n\t        this._w.removeEventListener('message', this._msgFn, false);\n\t        this._w.removeEventListener('error', this._errFn, false);\n\t      }\n\t    };\n\t\n\t    WorkerObservable.prototype.subscribeCore = function (o) {\n\t      this._state.worker = new root.Worker(this._url);\n\t\n\t      var messageHandler = createMessageHandler(o);\n\t      var errHandler = createErrHandler(o);\n\t\n\t      this._state.worker.addEventListener('message', messageHandler, false);\n\t      this._state.worker.addEventListener('error', errHandler, false);\n\t\n\t      return new WorkerDisposable(this._state.worker, messageHandler, errHandler);\n\t    };\n\t\n\t    return WorkerObservable;\n\t  }(ObservableBase));\n\t\n\t  /**\n\t   * Creates a Web Worker with a given URL as a Subject.\n\t   *\n\t   * @example\n\t   * var worker = Rx.DOM.fromWebWorker('worker.js');\n\t   *\n\t   * @param {String} url The URL of the Web Worker.\n\t   * @returns {Subject} A Subject wrapping the Web Worker.\n\t   */\n\t  dom.fromWorker = function (url) {\n\t    if (!root.Worker) { throw new TypeError('Worker not implemented in your runtime.'); }\n\t    var state = { worker: null };\n\t    return Subject.create(new WorkerObserver(state), new WorkerObservable(state, url));\n\t  };\n\t\n\t  function getMutationObserver(next) {\n\t    var M = root.MutationObserver || root.WebKitMutationObserver;\n\t    return new M(next);\n\t  }\n\t\n\t  var MutationObserverObservable = (function (__super__) {\n\t    inherits(MutationObserverObservable, __super__);\n\t    function MutationObserverObservable(target, options) {\n\t      this._target = target;\n\t      this._options = options;\n\t      __super__.call(this);\n\t    }\n\t\n\t    function InnerDisposable(mutationObserver) {\n\t      this._m = mutationObserver;\n\t      this.isDisposed = false;\n\t    }\n\t\n\t    InnerDisposable.prototype.dispose = function () {\n\t      if (!this.isDisposed) {\n\t        this.isDisposed = true;\n\t        this._m.disconnect();\n\t      }\n\t    };\n\t\n\t    MutationObserverObservable.prototype.subscribeCore = function (o) {\n\t      var mutationObserver = getMutationObserver(function (e) { o.onNext(e); });\n\t      mutationObserver.observe(this._target, this._options);\n\t      return new InnerDisposable(mutationObserver);\n\t    };\n\t\n\t    return MutationObserverObservable;\n\t  }(ObservableBase));\n\t\n\t  /**\n\t   * Creates an observable sequence from a Mutation Observer.\n\t   * MutationObserver provides developers a way to react to changes in a DOM.\n\t   * @example\n\t   *  Rx.DOM.fromMutationObserver(document.getElementById('foo'), { attributes: true, childList: true, characterData: true });\n\t   *\n\t   * @param {Object} target The Node on which to obserave DOM mutations.\n\t   * @param {Object} options A MutationObserverInit object, specifies which DOM mutations should be reported.\n\t   * @returns {Observable} An observable sequence which contains mutations on the given DOM target.\n\t   */\n\t  dom.fromMutationObserver = function (target, options) {\n\t    if (!(root.MutationObserver || root.WebKitMutationObserver)) { throw new TypeError('MutationObserver not implemented in your runtime.'); }\n\t    return new MutationObserverObservable(target, options);\n\t  };\n\t\n\t  var CurrentPositionObservable = (function (__super__) {\n\t    inherits(CurrentPositionObservable, __super__);\n\t    function CurrentPositionObservable(opts) {\n\t      this._opts = opts;\n\t      __super__.call(this);\n\t    }\n\t\n\t    CurrentPositionObservable.prototype.subscribeCore = function (o) {\n\t      root.navigator.geolocation.getCurrentPosition(\n\t        function (data) {\n\t          o.onNext(data);\n\t          o.onCompleted();\n\t        },\n\t        function (e) { o.onError(e); },\n\t        this._opts);\n\t    };\n\t\n\t    return CurrentPositionObservable;\n\t  }(ObservableBase));\n\t\n\t  var WatchPositionObservable = (function (__super__) {\n\t    inherits(WatchPositionObservable, __super__);\n\t    function WatchPositionObservable(opts) {\n\t      this._opts = opts;\n\t      __super__.call(this);\n\t    }\n\t\n\t    function WatchPositionDisposable(id) {\n\t      this._id = id;\n\t      this.isDisposed = false;\n\t    }\n\t\n\t    WatchPositionDisposable.prototype.dispose = function () {\n\t      if (!this.isDisposed) {\n\t        this.isDisposed = true;\n\t        root.navigator.geolocation.clearWatch(this._id);\n\t      }\n\t    };\n\t\n\t    WatchPositionObservable.prototype.subscribeCore = function (o) {\n\t      var watchId = root.navigator.geolocation.watchPosition(\n\t        function (x) { o.onNext(x); },\n\t        function (e) { o.onError(e); },\n\t        this._opts);\n\t\n\t      return new WatchPositionDisposable(watchId);\n\t    };\n\t\n\t    return WatchPositionObservable;\n\t  }(ObservableBase));\n\t\n\t  Rx.DOM.geolocation = {\n\t    /**\n\t    * Obtains the geographic position, in terms of latitude and longitude coordinates, of the device.\n\t    * @param {Object} [geolocationOptions] An object literal to specify one or more of the following attributes and desired values:\n\t    *   - enableHighAccuracy: Specify true to obtain the most accurate position possible, or false to optimize in favor of performance and power consumption.\n\t    *   - timeout: An Integer value that indicates the time, in milliseconds, allowed for obtaining the position.\n\t    *              If timeout is Infinity, (the default value) the location request will not time out.\n\t    *              If timeout is zero (0) or negative, the results depend on the behavior of the location provider.\n\t    *   - maximumAge: An Integer value indicating the maximum age, in milliseconds, of cached position information.\n\t    *                 If maximumAge is non-zero, and a cached position that is no older than maximumAge is available, the cached position is used instead of obtaining an updated location.\n\t    *                 If maximumAge is zero (0), watchPosition always tries to obtain an updated position, even if a cached position is already available.\n\t    *                 If maximumAge is Infinity, any cached position is used, regardless of its age, and watchPosition only tries to obtain an updated position if no cached position data exists.\n\t    * @returns {Observable} An observable sequence with the geographical location of the device running the client.\n\t    */\n\t    getCurrentPosition: function (geolocationOptions) {\n\t      if (!root.navigator && !root.navigation.geolocation) { throw new TypeError('geolocation not available'); }\n\t      return new CurrentPositionObservable(geolocationOptions);\n\t    },\n\t\n\t    /**\n\t    * Begins listening for updates to the current geographical location of the device running the client.\n\t    * @param {Object} [geolocationOptions] An object literal to specify one or more of the following attributes and desired values:\n\t    *   - enableHighAccuracy: Specify true to obtain the most accurate position possible, or false to optimize in favor of performance and power consumption.\n\t    *   - timeout: An Integer value that indicates the time, in milliseconds, allowed for obtaining the position.\n\t    *              If timeout is Infinity, (the default value) the location request will not time out.\n\t    *              If timeout is zero (0) or negative, the results depend on the behavior of the location provider.\n\t    *   - maximumAge: An Integer value indicating the maximum age, in milliseconds, of cached position information.\n\t    *                 If maximumAge is non-zero, and a cached position that is no older than maximumAge is available, the cached position is used instead of obtaining an updated location.\n\t    *                 If maximumAge is zero (0), watchPosition always tries to obtain an updated position, even if a cached position is already available.\n\t    *                 If maximumAge is Infinity, any cached position is used, regardless of its age, and watchPosition only tries to obtain an updated position if no cached position data exists.\n\t    * @returns {Observable} An observable sequence with the current geographical location of the device running the client.\n\t    */\n\t    watchPosition: function (geolocationOptions) {\n\t      if (!root.navigator && !root.navigation.geolocation) { throw new TypeError('geolocation not available'); }\n\t      return new WatchPositionObservable(geolocationOptions).publish().refCount();\n\t    }\n\t  };\n\t\n\t  var FromReaderObservable = (function (__super__) {\n\t    inherits(FromReaderObservable, __super__);\n\t    function FromReaderObservable(readerFn, file, progressObserver, encoding) {\n\t      this._readerFn  = readerFn;\n\t      this._file = file;\n\t      this._progressObserver = progressObserver;\n\t      this._encoding = encoding;\n\t      __super__.call(this);\n\t    }\n\t\n\t    function createLoadHandler(o, p) {\n\t      return function loadHandler(e) {\n\t        p && p.onCompleted();\n\t        o.onNext(e.target.result);\n\t        o.onCompleted();\n\t      };\n\t    }\n\t\n\t    function createErrorHandler(o) { return function errorHandler (e) { o.onError(e.target.error); }; }\n\t    function createProgressHandler(o) { return function progressHandler (e) { o.onNext(e); }; }\n\t\n\t    function FromReaderDisposable(reader, progressObserver, loadHandler, errorHandler, progressHandler) {\n\t      this._r = reader;\n\t      this._po = progressObserver;\n\t      this._lFn = loadHandler;\n\t      this._eFn = errorHandler;\n\t      this._pFn = progressHandler;\n\t      this.isDisposed = false;\n\t    }\n\t\n\t    FromReaderDisposable.prototype.dispose = function () {\n\t      if (!this.isDisposed) {\n\t        this.isDisposed = true;\n\t        this._r.readyState === root.FileReader.LOADING && this._r.abort();\n\t        this._r.removeEventListener('load', this._lFn, false);\n\t        this._r.removeEventListener('error', this._eFn, false);\n\t        this._po && this._r.removeEventListener('progress', this._pFn, false);\n\t      }\n\t    };\n\t\n\t    FromReaderObservable.prototype.subscribeCore = function (o) {\n\t      var reader = new root.FileReader();\n\t\n\t      var loadHandler = createLoadHandler(o, this._progressObserver);\n\t      var errorHandler = createErrorHandler(o);\n\t      var progressHandler = createProgressHandler(this._progressObserver);\n\t\n\t      reader.addEventListener('load', loadHandler, false);\n\t      reader.addEventListener('error', errorHandler, false);\n\t      this._progressObserver && reader.addEventListener('progress', progressHandler, false);\n\t\n\t      reader[this._readerFn](this._file, this._encoding);\n\t\n\t      return new FromReaderDisposable(reader, this._progressObserver, loadHandler, errorHandler, progressHandler);\n\t    };\n\t\n\t    return FromReaderObservable;\n\t  }(ObservableBase));\n\t\n\t  /**\n\t   * The FileReader object lets web applications asynchronously read the contents of\n\t   * files (or raw data buffers) stored on the user's computer, using File or Blob objects\n\t   * to specify the file or data to read as an observable sequence.\n\t   * @param {String} file The file to read.\n\t   * @param {Observer} An observer to watch for progress.\n\t   * @returns {Object} An object which contains methods for reading the data.\n\t   */\n\t  dom.fromReader = function(file, progressObserver) {\n\t    if (!root.FileReader) { throw new TypeError('FileReader not implemented in your runtime.'); }\n\t\n\t    return {\n\t      /**\n\t       * This method is used to read the file as an ArrayBuffer as an Observable stream.\n\t       * @returns {Observable} An observable stream of an ArrayBuffer\n\t       */\n\t      asArrayBuffer : function() {\n\t        return new FromReaderObservable('readAsArrayBuffer', file, progressObserver);\n\t      },\n\t      /**\n\t       * This method is used to read the file as a binary data string as an Observable stream.\n\t       * @returns {Observable} An observable stream of a binary data string.\n\t       */\n\t      asBinaryString : function() {\n\t        return new FromReaderObservable('readAsBinaryString', file, progressObserver);\n\t      },\n\t      /**\n\t       * This method is used to read the file as a URL of the file's data as an Observable stream.\n\t       * @returns {Observable} An observable stream of a URL representing the file's data.\n\t       */\n\t      asDataURL : function() {\n\t        return new FromReaderObservable('readAsDataURL', file, progressObserver);\n\t      },\n\t      /**\n\t       * This method is used to read the file as a string as an Observable stream.\n\t       * @returns {Observable} An observable stream of the string contents of the file.\n\t       */\n\t      asText : function(encoding) {\n\t        return new FromReaderObservable('readAsText', file, progressObserver, encoding);\n\t      }\n\t    };\n\t  };\n\t\n\t  var EventSourceObservable = (function(__super__) {\n\t    inherits(EventSourceObservable, __super__);\n\t    function EventSourceObservable(url, open) {\n\t      this._url = url;\n\t      this._open = open;\n\t      __super__.call(this);\n\t    }\n\t\n\t    function createOnOpen(o, source) {\n\t      return function onOpen(e) {\n\t        o.onNext(e);\n\t        o.onCompleted();\n\t        source.removeEventListener('open', onOpen, false);\n\t      };\n\t    }\n\t\n\t    function createOnError(o) {\n\t      return function onError(e) {\n\t        if (e.readyState === EventSource.CLOSED) {\n\t          o.onCompleted();\n\t        } else {\n\t          o.onError(e);\n\t        }\n\t      };\n\t    }\n\t\n\t    function createOnMessage(o) { return function onMessage(e) { o.onNext(e.data); }; }\n\t\n\t    function EventSourceDisposable(s, errFn, msgFn) {\n\t      this._s = s;\n\t      this._errFn = errFn;\n\t      this._msgFn = msgFn;\n\t      this.isDisposed = false;\n\t    }\n\t\n\t    EventSourceDisposable.prototype.dispose = function () {\n\t      if (!this.isDisposed) {\n\t        this._s.removeEventListener('error', this._errFn, false);\n\t        this._s.removeEventListener('message', this._msgFn, false);\n\t        this._s.close();\n\t      }\n\t    };\n\t\n\t    EventSourceObservable.prototype.subscribeCore = function (o) {\n\t      var source = new EventSource(this._url);\n\t      var onOpen = createOnOpen(this._open, source);\n\t      var onError = createOnError(o);\n\t      var onMessage = createOnMessage(o);\n\t\n\t      this._open && source.addEventListener('open', onOpen, false);\n\t      source.addEventListener('error', onError, false);\n\t      source.addEventListener('message', onMessage, false);\n\t\n\t      return new EventSourceDisposable(source, onError, onMessage);\n\t    };\n\t\n\t    return EventSourceObservable;\n\t  }(ObservableBase));\n\t\n\t  /**\n\t   * This method wraps an EventSource as an observable sequence.\n\t   * @param {String} url The url of the server-side script.\n\t   * @param {Observer} [openObserver] An optional observer for the 'open' event for the server side event.\n\t   * @returns {Observable} An observable sequence which represents the data from a server-side event.\n\t   */\n\t  dom.fromEventSource = function (url, openObserver) {\n\t    if (!root.EventSource) { throw new TypeError('EventSource not implemented in your runtime.'); }\n\t    return new EventSourceObservable(url, openObserver);\n\t  };\n\t\n\t  var requestAnimFrame, cancelAnimFrame;\n\t  if (root.requestAnimationFrame) {\n\t    requestAnimFrame = root.requestAnimationFrame;\n\t    cancelAnimFrame = root.cancelAnimationFrame;\n\t  } else if (root.mozRequestAnimationFrame) {\n\t    requestAnimFrame = root.mozRequestAnimationFrame;\n\t    cancelAnimFrame = root.mozCancelAnimationFrame;\n\t  } else if (root.webkitRequestAnimationFrame) {\n\t    requestAnimFrame = root.webkitRequestAnimationFrame;\n\t    cancelAnimFrame = root.webkitCancelAnimationFrame;\n\t  } else if (root.msRequestAnimationFrame) {\n\t    requestAnimFrame = root.msRequestAnimationFrame;\n\t    cancelAnimFrame = root.msCancelAnimationFrame;\n\t  } else if (root.oRequestAnimationFrame) {\n\t    requestAnimFrame = root.oRequestAnimationFrame;\n\t    cancelAnimFrame = root.oCancelAnimationFrame;\n\t  } else {\n\t    requestAnimFrame = function(cb) { root.setTimeout(cb, 1000 / 60); };\n\t    cancelAnimFrame = root.clearTimeout;\n\t  }\n\t\n\t  /**\n\t   * Gets a scheduler that schedules schedules work on the requestAnimationFrame for immediate actions.\n\t   */\n\t  Scheduler.requestAnimationFrame = (function () {\n\t    var RequestAnimationFrameScheduler = (function (__super__) {\n\t      inherits(RequestAnimationFrameScheduler, __super__);\n\t      function RequestAnimationFrameScheduler() {\n\t        __super__.call(this);\n\t      }\n\t\n\t      function scheduleAction(disposable, action, scheduler, state) {\n\t        return function schedule() {\n\t          !disposable.isDisposed && disposable.setDisposable(Disposable._fixup(action(scheduler, state)));\n\t        };\n\t      }\n\t\n\t      function ClearDisposable(method, id) {\n\t        this._id = id;\n\t        this._method = method;\n\t        this.isDisposed = false;\n\t      }\n\t\n\t      ClearDisposable.prototype.dispose = function () {\n\t        if (!this.isDisposed) {\n\t          this.isDisposed = true;\n\t          this._method.call(null, this._id);\n\t        }\n\t      };\n\t\n\t      RequestAnimationFrameScheduler.prototype.schedule = function (state, action) {\n\t        var disposable = new SingleAssignmentDisposable(),\n\t            id = requestAnimFrame(scheduleAction(disposable, action, this, state));\n\t        return new BinaryDisposable(disposable, new ClearDisposable(cancelAnimFrame, id));\n\t      };\n\t\n\t      RequestAnimationFrameScheduler.prototype._scheduleFuture = function (state, dueTime, action) {\n\t        if (dueTime === 0) { return this.schedule(state, action); }\n\t        var disposable = new SingleAssignmentDisposable(),\n\t            id = root.setTimeout(scheduleAction(disposable, action, this, state), dueTime);\n\t        return new BinaryDisposable(disposable, new ClearDisposable(root.clearTimeout, id));\n\t      };\n\t\n\t      return RequestAnimationFrameScheduler;\n\t    }(Scheduler));\n\t\n\t    return new RequestAnimationFrameScheduler();\n\t  }());\n\t\n\t  /**\n\t   * Scheduler that uses a MutationObserver changes as the scheduling mechanism\n\t   */\n\t  Scheduler.microtask = (function () {\n\t\n\t    var nextHandle = 1, tasksByHandle = {}, currentlyRunning = false, scheduleMethod;\n\t\n\t    function clearMethod(handle) {\n\t      delete tasksByHandle[handle];\n\t    }\n\t\n\t    function runTask(handle) {\n\t      if (currentlyRunning) {\n\t        root.setTimeout(function () { runTask(handle) }, 0);\n\t      } else {\n\t        var task = tasksByHandle[handle];\n\t        if (task) {\n\t          currentlyRunning = true;\n\t          try {\n\t            task();\n\t          } catch (e) {\n\t            throw e;\n\t          } finally {\n\t            clearMethod(handle);\n\t            currentlyRunning = false;\n\t          }\n\t        }\n\t      }\n\t    }\n\t\n\t    function postMessageSupported () {\n\t      // Ensure not in a worker\n\t      if (!root.postMessage || root.importScripts) { return false; }\n\t      var isAsync = false, oldHandler = root.onmessage;\n\t      // Test for async\n\t      root.onmessage = function () { isAsync = true; };\n\t      root.postMessage('', '*');\n\t      root.onmessage = oldHandler;\n\t\n\t      return isAsync;\n\t    }\n\t\n\t    // Use in order, setImmediate, nextTick, postMessage, MessageChannel, script readystatechanged, setTimeout\n\t    var BrowserMutationObserver = root.MutationObserver || root.WebKitMutationObserver;\n\t    if (!!BrowserMutationObserver) {\n\t\n\t      var PREFIX = 'drainqueue_';\n\t\n\t      var observer = new BrowserMutationObserver(function(mutations) {\n\t        mutations.forEach(function (mutation) {\n\t          runTask(mutation.attributeName.substring(PREFIX.length));\n\t        })\n\t      });\n\t\n\t      var element = root.document.createElement('div');\n\t      observer.observe(element, { attributes: true });\n\t\n\t      // Prevent leaks\n\t      root.addEventListener('unload', function () {\n\t        observer.disconnect();\n\t        observer = null;\n\t      }, false);\n\t\n\t      scheduleMethod = function (action) {\n\t        var id = nextHandle++;\n\t        tasksByHandle[id] = action;\n\t        element.setAttribute(PREFIX + id, 'drainQueue');\n\t        return id;\n\t      };\n\t    } else if (typeof root.setImmediate === 'function') {\n\t      scheduleMethod = function (action) {\n\t        var id = nextHandle++;\n\t        tasksByHandle[id] = action;\n\t        root.setImmediate(function () { runTask(id); });\n\t\n\t        return id;\n\t      };\n\t    } else if (postMessageSupported()) {\n\t      var MSG_PREFIX = 'ms.rx.schedule' + Math.random();\n\t\n\t      function onGlobalPostMessage(event) {\n\t        // Only if we're a match to avoid any other global events\n\t        if (typeof event.data === 'string' && event.data.substring(0, MSG_PREFIX.length) === MSG_PREFIX) {\n\t          runTask(event.data.substring(MSG_PREFIX.length));\n\t        }\n\t      }\n\t\n\t      if (root.addEventListener) {\n\t        root.addEventListener('message', onGlobalPostMessage, false);\n\t      } else if (root.attachEvent){\n\t        root.attachEvent('onmessage', onGlobalPostMessage);\n\t      }\n\t\n\t      scheduleMethod = function (action) {\n\t        var id = nextHandle++;\n\t        tasksByHandle[id] = action;\n\t        root.postMessage(MSG_PREFIX + id, '*');\n\t        return id;\n\t      };\n\t    } else if (!!root.MessageChannel) {\n\t      var channel = new root.MessageChannel();\n\t\n\t      channel.port1.onmessage = function (event) {\n\t        runTask(event.data);\n\t      };\n\t\n\t      scheduleMethod = function (action) {\n\t        var id = nextHandle++;\n\t        tasksByHandle[id] = action;\n\t        channel.port2.postMessage(id);\n\t        return id;\n\t      };\n\t    } else if ('document' in root && 'onreadystatechange' in root.document.createElement('script')) {\n\t\n\t      scheduleMethod = function (action) {\n\t        var scriptElement = root.document.createElement('script');\n\t        var id = nextHandle++;\n\t        tasksByHandle[id] = action;\n\t\n\t        scriptElement.onreadystatechange = function () {\n\t          runTask(id);\n\t          scriptElement.onreadystatechange = null;\n\t          scriptElement.parentNode.removeChild(scriptElement);\n\t          scriptElement = null;\n\t        };\n\t        root.document.documentElement.appendChild(scriptElement);\n\t\n\t        return id;\n\t      };\n\t\n\t    } else {\n\t      scheduleMethod = function (action) {\n\t        var id = nextHandle++;\n\t        tasksByHandle[id] = action;\n\t        root.setTimeout(function () {\n\t          runTask(id);\n\t        }, 0);\n\t\n\t        return id;\n\t      };\n\t    }\n\t\n\t    var MicroTaskScheduler = (function (__super__) {\n\t      inherits(MicroTaskScheduler, __super__);\n\t      function MicroTaskScheduler() {\n\t        __super__.call(this);\n\t      }\n\t\n\t      function scheduleAction(disposable, action, scheduler, state) {\n\t        return function schedule() {\n\t          !disposable.isDisposed && disposable.setDisposable(Disposable._fixup(action(scheduler, state)));\n\t        };\n\t      }\n\t\n\t      function ClearDisposable(method, id) {\n\t        this._id = id;\n\t        this._method = method;\n\t        this.isDisposed = false;\n\t      }\n\t\n\t      ClearDisposable.prototype.dispose = function () {\n\t        if (!this.isDisposed) {\n\t          this.isDisposed = true;\n\t          this._method.call(null, this._id);\n\t        }\n\t      };\n\t\n\t      MicroTaskScheduler.prototype.schedule = function (state, action) {\n\t        var disposable = new SingleAssignmentDisposable(),\n\t            id = scheduleMethod(scheduleAction(disposable, action, this, state));\n\t        return new BinaryDisposable(disposable, new ClearDisposable(clearMethod, id));\n\t      };\n\t\n\t      MicroTaskScheduler.prototype._scheduleFuture = function (state, dueTime, action) {\n\t        if (dueTime === 0) { return this.schedule(state, action); }\n\t        var disposable = new SingleAssignmentDisposable(),\n\t            id = root.setTimeout(scheduleAction(disposable, action, this, state), dueTime);\n\t        return new BinaryDisposable(disposable, new ClearDisposable(root.clearTimeout, id));\n\t      };\n\t\n\t      return MicroTaskScheduler;\n\t    }(Scheduler));\n\t\n\t    return new MicroTaskScheduler();\n\t  }());\n\t\n\t  return Rx;\n\t}));\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12)(module), (function() { return this; }())))\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** reframe.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d19d380861ceaa967524\n **/","'use strict';\nimport * as commands from 'reframe/commands';\nimport * as subs from 'reframe/subs';\nimport * as db from 'reframe/db';\nimport * as atom from 'reframe/atom';\nimport * as react from 'reframe/react';\n\nmodule.exports.registerHandler = commands.registerHandler;\nmodule.exports.dispatch = commands.dispatch;\nmodule.exports.dispatchSync = commands.dispatchSync;\nmodule.exports.registerSub = subs.registerSub;\nmodule.exports.subscribe = subs.subscribe;\nmodule.exports.indexPath = subs.indexPath;\nmodule.exports.db$ = db.db$;\nmodule.exports.viewP = react.viewP;\nmodule.exports.viewV = react.viewV;\nmodule.exports.viewSP = react.viewSP;\nmodule.exports.viewSV = react.viewSV;\nmodule.exports.view = react.viewSV;\nmodule.exports.deref = react.deref;\nmodule.exports.atom = atom.atom;\nmodule.exports.swap = atom.swap;\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/core.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Rx\"\n ** module id = 1\n ** module chunks = 0\n **/","import * as Rx from 'rx-dom';\nimport {Dispatcher} from 'reframe/dispatcher.js';\nimport {Index} from 'reframe/subindex.js';\n\nexport const animationFrame$ = new Rx.Subject();\nexport const sync$ = new Rx.Subject();\nconst requestRender$ = new Rx.BehaviorSubject();\nexport const render$ = new Rx.Subject();\n\nRx.Observable\n    .merge(\n        animationFrame$\n        .throttleLatest(1/60, Rx.Scheduler.requestAnimationFrame),\n        //.observeOn(Rx.Scheduler.requestAnimationFrame),\n        sync$\n    )\n    .scan(([oldVersion, oldDb], [newVersion, newDb])=> {\n        if (newVersion > oldVersion) {\n            return [newVersion, newDb];\n        }\n        return [oldVersion, oldDb]\n    }, [-1, null])\n    .map(([version, db]) => db)\n    .distinctUntilChanged(x => x, (x, y) => x === y)\n    .doOnNext(db => {\n        requestRender$.onNext(db);\n        render$.onNext(true);\n    })\n    .subscribe();\n\nconst subDispatcher = new Dispatcher();\nexport function registerSub(name, handler) {\n    subDispatcher.register(name, handler);\n}\n\nexport function subscribe(cmd) {\n    const handler = subDispatcher.lookup(cmd[0]);\n    return handler(requestRender$, cmd);\n}\n\nlet index = new Index(()=>requestRender$);\nexport function indexPath(path, def) {\n    return index.sub(path, def);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/subs.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Immutable\"\n ** module id = 3\n ** module chunks = 0\n **/","import * as Rx from 'rx';\nimport * as Immutable from 'immutable';\nexport const db$ = new Rx.BehaviorSubject(Immutable.Map());\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/db.js\n **/","export class Dispatcher {\n    constructor() {\n        this.map = {};\n    }\n\n    register(name, handler) {\n        if (this.map[name]) {\n            throw new Error(name + 'handler is already registered');\n        }\n        this.map[name] = handler;\n    }\n\n    lookup(name) {\n        return this.map[name];\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/dispatcher.js\n **/","'use strict';\nimport * as Rx from 'rx';\n\nexport function atom(value) {\n    return new Rx.BehaviorSubject(value);\n}\n\nexport function swap(aAtom, update) {\n    aAtom.onNext(update(aAtom.getValue()));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/atom.js\n **/","'use strict';\n\nimport {db$} from 'reframe/db.js';\nimport * as Rx from 'rx';\nimport {animationFrame$, sync$} from 'reframe/subs.js';\nimport {Dispatcher} from 'reframe/dispatcher.js';\nimport * as Immutable from 'immutable';\n\nconst commandDispatcher = new Dispatcher();\nconst cmd$ = new Rx.Subject();\n\nexport function compMiddleware(middlewares) {\n    return handler => {\n        let compHandler = middlewares.reverse().filter(a => a).reduce(\n            (acc, middleware) => middleware(acc),\n            handler\n        );\n\n        return compHandler;\n    };\n}\n\nexport function registerHandler() {\n    let eventId, middleware, handlerFn;\n\n    switch (arguments.length) {\n        case 2:\n            eventId = arguments[0];\n            middleware = handler => handler;\n            handlerFn = arguments[1];\n            break;\n        case 3:\n            eventId = arguments[0];\n            middleware = Array.isArray(arguments[1]) ? compMiddleware(arguments[1]) : arguments[1];\n            handlerFn = arguments[2];\n            break;\n        default:\n            throw new Error('Expected 2 or 3 arguments, got ' + arguments.length);\n    }\n\n    commandDispatcher.register(eventId, middleware(handlerFn));\n}\n\nexport function dispatch(cmd) {\n    cmd$.onNext([false, cmd]);\n}\n\nexport function dispatchSync(cmd) {\n    cmd$.onNext([true, cmd]);\n}\n\ncmd$\n    .scan(\n        ([version, db], [sync, cmd]) => {\n            const handler = commandDispatcher.lookup(cmd[0]);\n\n            const newDb = handler(db, cmd);\n\n            if (newDb !== db) {\n                db$.onNext(newDb);\n                const nextVersion = version + 1;\n                if (sync) {\n                    sync$.onNext([nextVersion, newDb]);\n                } else {\n                    animationFrame$.onNext([nextVersion, newDb]);\n                }\n\n                return [nextVersion, newDb];\n            }\n            return [version, db];\n        },\n        [0, Immutable.Map()]\n    )\n    .subscribe();\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/commands.js\n **/","'use strict';\n\nimport * as subs from 'reframe/subs.js';\nimport * as React from 'react';\nimport * as Rx from 'rx';\nimport {shouldUpdate} from 'reframe/shouldupdate';\n\nexport function deref(rx, transform) {\n    let ttransform = transform || (a=>a);\n    let subj = new Rx.BehaviorSubject();\n    rx.map(ttransform).subscribe(subj).dispose();\n    return subj.getValue();\n}\n\nlet data = {\n    renderOrder: 0,\n    toUpdate: []\n};\n\nfunction shouldUpdateByDerefed(derefed) {\n    return derefed\n        .map(derefed=> {\n            return derefed.shouldUpdate();\n        })\n        .reduce((acc, v) => acc || v, false);\n}\n\nfunction needUpdate(obj) {\n    //console.log('Need update', obj.getDisplayName());\n    data.toUpdate.push([obj.state.renderOrder, ()=> {\n        if (shouldUpdateByDerefed(obj.state.derefed)) {\n            // console.log('Force update', obj.getDisplayName());\n            obj.forceUpdate();\n        }\n    }]);\n}\n\nexport function render() {\n    data.toUpdate.sort(([o1], [o2]) => o1 - o2);\n\n    data.toUpdate.forEach(([_, forceUpdate]) => forceUpdate());\n    data.toUpdate = [];\n}\nsubs.render$.subscribe(render);\nwindow.render = render;\n\nexport let StatelessMixin = {\n    shouldComponentUpdate: function (nextProps, nextState) {\n        return shouldUpdate(this.props, nextProps, ['argv']) || shouldUpdate(this.state, nextState) || shouldUpdate(this.props.argv, nextProps.argv);\n    },\n    getDisplayName: function () {\n        return this.constructor.displayName;\n    }\n};\n\nclass DerefedSubscription {\n    constructor(view, rx, aTransform, renderCycle) {\n        let transform = aTransform || (a=>a),\n            replay = new Rx.ReplaySubject(1),\n            subj = new Rx.BehaviorSubject();\n        let disposable = new Rx.CompositeDisposable(\n            rx\n                .distinctUntilChanged(x=>x, (x, y) => x === y)\n                .map(transform)\n                .subscribe(replay),\n            replay\n                .subscribe(subj),\n            replay\n                .skip(1)\n                .subscribe(() => {\n                    needUpdate(view);\n                }));\n\n        this.disposable = disposable;\n        this.subject = subj;\n        this.renderCycle = null;\n    }\n    getValue(renderCycle) {\n        this.renderCycle = renderCycle;\n        this.lastValue = this.subject.getValue();\n        return this.lastValue;\n    }\n    dispose() {\n        this.disposable.dispose();\n    }\n    shouldDispose(renderCycle) {\n        return renderCycle > this.renderCycle;\n    }\n    shouldUpdate() {\n        return this.lastValue  !== this.subject.getValue();\n    }\n}\n\nfunction S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n};\n\n// Generate a pseudo-GUID by concatenating random hexadecimal.\nfunction guid() {\n    return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n};\n\nexport let SubscriptionMixin = {\n    derefSub(subVec, transform) {\n        return this.deref(subs.subscribe(subVec), transform, Immutable.List(subVec));\n    },\n    getDisplayName: function () {\n        return this.constructor.displayName;\n    },\n    getInitialState: function () {\n        return {\n            derefed: Immutable.Map(),\n            renderOrder: data.renderOrder++,\n            renderCycle: 0\n        };\n    },\n    shouldComponentUpdate: function (nextProps, nextState) {\n        let updateByProps = shouldUpdate(this.props, nextProps, ['argv']) || shouldUpdate(this.props.argv, nextProps.argv),\n            updateByState = shouldUpdate(this.state, nextState, ['derefed', 'renderOrder', 'renderCycle']);\n\n        return updateByProps || updateByState;\n    },\n    deref: function (rx, aTransform, aId) {\n        const id = aId || guid();\n        if (this.state.derefed.get(id)) {\n            return this.state.derefed.get(id).getValue(this.state.renderCycle);\n        }\n        const derefed = new DerefedSubscription(this, rx, aTransform);\n\n        this.state.derefed = this.state.derefed.set(id, derefed);\n\n        return derefed.getValue(this.state.renderCycle);\n    },\n    unsubscribe: function () {\n        this.state.derefed.forEach(derefed => {\n            derefed.dispose();\n        });\n\n        this.state.derefed = Immutable.Map();\n    },\n    componentWillUpdate: function () {\n        // console.log('Rendering', this.getDisplayName());\n        this.state.renderCycle++;\n        //this.unsubscribe();\n    },\n    componentDidUpdate: function() {\n        this.state.derefed.filter(derefed => {\n            return derefed.shouldDispose(this.state.renderCycle);\n        })\n        .forEach(item => item.dispose());\n\n        this.state.derefed = this.state.derefed.filter(derefed => {\n            return !derefed.shouldDispose(this.state.renderCycle);\n        });\n    },\n    componentWillUnmount: function () {\n        this.unsubscribe();\n    }\n};\n\nfunction createComponentObj(mixins, args) {\n    let componentObj;\n    switch (args.length) {\n        case 2:\n            if (typeof args[1].prototype === 'undefined') {\n                args[1].mixins = mixins;\n                componentObj = args[1];\n            } else {\n                componentObj = {\n                    mixins: mixins,\n                    render: args[1]\n                };\n            }\n            break;\n        case 3:\n            if (typeof args[2].prototype === 'undefined') {\n                // it's an object\n                args[2].mixins = mixins.concat(args[1]);\n                componentObj = args[2];\n            } else {\n                // it's a render function\n                componentObj = {\n                    mixins: mixins.concat(args[1]),\n                    render: args[2]\n                };\n            }\n            break;\n        default :\n            throw new Error('Expected 2 or 3 arguments, got ' + args.length);\n    }\n    componentObj.displayName = args[0];\n    return componentObj;\n}\n\nfunction propsView(mixin, args) {\n    let componentObj = createComponentObj(mixin, args);\n    let oldRender = componentObj.render;\n    componentObj.render = function () {\n        return oldRender.call(this, this.props);\n    };\n\n    let component = React.createClass(componentObj);\n\n    return React.createFactory(component);\n}\n\nfunction vectorView(mixin, args) {\n    let componentObj = createComponentObj(mixin, args);\n    let oldRender = componentObj.render;\n    componentObj.render = function () {\n        return oldRender.apply(this, this.props.argv);\n    };\n    let component = React.createClass(componentObj);\n    let factory = React.createFactory(component);\n\n    return function () {\n        return factory({argv: Array.prototype.slice.call(arguments)});\n    };\n}\n\nexport function viewP() {\n    return propsView([StatelessMixin], arguments);\n}\n\nexport function viewV() {\n    return vectorView([StatelessMixin], arguments);\n}\n\nexport function viewSP() {\n    return propsView([SubscriptionMixin], arguments);\n}\n\nexport function viewSV() {\n    return vectorView([SubscriptionMixin], arguments);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/react.js\n **/","'use strict';\n\n/**\n * If props does not exist return false - Pure render mixin. If props exists and it contains mutable entries,\n * return false. If props contains only immutable entries compare them by type.\n *\n * @param {object} props current props\n * @param {object} nextProps new props\n * @param {array} ignore ignore these keys\n * @returns {boolean} true if component should be rerendered\n */\nexport function shouldUpdate(props, nextProps, ignore) {\n    let entries;\n    if (nextProps === props || nextProps.length !== props.length) {\n        return false;\n    }\n    if (ignore && ignore.length > 0) {\n        entries = Object.keys(props)\n            .filter(k => ignore.indexOf(k) >= 0)\n            .map(k => [props[k], nextProps[k]]);\n    } else {\n        entries = Object.keys(props).map(k => [props[k], nextProps[k]]);\n    }\n\n    if (entries.length) {\n        return !entries.every(function ([value, nextValue]) {\n            if ((isPrimitive(value) && isPrimitive(nextValue))\n                ||\n                (isImmutable(value) && isImmutable(nextValue))) {\n\n                return value === nextValue;\n            }\n            return false;\n        });\n    }\n    return false;\n}\nfunction isImmutable(maybeImmutable) {\n    return Immutable.Iterable.isIterable(maybeImmutable);\n}\n\nfunction isPrimitive(value) {\n    var type = typeof value;\n    return type === 'number' || type === 'boolean' || type === 'string' || value === null || value === void 0;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/shouldupdate.js\n **/","'use strict';\nimport * as Immutable from 'immutable';\nimport * as Rx from 'rx';\nconst LISTENER_SENTINEL = {};\n\nexport class Index {\n    constructor(rx) {\n        this.listeners = Immutable.Map();\n        this.rx = rx;\n    }\n\n    sub(path, def) {\n        const self = this;\n\n        let slices = [];\n        for (let i = 0; i < path.length; i++) {\n            slices.push(Array.prototype.slice.call(path.slice(0, i + 1)));\n        }\n        this.listeners = slices.reduce(\n            (acc, pathSlice) => {\n                let parentPath = pathSlice.slice(0, pathSlice.length - 1);\n                let parentRx = parentPath.length === 0 ? this.rx() : acc.getIn(parentPath.concat(LISTENER_SENTINEL));\n                let lastFragment = pathSlice[pathSlice.length - 1];\n                return acc.updateIn(pathSlice.concat(LISTENER_SENTINEL), old => {\n                    if (old) {\n                        return old;\n                    }\n                    let subject = new Rx.ReplaySubject(1),\n                        subscription = parentRx\n                            .map(a => {\n                                if (a && a.get) {\n                                    return a.get(lastFragment);\n                                }\n                            })\n                            .distinctUntilChanged(x => x, (x, y) => x === y)\n                            //.doOnNext(v => console.log('v', v.toJS()))\n                            .subscribe(subject);\n                    let oldSubscribe = subject.subscribe;\n                    subject.subscribe = function () {\n                        const sub = oldSubscribe.apply(this, arguments);\n\n                        return Rx.Disposable.create(function () {\n                            sub.dispose();\n                            if (!subject.hasObservers()) {\n                                subscription.dispose();\n                                self.listeners = self.listeners.removeIn(pathSlice);\n                            }\n                        });\n                    };\n                    return subject;\n                });\n            },\n            this.listeners\n        );\n\n        return this.listeners.getIn(path.concat([LISTENER_SENTINEL])).map(a => typeof a !== 'undefined' ? a : def);\n    }\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/subindex.js\n **/","// Copyright (c) Microsoft, Inc. All rights reserved. See License.txt in the project root for license information.\n\n;(function (factory) {\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  function checkGlobal(value) {\n    return (value && value.Object === Object) ? value : null;\n  }\n\n  var freeExports = (objectTypes[typeof exports] && exports && !exports.nodeType) ? exports : null;\n  var freeModule = (objectTypes[typeof module] && module && !module.nodeType) ? module : null;\n  var freeGlobal = checkGlobal(freeExports && freeModule && typeof global === 'object' && global);\n  var freeSelf = checkGlobal(objectTypes[typeof self] && self);\n  var freeWindow = checkGlobal(objectTypes[typeof window] && window);\n  var moduleExports = (freeModule && freeModule.exports === freeExports) ? freeExports : null;\n  var thisGlobal = checkGlobal(objectTypes[typeof this] && this);\n  var root = freeGlobal || ((freeWindow !== (thisGlobal && thisGlobal.window)) && freeWindow) || freeSelf || thisGlobal || Function('return this')();\n\n  // Because of build optimizers\n  if (typeof define === 'function' && define.amd) {\n    define(['rx'], function (Rx, exports) {\n      return factory(root, exports, Rx);\n    });\n  } else if (typeof module === 'object' && module && module.exports === freeExports) {\n    module.exports = factory(root, module.exports, require('rx'));\n  } else {\n    root.Rx = factory(root, {}, root.Rx);\n  }\n}.call(this, function (root, exp, Rx, undefined) {\n\n  var Observable = Rx.Observable,\n    ObservableBase = Rx.ObservableBase,\n    AbstractObserver = Rx.internals.AbstractObserver,\n    observerCreate = Rx.Observer.create,\n    observableCreate = Rx.Observable.create,\n    disposableCreate = Rx.Disposable.create,\n    Disposable = Rx.Disposable,\n    CompositeDisposable = Rx.CompositeDisposable,\n    BinaryDisposable = Rx.BinaryDisposable,\n    SingleAssignmentDisposable = Rx.SingleAssignmentDisposable,\n    Subject = Rx.Subject,\n    Scheduler = Rx.Scheduler,\n    dom = Rx.DOM = {},\n    hasOwnProperty = {}.hasOwnProperty,\n    noop = Rx.helpers.noop,\n    isFunction = Rx.helpers.isFunction,\n    inherits = Rx.internals.inherits;\n\n  var errorObj = {e: {}};\n\n  function tryCatcherGen(tryCatchTarget) {\n    return function tryCatcher() {\n      try {\n        return tryCatchTarget.apply(this, arguments);\n      } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n      }\n    };\n  }\n\n  function tryCatch(fn) {\n    if (!isFunction(fn)) { throw new TypeError('fn must be a function'); }\n    return tryCatcherGen(fn);\n  }\n\n  function thrower(e) {\n    throw e;\n  }\n\n  function CreateListenerDisposable(element, name, handler, useCapture) {\n    this._e = element;\n    this._n = name;\n    this._fn = handler;\n    this._u = useCapture;\n    this._e.addEventListener(this._n, this._fn, this._u);\n    this.isDisposed = false;\n  }\n\n  CreateListenerDisposable.prototype.dispose = function () {\n    if (!this.isDisposed) {\n      this.isDisposed = true;\n      this._e.removeEventListener(this._n, this._fn, this._u);\n    }\n  };\n\n  function createListener (element, name, handler, useCapture) {\n    if (element.addEventListener) {\n      return new CreateListenerDisposable(element, name, handler, useCapture);\n    }\n    throw new Error('No listener found');\n  }\n\n  function createEventListener (el, eventName, handler, useCapture) {\n    var disposables = new CompositeDisposable();\n\n    // Asume NodeList or HTMLCollection\n    var toStr = Object.prototype.toString;\n    if (toStr.call(el) === '[object NodeList]' || toStr.call(el) === '[object HTMLCollection]') {\n      for (var i = 0, len = el.length; i < len; i++) {\n        disposables.add(createEventListener(el.item(i), eventName, handler, useCapture));\n      }\n    } else if (el) {\n      disposables.add(createListener(el, eventName, handler, useCapture));\n    }\n    return disposables;\n  }\n\n  var FromEventObservable = (function(__super__) {\n    inherits(FromEventObservable, __super__);\n    function FromEventObservable(element, eventName, selector, useCapture) {\n      this._e = element;\n      this._n = eventName;\n      this._fn = selector;\n      this._uc = useCapture;\n      __super__.call(this);\n    }\n\n    function createHandler(o, fn) {\n      return function handler() {\n        var results = arguments[0];\n        if (fn) {\n          results = tryCatch(fn).apply(null, arguments);\n          if (results === errorObj) { return o.onError(results.e); }\n        }\n        o.onNext(results);\n      };\n    }\n\n    FromEventObservable.prototype.subscribeCore = function (o) {\n      return createEventListener(\n        this._e,\n        this._n,\n        createHandler(o, this._fn),\n        this._uc);\n    };\n\n    return FromEventObservable;\n  }(ObservableBase));\n\n  /**\n   * Creates an observable sequence by adding an event listener to the matching DOMElement or each item in the NodeList.\n   * @param {Object} element The DOMElement or NodeList to attach a listener.\n   * @param {String} eventName The event name to attach the observable sequence.\n   * @param {Function} [selector] A selector which takes the arguments from the event handler to produce a single item to yield on next.\n   * @param {Boolean} [useCapture] If true, useCapture indicates that the user wishes to initiate capture. After initiating capture, all events of the specified type will be dispatched to the registered listener before being dispatched to any EventTarget beneath it in the DOM tree. Events which are bubbling upward through the tree will not trigger a listener designated to use capture\n   * @returns {Observable} An observable sequence of events from the specified element and the specified event.\n   */\n  var fromEvent = dom.fromEvent = function (element, eventName, selector, useCapture) {\n    var selectorFn = isFunction(selector) ? selector : null;\n    typeof selector === 'boolean' && (useCapture = selector);\n    typeof useCapture === 'undefined' && (useCapture = false);\n    return new FromEventObservable(element, eventName, selectorFn, useCapture).publish().refCount();\n  };\n\n  (function () {\n    var events = 'blur focus focusin focusout load resize scroll unload click dblclick ' +\n      'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave ' +\n      'change select submit keydown keypress keyup error contextmenu input';\n\n    if (root.PointerEvent) {\n      events += ' pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave';\n    }\n\n    if (root.TouchEvent) {\n      events += ' touchstart touchend touchmove touchcancel';\n    }\n\n    events = events.split(' ');\n\n    for(var i = 0, len = events.length; i < len; i++) {\n      (function (e) {\n        dom[e] = function (element, selector, useCapture) {\n          return fromEvent(element, e, selector, useCapture);\n        };\n      }(events[i]))\n    }\n  }());\n\n  var ReadyObservable = (function (__super__) {\n    inherits(ReadyObservable, __super__);\n    function ReadyObservable() {\n      __super__.call(this);\n    }\n\n    function createHandler(o) {\n      return function handler() {\n        o.onNext();\n        o.onCompleted();\n      };\n    }\n\n    ReadyObservable.prototype.subscribeCore = function (o) {\n      return new ReadyDisposable(o, createHandler(o));\n    };\n\n    function ReadyDisposable(o, fn) {\n      this._o = o;\n      this._fn = fn;\n      this._addedHandlers = false;\n      this.isDisposed = false;\n\n      if (root.document.readyState === 'complete') {\n        setTimeout(this._fn, 0);\n      } else {\n        this._addedHandlers = true;\n        root.document.addEventListener( 'DOMContentLoaded', this._fn, false );\n      }\n    }\n\n    ReadyDisposable.prototype.dispose = function () {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        root.document.removeEventListener( 'DOMContentLoaded', this._fn, false );\n      }\n    };\n\n    return ReadyObservable;\n  }(ObservableBase));\n\n  /**\n   * Creates an observable sequence when the DOM is loaded\n   * @returns {Observable} An observable sequence fired when the DOM is loaded\n   */\n  dom.ready = function () {\n    return new ReadyObservable();\n  };\n\n\n  // Gets the proper XMLHttpRequest for support for older IE\n  function getXMLHttpRequest() {\n    if (root.XMLHttpRequest) {\n      return new root.XMLHttpRequest();\n    } else {\n      var progId;\n      try {\n        var progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'];\n        for(var i = 0; i < 3; i++) {\n          try {\n            progId = progIds[i];\n            if (new root.ActiveXObject(progId)) {\n              break;\n            }\n          } catch(e) { }\n        }\n        return new root.ActiveXObject(progId);\n      } catch (e) {\n        throw new Error('XMLHttpRequest is not supported by your browser');\n      }\n    }\n  }\n\n  // Get CORS support even for older IE\n  function getCORSRequest() {\n    var xhr = new root.XMLHttpRequest();\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n      return xhr;\n    } else if (!!root.XDomainRequest) {\n      return new XDomainRequest();\n    } else {\n      throw new Error('CORS is not supported by your browser');\n    }\n  }\n\n  function normalizeAjaxSuccessEvent(e, xhr, settings) {\n    var response = ('response' in xhr) ? xhr.response : xhr.responseText;\n    response = settings.responseType === 'json' ? JSON.parse(response) : response;\n    return {\n      response: response,\n      status: xhr.status,\n      responseType: xhr.responseType,\n      xhr: xhr,\n      originalEvent: e\n    };\n  }\n\n  function normalizeAjaxErrorEvent(e, xhr, type) {\n    return {\n      type: type,\n      status: xhr.status,\n      xhr: xhr,\n      originalEvent: e\n    };\n  }\n\n  var AjaxObservable = (function(__super__) {\n    inherits(AjaxObservable, __super__);\n    function AjaxObservable(settings) {\n      this._settings = settings;\n      __super__.call(this);\n    }\n\n    AjaxObservable.prototype.subscribeCore = function (o) {\n      var state = { isDone: false };\n      var xhr;\n\n      var settings = this._settings;\n      var normalizeError = settings.normalizeError;\n      var normalizeSuccess = settings.normalizeSuccess;\n\n      var processResponse = function(xhr, e){\n        var status = xhr.status === 1223 ? 204 : xhr.status;\n        if ((status >= 200 && status <= 300) || status === 0 || status === '') {\n          o.onNext(normalizeSuccess(e, xhr, settings));\n          o.onCompleted();\n        } else {\n          o.onError(settings.normalizeError(e, xhr, 'error'));\n        }\n        state.isDone = true;\n      };\n\n      try {\n        xhr = settings.createXHR();\n      } catch (err) {\n        return o.onError(err);\n      }\n\n      try {\n        if (settings.user) {\n          xhr.open(settings.method, settings.url, settings.async, settings.user, settings.password);\n        } else {\n          xhr.open(settings.method, settings.url, settings.async);\n        }\n\n        var headers = settings.headers;\n        for (var header in headers) {\n          if (hasOwnProperty.call(headers, header)) {\n            xhr.setRequestHeader(header, headers[header]);\n          }\n        }\n\n        xhr.timeout = settings.timeout;\n        xhr.ontimeout = function (e) {\n          settings.progressObserver && settings.progressObserver.onError(e);\n          o.onError(normalizeError(e, xhr, 'timeout'));\n        };\n\n        if(!!xhr.upload || (!('withCredentials' in xhr) && !!root.XDomainRequest)) {\n          xhr.onload = function(e) {\n            if(settings.progressObserver) {\n              settings.progressObserver.onNext(e);\n              settings.progressObserver.onCompleted();\n            }\n            processResponse(xhr, e);\n          };\n\n          if(settings.progressObserver) {\n            xhr.onprogress = function(e) {\n              settings.progressObserver.onNext(e);\n            };\n          }\n\n          xhr.onerror = function(e) {\n            settings.progressObserver && settings.progressObserver.onError(e);\n            o.onError(normalizeError(e, xhr, 'error'));\n            state.isDone = true;\n          };\n\n          xhr.onabort = function(e) {\n            settings.progressObserver && settings.progressObserver.onError(e);\n            o.onError(normalizeError(e, xhr, 'abort'));\n            state.isDone = true;\n          };\n        } else {\n          xhr.onreadystatechange = function (e) {\n            xhr.readyState === 4 && processResponse(xhr, e);\n          };\n        }\n\n        var contentType = settings.headers['Content-Type'] ||\n            settings.headers['Content-type'] ||\n            settings.headers['content-type'];\n        if (settings.hasContent && contentType === 'application/x-www-form-urlencoded' && typeof settings.body !== 'string') {\n          var newBody = [];\n          for (var prop in settings.body) {\n            if (hasOwnProperty.call(settings.body, prop)) {\n              newBody.push(prop + '=' + settings.body[prop]);\n            }\n          }\n          settings.body = newBody.join('&');\n        }\n\n        xhr.send(settings.hasContent && settings.body || null);\n      } catch (e) {\n        o.onError(e);\n      }\n\n      return new AjaxDisposable(state, xhr);\n    };\n\n    function AjaxDisposable(state, xhr) {\n      this._state = state;\n      this._xhr = xhr;\n      this.isDisposed = false;\n    }\n\n    AjaxDisposable.prototype.dispose = function () {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        if (!this._state.isDone && this._xhr.readyState !== 4) { this._xhr.abort(); }\n      }\n    };\n\n    return AjaxObservable;\n  }(ObservableBase));\n\n  /**\n   * Creates an observable for an Ajax request with either a settings object with url, headers, etc or a string for a URL.\n   *\n   * @example\n   *   source = Rx.DOM.ajax('/products');\n   *   source = Rx.DOM.ajax( url: 'products', method: 'GET' });\n   *\n   * @param {Object} settings Can be one of the following:\n   *\n   *  A string of the URL to make the Ajax call.\n   *  An object with the following properties\n   *   - url: URL of the request\n   *   - body: The body of the request\n   *   - method: Method of the request, such as GET, POST, PUT, PATCH, DELETE\n   *   - async: Whether the request is async\n   *   - headers: Optional headers\n   *   - crossDomain: true if a cross domain request, else false\n   *\n   * @returns {Observable} An observable sequence containing the XMLHttpRequest.\n  */\n  var ajaxRequest = dom.ajax = function (options) {\n    var settings = {\n      method: 'GET',\n      crossDomain: false,\n      async: true,\n      headers: {},\n      responseType: 'text',\n      timeout: 0,\n      createXHR: function(){\n        return this.crossDomain ? getCORSRequest() : getXMLHttpRequest()\n      },\n      normalizeError: normalizeAjaxErrorEvent,\n      normalizeSuccess: normalizeAjaxSuccessEvent\n    };\n\n    if(typeof options === 'string') {\n      settings.url = options;\n    } else {\n      for(var prop in options) {\n        if(hasOwnProperty.call(options, prop)) {\n          settings[prop] = options[prop];\n        }\n      }\n    }\n\n    if (!settings.crossDomain && !settings.headers['X-Requested-With']) {\n      settings.headers['X-Requested-With'] = 'XMLHttpRequest';\n    }\n    settings.hasContent = settings.body !== undefined;\n\n    return new AjaxObservable(settings);\n  };\n\n  /**\n   * Creates an observable sequence from an Ajax POST Request with the body.\n   *\n   * @param {String} url The URL to POST\n   * @param {Object} body The body to POST\n   * @returns {Observable} The observable sequence which contains the response from the Ajax POST.\n   */\n  dom.post = function (url, body) {\n    var settings;\n    if (typeof url === 'string') {\n      settings = {url: url, body: body, method: 'POST' };\n    } else if (typeof url === 'object') {\n      settings = url;\n      settings.method = 'POST';\n    }\n    return ajaxRequest(settings);\n  };\n\n  /**\n   * Creates an observable sequence from an Ajax GET Request with the body.\n   *\n   * @param {String} url The URL to GET\n   * @returns {Observable} The observable sequence which contains the response from the Ajax GET.\n   */\n  dom.get = function (url) {\n    var settings;\n    if (typeof url === 'string') {\n      settings = {url: url };\n    } else if (typeof url === 'object') {\n      settings = url;\n    }\n    return ajaxRequest(settings);\n  };\n\n  /**\n   * Creates an observable sequence from JSON from an Ajax request\n   *\n   * @param {String} url The URL to GET\n   * @returns {Observable} The observable sequence which contains the parsed JSON.\n   */\n  dom.getJSON = function (url) {\n    if (!root.JSON && typeof root.JSON.parse !== 'function') { throw new TypeError('JSON is not supported in your runtime.'); }\n    return ajaxRequest({url: url, responseType: 'json'}).map(function (x) {\n      return x.response;\n    });\n  };\n\n  var destroy = (function () {\n    var trash = 'document' in root && root.document.createElement('div');\n    return function (element) {\n      trash.appendChild(element);\n      trash.innerHTML = '';\n    };\n  })();\n\n  var ScriptObservable = (function(__super__) {\n    inherits(ScriptObservable, __super__);\n    function ScriptObservable(settings) {\n      this._settings = settings;\n      __super__.call(this);\n    }\n\n    ScriptObservable.id = 0;\n\n    ScriptObservable.prototype.subscribeCore = function (o) {\n      var settings = {\n        jsonp: 'JSONPCallback',\n        async: true,\n        jsonpCallback: 'rxjsjsonpCallbacks' + 'callback_' + (ScriptObservable.id++).toString(36)\n      };\n\n      if(typeof this._settings === 'string') {\n        settings.url = this._settings;\n      } else {\n        for(var prop in this._settings) {\n          if(hasOwnProperty.call(this._settings, prop)) {\n            settings[prop] = this._settings[prop];\n          }\n        }\n      }\n\n      var script = root.document.createElement('script');\n      script.type = 'text/javascript';\n      script.async = settings.async;\n      script.src = settings.url.replace(settings.jsonp, settings.jsonpCallback);\n\n      root[settings.jsonpCallback] = function(data) {\n        root[settings.jsonpCallback].called = true;\n        root[settings.jsonpCallback].data = data;\n      };\n\n      var handler = function(e) {\n        if(e.type === 'load' && !root[settings.jsonpCallback].called) {\n          e = { type: 'error' };\n        }\n        var status = e.type === 'error' ? 400 : 200;\n        var data = root[settings.jsonpCallback].data;\n\n        if(status === 200) {\n          o.onNext({\n            status: status,\n            responseType: 'jsonp',\n            response: data,\n            originalEvent: e\n          });\n\n          o.onCompleted();\n        }\n        else {\n          o.onError({\n            type: 'error',\n            status: status,\n            originalEvent: e\n          });\n        }\n      };\n\n      script.onload = script.onreadystatechanged = script.onerror = handler;\n\n      var head = root.document.getElementsByTagName('head')[0] || root.document.documentElement;\n      head.insertBefore(script, head.firstChild);\n\n      return new ScriptDisposable(script);\n    };\n\n    function ScriptDisposable(script) {\n      this._script = script;\n      this.isDisposed = false;\n    }\n\n    ScriptDisposable.prototype.dispose = function () {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        this._script.onload = this._script.onreadystatechanged = this._script.onerror = null;\n        destroy(this._script);\n        this._script = null;\n      }\n    };\n\n    return ScriptObservable;\n  }(ObservableBase));\n\n  /**\n   * Creates an observable JSONP Request with the specified settings.\n   * @param {Object} settings Can be one of the following:\n   *\n   *  A string of the URL to make the JSONP call with the JSONPCallback=? in the url.\n   *  An object with the following properties\n   *   - url: URL of the request\n   *   - jsonp: The named callback parameter for the JSONP call\n   *   - jsonpCallback: Callback to execute. For when the JSONP callback can't be changed\n   *\n   * @returns {Observable} A cold observable containing the results from the JSONP call.\n   */\n   dom.jsonpRequest = function (settings) {\n     return new ScriptObservable(settings);\n   };\n\n  function socketClose(socket, closingObserver, code, reason) {\n    if (socket) {\n      if (closingObserver) {\n        closingObserver.onNext();\n        closingObserver.onCompleted();\n      }\n      if (!code) {\n        socket.close();\n      } else {\n        socket.close(code, reason);\n      }\n    }\n  }\n\n  var SocketObservable = (function (__super__) {\n    inherits(SocketObservable, __super__);\n    function SocketObservable(state, url, protocol, open, close) {\n      this._state = state;\n      this._url = url;\n      this._protocol = protocol;\n      this._open = open;\n      this._close = close;\n      __super__.call(this);\n    }\n\n    function createOpenHandler(open, socket) {\n      return function openHandler(e) {\n        open.onNext(e);\n        open.onCompleted();\n        socket.removeEventListener('open', openHandler, false);\n      };\n    }\n    function createMsgHandler(o) { return function msgHandler(e) { o.onNext(e); }; }\n    function createErrHandler(o) { return function errHandler(e) { o.onError(e); }; }\n    function createCloseHandler(o) {\n      return function closeHandler(e) {\n        if (e.code !== 1000 || !e.wasClean) { return o.onError(e); }\n        o.onCompleted();\n      };\n    }\n\n    function SocketDisposable(socket, msgFn, errFn, closeFn, close) {\n      this._socket = socket;\n      this._msgFn = msgFn;\n      this._errFn = errFn;\n      this._closeFn = closeFn;\n      this._close = close;\n      this.isDisposed = false;\n    }\n\n    SocketDisposable.prototype.dispose = function () {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        socketClose(this._socket, this._close);\n\n        this._socket.removeEventListener('message', this._msgFn, false);\n        this._socket.removeEventListener('error', this._errFn, false);\n        this._socket.removeEventListener('close', this._closeFn, false);\n      }\n    };\n\n    SocketObservable.prototype.subscribeCore = function (o) {\n      this._state.socket = this._protocol ? new WebSocket(this._url, this._protocol) : new WebSocket(this._url);\n\n      var openHandler = createOpenHandler(this._open, this._state.socket);\n      var msgHandler = createMsgHandler(o);\n      var errHandler = createErrHandler(o);\n      var closeHandler = createCloseHandler(o);\n\n      this._open && this._state.socket.addEventListener('open', openHandler, false);\n      this._state.socket.addEventListener('message', msgHandler, false);\n      this._state.socket.addEventListener('error', errHandler, false);\n      this._state.socket.addEventListener('close', closeHandler, false);\n\n      return new SocketDisposable(this._state.socket, msgHandler, errHandler, closeHandler, this._close);\n    };\n\n    return SocketObservable;\n  }(ObservableBase));\n\n  var SocketObserver = (function (__super__) {\n    inherits(SocketObserver, __super__);\n    function SocketObserver(state, close) {\n      this._state = state;\n      this._close = close;\n      __super__.call(this);\n    }\n\n    SocketObserver.prototype.next = function (x) {\n      this._state.socket && this._state.socket.readyState === WebSocket.OPEN && this._state.socket.send(x);\n    };\n\n    SocketObserver.prototype.error = function (e) {\n      if (!e.code) {\n        throw new Error('no code specified. be sure to pass { code: ###, reason: \"\" } to onError()');\n      }\n      socketClose(this._state.socket, this._close, e.code, e.reason || '');\n    };\n\n    SocketObserver.prototype.completed = function () {\n      socketClose(this._state.socket, this._close, 1000, '');\n    };\n\n    return SocketObserver;\n  }(AbstractObserver));\n\n   /**\n   * Creates a WebSocket Subject with a given URL, protocol and an optional observer for the open event.\n   *\n   * @example\n   *  var socket = Rx.DOM.fromWebSocket('http://localhost:8080', 'stock-protocol', openObserver, closingObserver);\n   *\n   * @param {String} url The URL of the WebSocket.\n   * @param {String} protocol The protocol of the WebSocket.\n   * @param {Observer} [openObserver] An optional Observer to capture the open event.\n   * @param {Observer} [closingObserver] An optional Observer to capture the moment before the underlying socket is closed.\n   * @returns {Subject} An observable sequence wrapping a WebSocket.\n   */\n  dom.fromWebSocket = function (url, protocol, openObserver, closingObserver) {\n    if (!WebSocket) { throw new TypeError('WebSocket not implemented in your runtime.'); }\n    var state = { socket: null };\n    return Subject.create(\n      new SocketObserver(state, closingObserver),\n      new SocketObservable(state, url, protocol, openObserver, closingObserver)\n    );\n  };\n\n  var WorkerObserver = (function (__super__) {\n    inherits(WorkerObserver, __super__);\n    function WorkerObserver(state) {\n      this._state = state;\n      __super__.call(this);\n    }\n\n    WorkerObserver.prototype.next = function (x) { this._state.worker && this._state.worker.postMessage(x); };\n    WorkerObserver.prototype.error = function (e) { throw e; };\n    WorkerObserver.prototype.completed = function () { };\n\n    return WorkerObserver;\n  }(AbstractObserver));\n\n  var WorkerObservable = (function (__super__) {\n    inherits(WorkerObservable, __super__);\n    function WorkerObservable(state, url) {\n      this._state = state;\n      this._url = url;\n      __super__.call(this);\n    }\n\n    function createMessageHandler(o) { return function messageHandler (e) { o.onNext(e); }; }\n    function createErrHandler(o) { return function errHandler(e) { o.onError(e); }; }\n\n    function WorkerDisposable(w, msgFn, errFn) {\n      this._w = w;\n      this._msgFn = msgFn;\n      this._errFn = errFn;\n      this.isDisposed = false;\n    }\n\n    WorkerDisposable.prototype.dispose = function () {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        this._w.terminate();\n        this._w.removeEventListener('message', this._msgFn, false);\n        this._w.removeEventListener('error', this._errFn, false);\n      }\n    };\n\n    WorkerObservable.prototype.subscribeCore = function (o) {\n      this._state.worker = new root.Worker(this._url);\n\n      var messageHandler = createMessageHandler(o);\n      var errHandler = createErrHandler(o);\n\n      this._state.worker.addEventListener('message', messageHandler, false);\n      this._state.worker.addEventListener('error', errHandler, false);\n\n      return new WorkerDisposable(this._state.worker, messageHandler, errHandler);\n    };\n\n    return WorkerObservable;\n  }(ObservableBase));\n\n  /**\n   * Creates a Web Worker with a given URL as a Subject.\n   *\n   * @example\n   * var worker = Rx.DOM.fromWebWorker('worker.js');\n   *\n   * @param {String} url The URL of the Web Worker.\n   * @returns {Subject} A Subject wrapping the Web Worker.\n   */\n  dom.fromWorker = function (url) {\n    if (!root.Worker) { throw new TypeError('Worker not implemented in your runtime.'); }\n    var state = { worker: null };\n    return Subject.create(new WorkerObserver(state), new WorkerObservable(state, url));\n  };\n\n  function getMutationObserver(next) {\n    var M = root.MutationObserver || root.WebKitMutationObserver;\n    return new M(next);\n  }\n\n  var MutationObserverObservable = (function (__super__) {\n    inherits(MutationObserverObservable, __super__);\n    function MutationObserverObservable(target, options) {\n      this._target = target;\n      this._options = options;\n      __super__.call(this);\n    }\n\n    function InnerDisposable(mutationObserver) {\n      this._m = mutationObserver;\n      this.isDisposed = false;\n    }\n\n    InnerDisposable.prototype.dispose = function () {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        this._m.disconnect();\n      }\n    };\n\n    MutationObserverObservable.prototype.subscribeCore = function (o) {\n      var mutationObserver = getMutationObserver(function (e) { o.onNext(e); });\n      mutationObserver.observe(this._target, this._options);\n      return new InnerDisposable(mutationObserver);\n    };\n\n    return MutationObserverObservable;\n  }(ObservableBase));\n\n  /**\n   * Creates an observable sequence from a Mutation Observer.\n   * MutationObserver provides developers a way to react to changes in a DOM.\n   * @example\n   *  Rx.DOM.fromMutationObserver(document.getElementById('foo'), { attributes: true, childList: true, characterData: true });\n   *\n   * @param {Object} target The Node on which to obserave DOM mutations.\n   * @param {Object} options A MutationObserverInit object, specifies which DOM mutations should be reported.\n   * @returns {Observable} An observable sequence which contains mutations on the given DOM target.\n   */\n  dom.fromMutationObserver = function (target, options) {\n    if (!(root.MutationObserver || root.WebKitMutationObserver)) { throw new TypeError('MutationObserver not implemented in your runtime.'); }\n    return new MutationObserverObservable(target, options);\n  };\n\n  var CurrentPositionObservable = (function (__super__) {\n    inherits(CurrentPositionObservable, __super__);\n    function CurrentPositionObservable(opts) {\n      this._opts = opts;\n      __super__.call(this);\n    }\n\n    CurrentPositionObservable.prototype.subscribeCore = function (o) {\n      root.navigator.geolocation.getCurrentPosition(\n        function (data) {\n          o.onNext(data);\n          o.onCompleted();\n        },\n        function (e) { o.onError(e); },\n        this._opts);\n    };\n\n    return CurrentPositionObservable;\n  }(ObservableBase));\n\n  var WatchPositionObservable = (function (__super__) {\n    inherits(WatchPositionObservable, __super__);\n    function WatchPositionObservable(opts) {\n      this._opts = opts;\n      __super__.call(this);\n    }\n\n    function WatchPositionDisposable(id) {\n      this._id = id;\n      this.isDisposed = false;\n    }\n\n    WatchPositionDisposable.prototype.dispose = function () {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        root.navigator.geolocation.clearWatch(this._id);\n      }\n    };\n\n    WatchPositionObservable.prototype.subscribeCore = function (o) {\n      var watchId = root.navigator.geolocation.watchPosition(\n        function (x) { o.onNext(x); },\n        function (e) { o.onError(e); },\n        this._opts);\n\n      return new WatchPositionDisposable(watchId);\n    };\n\n    return WatchPositionObservable;\n  }(ObservableBase));\n\n  Rx.DOM.geolocation = {\n    /**\n    * Obtains the geographic position, in terms of latitude and longitude coordinates, of the device.\n    * @param {Object} [geolocationOptions] An object literal to specify one or more of the following attributes and desired values:\n    *   - enableHighAccuracy: Specify true to obtain the most accurate position possible, or false to optimize in favor of performance and power consumption.\n    *   - timeout: An Integer value that indicates the time, in milliseconds, allowed for obtaining the position.\n    *              If timeout is Infinity, (the default value) the location request will not time out.\n    *              If timeout is zero (0) or negative, the results depend on the behavior of the location provider.\n    *   - maximumAge: An Integer value indicating the maximum age, in milliseconds, of cached position information.\n    *                 If maximumAge is non-zero, and a cached position that is no older than maximumAge is available, the cached position is used instead of obtaining an updated location.\n    *                 If maximumAge is zero (0), watchPosition always tries to obtain an updated position, even if a cached position is already available.\n    *                 If maximumAge is Infinity, any cached position is used, regardless of its age, and watchPosition only tries to obtain an updated position if no cached position data exists.\n    * @returns {Observable} An observable sequence with the geographical location of the device running the client.\n    */\n    getCurrentPosition: function (geolocationOptions) {\n      if (!root.navigator && !root.navigation.geolocation) { throw new TypeError('geolocation not available'); }\n      return new CurrentPositionObservable(geolocationOptions);\n    },\n\n    /**\n    * Begins listening for updates to the current geographical location of the device running the client.\n    * @param {Object} [geolocationOptions] An object literal to specify one or more of the following attributes and desired values:\n    *   - enableHighAccuracy: Specify true to obtain the most accurate position possible, or false to optimize in favor of performance and power consumption.\n    *   - timeout: An Integer value that indicates the time, in milliseconds, allowed for obtaining the position.\n    *              If timeout is Infinity, (the default value) the location request will not time out.\n    *              If timeout is zero (0) or negative, the results depend on the behavior of the location provider.\n    *   - maximumAge: An Integer value indicating the maximum age, in milliseconds, of cached position information.\n    *                 If maximumAge is non-zero, and a cached position that is no older than maximumAge is available, the cached position is used instead of obtaining an updated location.\n    *                 If maximumAge is zero (0), watchPosition always tries to obtain an updated position, even if a cached position is already available.\n    *                 If maximumAge is Infinity, any cached position is used, regardless of its age, and watchPosition only tries to obtain an updated position if no cached position data exists.\n    * @returns {Observable} An observable sequence with the current geographical location of the device running the client.\n    */\n    watchPosition: function (geolocationOptions) {\n      if (!root.navigator && !root.navigation.geolocation) { throw new TypeError('geolocation not available'); }\n      return new WatchPositionObservable(geolocationOptions).publish().refCount();\n    }\n  };\n\n  var FromReaderObservable = (function (__super__) {\n    inherits(FromReaderObservable, __super__);\n    function FromReaderObservable(readerFn, file, progressObserver, encoding) {\n      this._readerFn  = readerFn;\n      this._file = file;\n      this._progressObserver = progressObserver;\n      this._encoding = encoding;\n      __super__.call(this);\n    }\n\n    function createLoadHandler(o, p) {\n      return function loadHandler(e) {\n        p && p.onCompleted();\n        o.onNext(e.target.result);\n        o.onCompleted();\n      };\n    }\n\n    function createErrorHandler(o) { return function errorHandler (e) { o.onError(e.target.error); }; }\n    function createProgressHandler(o) { return function progressHandler (e) { o.onNext(e); }; }\n\n    function FromReaderDisposable(reader, progressObserver, loadHandler, errorHandler, progressHandler) {\n      this._r = reader;\n      this._po = progressObserver;\n      this._lFn = loadHandler;\n      this._eFn = errorHandler;\n      this._pFn = progressHandler;\n      this.isDisposed = false;\n    }\n\n    FromReaderDisposable.prototype.dispose = function () {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        this._r.readyState === root.FileReader.LOADING && this._r.abort();\n        this._r.removeEventListener('load', this._lFn, false);\n        this._r.removeEventListener('error', this._eFn, false);\n        this._po && this._r.removeEventListener('progress', this._pFn, false);\n      }\n    };\n\n    FromReaderObservable.prototype.subscribeCore = function (o) {\n      var reader = new root.FileReader();\n\n      var loadHandler = createLoadHandler(o, this._progressObserver);\n      var errorHandler = createErrorHandler(o);\n      var progressHandler = createProgressHandler(this._progressObserver);\n\n      reader.addEventListener('load', loadHandler, false);\n      reader.addEventListener('error', errorHandler, false);\n      this._progressObserver && reader.addEventListener('progress', progressHandler, false);\n\n      reader[this._readerFn](this._file, this._encoding);\n\n      return new FromReaderDisposable(reader, this._progressObserver, loadHandler, errorHandler, progressHandler);\n    };\n\n    return FromReaderObservable;\n  }(ObservableBase));\n\n  /**\n   * The FileReader object lets web applications asynchronously read the contents of\n   * files (or raw data buffers) stored on the user's computer, using File or Blob objects\n   * to specify the file or data to read as an observable sequence.\n   * @param {String} file The file to read.\n   * @param {Observer} An observer to watch for progress.\n   * @returns {Object} An object which contains methods for reading the data.\n   */\n  dom.fromReader = function(file, progressObserver) {\n    if (!root.FileReader) { throw new TypeError('FileReader not implemented in your runtime.'); }\n\n    return {\n      /**\n       * This method is used to read the file as an ArrayBuffer as an Observable stream.\n       * @returns {Observable} An observable stream of an ArrayBuffer\n       */\n      asArrayBuffer : function() {\n        return new FromReaderObservable('readAsArrayBuffer', file, progressObserver);\n      },\n      /**\n       * This method is used to read the file as a binary data string as an Observable stream.\n       * @returns {Observable} An observable stream of a binary data string.\n       */\n      asBinaryString : function() {\n        return new FromReaderObservable('readAsBinaryString', file, progressObserver);\n      },\n      /**\n       * This method is used to read the file as a URL of the file's data as an Observable stream.\n       * @returns {Observable} An observable stream of a URL representing the file's data.\n       */\n      asDataURL : function() {\n        return new FromReaderObservable('readAsDataURL', file, progressObserver);\n      },\n      /**\n       * This method is used to read the file as a string as an Observable stream.\n       * @returns {Observable} An observable stream of the string contents of the file.\n       */\n      asText : function(encoding) {\n        return new FromReaderObservable('readAsText', file, progressObserver, encoding);\n      }\n    };\n  };\n\n  var EventSourceObservable = (function(__super__) {\n    inherits(EventSourceObservable, __super__);\n    function EventSourceObservable(url, open) {\n      this._url = url;\n      this._open = open;\n      __super__.call(this);\n    }\n\n    function createOnOpen(o, source) {\n      return function onOpen(e) {\n        o.onNext(e);\n        o.onCompleted();\n        source.removeEventListener('open', onOpen, false);\n      };\n    }\n\n    function createOnError(o) {\n      return function onError(e) {\n        if (e.readyState === EventSource.CLOSED) {\n          o.onCompleted();\n        } else {\n          o.onError(e);\n        }\n      };\n    }\n\n    function createOnMessage(o) { return function onMessage(e) { o.onNext(e.data); }; }\n\n    function EventSourceDisposable(s, errFn, msgFn) {\n      this._s = s;\n      this._errFn = errFn;\n      this._msgFn = msgFn;\n      this.isDisposed = false;\n    }\n\n    EventSourceDisposable.prototype.dispose = function () {\n      if (!this.isDisposed) {\n        this._s.removeEventListener('error', this._errFn, false);\n        this._s.removeEventListener('message', this._msgFn, false);\n        this._s.close();\n      }\n    };\n\n    EventSourceObservable.prototype.subscribeCore = function (o) {\n      var source = new EventSource(this._url);\n      var onOpen = createOnOpen(this._open, source);\n      var onError = createOnError(o);\n      var onMessage = createOnMessage(o);\n\n      this._open && source.addEventListener('open', onOpen, false);\n      source.addEventListener('error', onError, false);\n      source.addEventListener('message', onMessage, false);\n\n      return new EventSourceDisposable(source, onError, onMessage);\n    };\n\n    return EventSourceObservable;\n  }(ObservableBase));\n\n  /**\n   * This method wraps an EventSource as an observable sequence.\n   * @param {String} url The url of the server-side script.\n   * @param {Observer} [openObserver] An optional observer for the 'open' event for the server side event.\n   * @returns {Observable} An observable sequence which represents the data from a server-side event.\n   */\n  dom.fromEventSource = function (url, openObserver) {\n    if (!root.EventSource) { throw new TypeError('EventSource not implemented in your runtime.'); }\n    return new EventSourceObservable(url, openObserver);\n  };\n\n  var requestAnimFrame, cancelAnimFrame;\n  if (root.requestAnimationFrame) {\n    requestAnimFrame = root.requestAnimationFrame;\n    cancelAnimFrame = root.cancelAnimationFrame;\n  } else if (root.mozRequestAnimationFrame) {\n    requestAnimFrame = root.mozRequestAnimationFrame;\n    cancelAnimFrame = root.mozCancelAnimationFrame;\n  } else if (root.webkitRequestAnimationFrame) {\n    requestAnimFrame = root.webkitRequestAnimationFrame;\n    cancelAnimFrame = root.webkitCancelAnimationFrame;\n  } else if (root.msRequestAnimationFrame) {\n    requestAnimFrame = root.msRequestAnimationFrame;\n    cancelAnimFrame = root.msCancelAnimationFrame;\n  } else if (root.oRequestAnimationFrame) {\n    requestAnimFrame = root.oRequestAnimationFrame;\n    cancelAnimFrame = root.oCancelAnimationFrame;\n  } else {\n    requestAnimFrame = function(cb) { root.setTimeout(cb, 1000 / 60); };\n    cancelAnimFrame = root.clearTimeout;\n  }\n\n  /**\n   * Gets a scheduler that schedules schedules work on the requestAnimationFrame for immediate actions.\n   */\n  Scheduler.requestAnimationFrame = (function () {\n    var RequestAnimationFrameScheduler = (function (__super__) {\n      inherits(RequestAnimationFrameScheduler, __super__);\n      function RequestAnimationFrameScheduler() {\n        __super__.call(this);\n      }\n\n      function scheduleAction(disposable, action, scheduler, state) {\n        return function schedule() {\n          !disposable.isDisposed && disposable.setDisposable(Disposable._fixup(action(scheduler, state)));\n        };\n      }\n\n      function ClearDisposable(method, id) {\n        this._id = id;\n        this._method = method;\n        this.isDisposed = false;\n      }\n\n      ClearDisposable.prototype.dispose = function () {\n        if (!this.isDisposed) {\n          this.isDisposed = true;\n          this._method.call(null, this._id);\n        }\n      };\n\n      RequestAnimationFrameScheduler.prototype.schedule = function (state, action) {\n        var disposable = new SingleAssignmentDisposable(),\n            id = requestAnimFrame(scheduleAction(disposable, action, this, state));\n        return new BinaryDisposable(disposable, new ClearDisposable(cancelAnimFrame, id));\n      };\n\n      RequestAnimationFrameScheduler.prototype._scheduleFuture = function (state, dueTime, action) {\n        if (dueTime === 0) { return this.schedule(state, action); }\n        var disposable = new SingleAssignmentDisposable(),\n            id = root.setTimeout(scheduleAction(disposable, action, this, state), dueTime);\n        return new BinaryDisposable(disposable, new ClearDisposable(root.clearTimeout, id));\n      };\n\n      return RequestAnimationFrameScheduler;\n    }(Scheduler));\n\n    return new RequestAnimationFrameScheduler();\n  }());\n\n  /**\n   * Scheduler that uses a MutationObserver changes as the scheduling mechanism\n   */\n  Scheduler.microtask = (function () {\n\n    var nextHandle = 1, tasksByHandle = {}, currentlyRunning = false, scheduleMethod;\n\n    function clearMethod(handle) {\n      delete tasksByHandle[handle];\n    }\n\n    function runTask(handle) {\n      if (currentlyRunning) {\n        root.setTimeout(function () { runTask(handle) }, 0);\n      } else {\n        var task = tasksByHandle[handle];\n        if (task) {\n          currentlyRunning = true;\n          try {\n            task();\n          } catch (e) {\n            throw e;\n          } finally {\n            clearMethod(handle);\n            currentlyRunning = false;\n          }\n        }\n      }\n    }\n\n    function postMessageSupported () {\n      // Ensure not in a worker\n      if (!root.postMessage || root.importScripts) { return false; }\n      var isAsync = false, oldHandler = root.onmessage;\n      // Test for async\n      root.onmessage = function () { isAsync = true; };\n      root.postMessage('', '*');\n      root.onmessage = oldHandler;\n\n      return isAsync;\n    }\n\n    // Use in order, setImmediate, nextTick, postMessage, MessageChannel, script readystatechanged, setTimeout\n    var BrowserMutationObserver = root.MutationObserver || root.WebKitMutationObserver;\n    if (!!BrowserMutationObserver) {\n\n      var PREFIX = 'drainqueue_';\n\n      var observer = new BrowserMutationObserver(function(mutations) {\n        mutations.forEach(function (mutation) {\n          runTask(mutation.attributeName.substring(PREFIX.length));\n        })\n      });\n\n      var element = root.document.createElement('div');\n      observer.observe(element, { attributes: true });\n\n      // Prevent leaks\n      root.addEventListener('unload', function () {\n        observer.disconnect();\n        observer = null;\n      }, false);\n\n      scheduleMethod = function (action) {\n        var id = nextHandle++;\n        tasksByHandle[id] = action;\n        element.setAttribute(PREFIX + id, 'drainQueue');\n        return id;\n      };\n    } else if (typeof root.setImmediate === 'function') {\n      scheduleMethod = function (action) {\n        var id = nextHandle++;\n        tasksByHandle[id] = action;\n        root.setImmediate(function () { runTask(id); });\n\n        return id;\n      };\n    } else if (postMessageSupported()) {\n      var MSG_PREFIX = 'ms.rx.schedule' + Math.random();\n\n      function onGlobalPostMessage(event) {\n        // Only if we're a match to avoid any other global events\n        if (typeof event.data === 'string' && event.data.substring(0, MSG_PREFIX.length) === MSG_PREFIX) {\n          runTask(event.data.substring(MSG_PREFIX.length));\n        }\n      }\n\n      if (root.addEventListener) {\n        root.addEventListener('message', onGlobalPostMessage, false);\n      } else if (root.attachEvent){\n        root.attachEvent('onmessage', onGlobalPostMessage);\n      }\n\n      scheduleMethod = function (action) {\n        var id = nextHandle++;\n        tasksByHandle[id] = action;\n        root.postMessage(MSG_PREFIX + id, '*');\n        return id;\n      };\n    } else if (!!root.MessageChannel) {\n      var channel = new root.MessageChannel();\n\n      channel.port1.onmessage = function (event) {\n        runTask(event.data);\n      };\n\n      scheduleMethod = function (action) {\n        var id = nextHandle++;\n        tasksByHandle[id] = action;\n        channel.port2.postMessage(id);\n        return id;\n      };\n    } else if ('document' in root && 'onreadystatechange' in root.document.createElement('script')) {\n\n      scheduleMethod = function (action) {\n        var scriptElement = root.document.createElement('script');\n        var id = nextHandle++;\n        tasksByHandle[id] = action;\n\n        scriptElement.onreadystatechange = function () {\n          runTask(id);\n          scriptElement.onreadystatechange = null;\n          scriptElement.parentNode.removeChild(scriptElement);\n          scriptElement = null;\n        };\n        root.document.documentElement.appendChild(scriptElement);\n\n        return id;\n      };\n\n    } else {\n      scheduleMethod = function (action) {\n        var id = nextHandle++;\n        tasksByHandle[id] = action;\n        root.setTimeout(function () {\n          runTask(id);\n        }, 0);\n\n        return id;\n      };\n    }\n\n    var MicroTaskScheduler = (function (__super__) {\n      inherits(MicroTaskScheduler, __super__);\n      function MicroTaskScheduler() {\n        __super__.call(this);\n      }\n\n      function scheduleAction(disposable, action, scheduler, state) {\n        return function schedule() {\n          !disposable.isDisposed && disposable.setDisposable(Disposable._fixup(action(scheduler, state)));\n        };\n      }\n\n      function ClearDisposable(method, id) {\n        this._id = id;\n        this._method = method;\n        this.isDisposed = false;\n      }\n\n      ClearDisposable.prototype.dispose = function () {\n        if (!this.isDisposed) {\n          this.isDisposed = true;\n          this._method.call(null, this._id);\n        }\n      };\n\n      MicroTaskScheduler.prototype.schedule = function (state, action) {\n        var disposable = new SingleAssignmentDisposable(),\n            id = scheduleMethod(scheduleAction(disposable, action, this, state));\n        return new BinaryDisposable(disposable, new ClearDisposable(clearMethod, id));\n      };\n\n      MicroTaskScheduler.prototype._scheduleFuture = function (state, dueTime, action) {\n        if (dueTime === 0) { return this.schedule(state, action); }\n        var disposable = new SingleAssignmentDisposable(),\n            id = root.setTimeout(scheduleAction(disposable, action, this, state), dueTime);\n        return new BinaryDisposable(disposable, new ClearDisposable(root.clearTimeout, id));\n      };\n\n      return MicroTaskScheduler;\n    }(Scheduler));\n\n    return new MicroTaskScheduler();\n  }());\n\n  return Rx;\n}));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rx-dom/dist/rx.dom.js\n ** module id = 11\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":""}