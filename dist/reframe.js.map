{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c3960235b00836ebf168","webpack:///./src/main/js/reframe/core.js","webpack:///./src/main/js/reframe/cofx.js","webpack:///./src/main/js/reframe/registrar.js","webpack:///external {\"amd\":\"immutable\",\"commonjs\":\"immutable\",\"commonjs2\":\"immutable\",\"root\":\"Immutable\"}","webpack:///./src/main/js/reframe/interceptor.js","webpack:///./src/main/js/reframe/db.js","webpack:///./src/main/js/reframe/ratom.js","webpack:///external {\"amd\":\"rx\",\"commonjs\":\"rx\",\"commonjs2\":\"rx\",\"root\":\"Rx\"}","webpack:///./src/main/js/reframe/events.js","webpack:///./src/main/js/reframe/fx.js","webpack:///./src/main/js/reframe/router.js","webpack:///./src/main/js/reframe/interop.js","webpack:///./src/main/js/reframe/batching.js","webpack:///./src/main/js/reframe/subs.js","webpack:///./src/main/js/reframe/react.js","webpack:///external {\"amd\":\"react\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"root\":\"React\"}","webpack:///./src/main/js/reframe/shouldupdate.js","webpack:///./src/main/js/reframe/utils.js","webpack:///./~/create-react-class/index.js","webpack:///./~/create-react-class/factory.js","webpack:///./~/process/browser.js","webpack:///./~/create-react-class/~/object-assign/index.js","webpack:///./~/create-react-class/~/fbjs/lib/emptyObject.js","webpack:///./~/create-react-class/~/fbjs/lib/invariant.js","webpack:///./~/create-react-class/~/fbjs/lib/warning.js","webpack:///./~/create-react-class/~/fbjs/lib/emptyFunction.js","webpack:///./src/main/js/reframe/stdinterceptors.js","webpack:///./~/immutablediff/src/diff.js","webpack:///./~/immutablediff/src/utils.js","webpack:///./~/immutablediff/src/lcs.js","webpack:///./~/immutablediff/src/path.js","webpack:///./src/main/js/reframe/subindex.js"],"names":["toggleDebug","toggleReactDebug","isDebug","atom","reaction","cursor","regSubRaw","clearSub","clearFx","clearCofx","clearEvent","regEventDb","regEventFx","regEventCtx","indexPath","registerSub","registerHandler","compMiddleware","swap","reset","togglePause","deref","cofx","db","events","fx","interceptor","interop","react","registrar","router","stdinterceptors","subs","batching","Rx","value","undefined","toggleLog","f","path","appDb","db$","subject","dispatch","dispatchSync","toInterceptor","enqueue","getCoeffect","getEffect","assocEffect","assocCoeffect","when","debug","enrich","trimv","after","onChanges","queryId","handlerFn","kind","regSub","subscribe","id","clearHandlers","clearSubscriptionCache","regFx","register","regCofx","injectCofx","interceptors","dbHandler","injectDb","doFx","dbHandlerToInterceptor","fxHandler","fxHandlerToInterceptor","ctxHandler","ctxHandlerToInterceptor","viewP","viewV","viewSP","viewSV","view","ui","uix","render","flush","index","requestAnimationFrame$","def","sub","name","handler","args","module","exports","default","pause$","Subject","pause","resume","markFlushDom","observable","before","coeffectsBefore","ctx","update","old","doCoeffectsHandler","coeffects","set","getHandler","Immutable","kindIdHandlerMap","Map","required","getIn","console","error","get","setIn","deleteIn","delete","nextInterceptor","execute","mandatoryInterceptorFields","Set","isInterceptor","m","isMap","is","keysSeq","toSet","key","notFound","effect","coeffect","updateCoeffect","updateIn","invokeInterceptorFn","direction","invokeInterceptors","initialCtx","queue","isEmpty","first","stack","List","shift","unshift","concat","context","event","changeDirection","runInCtx","makeReaction","makeAtom","makeRatom","makeRxReaction","makeCursor","pluck","ratomCtx","obj","push","pop","watchInCtx","observer","length","Observable","type","_type","_id","_observers","_observables","_onDispose","other","notify","warn","add","observe","unobserve","size","dispose","forEach","unsubscribe","Atom","_value","_subject","BehaviorSubject","changed","_notifyObservers","onNext","oldValue","_valueChanged","Ratom","Reaction","_f","_dirty","_state","_run","oldState","RxReaction","rx","_rx","distinctUntilChanged","trace","_subscription","a","b","v","Cursor","_atom","_cursor","map","_path","isChanged","options","onDispose","addOnDispose","val","transform","handle","flattenAndRemoveNulls","fromJS","flatMap","filter","Boolean","toList","handling","eventId","rest","doFxAfter","effectFn","values","ms","Array","isArray","setTimeout","isSeq","_flushDom","laterFns","doTrigger","fsm","state","trigger","arg","_pause","_addEvent","_runNextTick","_runQueue","_exception","_queue","peekValue","_resume","Error","Fsm","_postEventCallbacks","callbackFn","newState","actionFn","_callPostEventCallbacks","runProcessEvents","bind","paused","i","later","Object","keys","fn","_process1stEventInQueue","ex","laterFn","EventQueue","_fsm","addPostEventCallback","removePostEventCallback","eventQueue","afterRender","reagentId","isTraceReact","ratom","nextTick","doAfterRender","log","traceReact","traceSub","isEnabled","container","flushAfterRender","queueRender","doBeforeFlush","schedule","markRendered","requestAnimationFrame","runQueue","components","s","sort","o1","o2","renderOrder","component","__reframe_rendered","tryForceUpdate","RenderQueue","_isScheduled","k","fns","runRenderQueue","runQueues","c","flushQueues","runFuns","window","__reframe_render_queue","renderQueue","addBeforeFlush","addAfterRender","clearAllHandlers","queryReaction","makeCacheKey","query","dynv","join","cacheAndReturn","r","cacheKey","cache","cacheLookup","cached","dynVals","derefInputSignals","signals","Seq","partition","input","spacing","output","slice","makeMultiInputPairsFn","inputArgs","pairs","vecs","p","inpFn","makeInputsFn","checkRx","computationFn","errHeader","inputsFn","subsHandlerFn","queryVec","dynVec","subscriptions","subsRxHandlerFn","StatelessMixin","SubscriptionMixin","React","data","toUpdate","shouldUpdateByDerefed","watching","watch","shouldUpdate","_","forceUpdate","isArgv","shouldComponentUpdate","nextProps","nextState","propsUpdate","props","argv","stateUpdate","getDisplayName","constructor","displayName","message","order","renderCycle","S4","Math","random","toString","substring","guid","ReactViewDeref","_componentId","_renderCycle","_observable","_lastValue","derefSub","subVec","getInitialState","has","updateByProps","updateByState","aTransform","aId","componentWillUpdate","componentDidUpdate","shouldDispose","componentWillUnmount","createComponentObj","mixins","componentObj","prototype","propsView","mixin","oldRender","call","factory","createFactory","createComponent","clazz","arguments","vectorView","apply","shouldUpdateArgv","isSameType","predicate","equals","maxLength","max","ignore","keys1","keys2","prop","indexOf","isImmutable","isPrimitive","isFunction","isObject","isObservable","isRxObservable","maybeImmutable","Iterable","debugBefore","debugAfter","origDb","newDb","effectsWithoutDb","diff","groupCollapsed","df","groupEnd","trimvBefore","trimvAfter","dbHandlerBefore","fxHandlerBefore","toObject","dbStoreKey","pathBefore","originalDb","pathAfter","dbStore","last","newDbStore","ctx1","enrichAfter","afterAfter","outPath","inPaths","onChangesAfter","oldDb","newIns","oldIns","changedIns","zip","contains","booleanProvider","whenBefore","LISTENER_SENTINEL","Index","listeners","self","slices","reduce","acc","pathSlice","parentPath","parentRx","lastFragment","x","y","shareReplay","oldSubscribe","Disposable","create","_count","removeIn"],"mappings":"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AOA,GAAP,OAAe,QAAtB;AACH;;AAEM,UAAS+Q,YAAT,CAAsB/Q,GAAtB,EAA2B;AAC9B,YAAOA,gCAAP;AACH;;AAEM,UAASgR,cAAT,CAAwBhR,GAAxB,EAA6B;AAChC,YAAOA,eAAehI,GAAGsI,UAAzB;AACH,E;;;;;;AC3BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;;AAEA;AACA,iBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,KAAK;AACpC;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB,iBAAgB,QAAQ;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB,gBAAe,0BAA0B;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB,gBAAe,WAAW;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,0BAA0B;AACzC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,wBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,iDAAgD;AAChD,MAAK;AACL;AACA;AACA;AACA;AACA,4CAA2C;AAC3C,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,yCAAwC;AACxC,MAAK;AACL;AACA;AACA,MAAK;AACL,6BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA,+HAA8H;AAC9H;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iMAAgM;;AAEhM;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,eAAc,OAAO;AACrB;AACA;AACA;;AAEA;AACA;AACA,+KAA8K;AAC9K;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,SAAS;AACtB,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA0F,aAAa;AACvG;AACA;;AAEA,yDAAwD;AACxD;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA,oBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACntBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;ACnLtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH,mCAAkC;AAClC;AACA;AACA;;AAEA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,8B;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sDAAqD;AACrD,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA,2BAA0B;AAC1B;AACA;AACA;;AAEA,4B;;;;;;;ACtDA;AACA;AA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P;AACH;AAPgB,MAAd,CAAP;AASH,E;;;;;;AC3RD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,8CAA6C,YAAY;;AAEzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,8CAA6C,YAAY;AACzD,oDAAmD,yBAAyB;;AAE5E;;AAEA;;AAEA;AACA,yBAAwB,aAAa;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,qDAAqD;AAClF,IAAG;;AAEH;AACA;;AAEA;AACA;AACA,eAAc,WAAW;AACzB;AACA;AACA;AACA;;AAEA;AACA,0BAAyB,yBAAyB;AAClD,0CAAyC,kDAAkD;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpHA;;AAEA;;AAEA,2BAA0B,wCAAwC;AAClE,gCAA+B,0CAA0C;;AAEzE;AACA,+BAA8B,SAAS,6BAA6B;;AAEpE,WAAU;AACV;;AAEA;AACA;AACA;AACA;AACA,G;;;;;;ACjBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;;AAEA;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oCAAmC,mBAAmB;AACtD,uCAAsC,kCAAkC;;AAExE;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA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","file":"reframe.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"immutable\"), require(\"rx\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"reframe\", [\"immutable\", \"rx\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"reframe\"] = factory(require(\"immutable\"), require(\"rx\"), require(\"react\"));\n\telse\n\t\troot[\"reframe\"] = factory(root[\"Immutable\"], root[\"Rx\"], root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_15__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c3960235b00836ebf168\n **/","import * as cofx from 'reframe/cofx';\nimport * as db from 'reframe/db';\nimport * as events from 'reframe/events';\nimport * as fx from 'reframe/fx';\nimport * as interceptor from 'reframe/interceptor';\nimport * as interop from 'reframe/interop';\nimport {makeRatom, makeReaction, makeCursor} from 'reframe/ratom';\nimport * as react from 'reframe/react';\nimport * as registrar from 'reframe/registrar';\nimport * as router from 'reframe/router';\nimport * as stdinterceptors from 'reframe/stdinterceptors';\nimport * as subs from 'reframe/subs';\nimport * as batching from 'reframe/batching';\nimport * as Rx from 'rx';\n\n// import * as _form from 'reframe/form/core';\n//\n// export const form = _form;\nexport function toggleDebug(value = undefined) {\n    interop.toggleLog('debug', value);\n}\n\nexport function toggleReactDebug(value = undefined) {\n    interop.toggleLog('traceReact', value);\n}\n\nexport function isDebug() {\n    return interop.isDebug();\n}\n\n/**\n * Atom provides a way to manage shared, synchronous, independent state. Atom holds\n * value which can be dereferenced (deref), changed (reset), updated (swap).\n *\n */\nexport function atom(value) {\n    return makeRatom(value);\n}\n\n/**\n * Reaction is functional transformation of the observable object (Atom, Reaction, Cursor).\n *\n * Reaction can be deref-ed.\n */\nexport function reaction(f) {\n    return makeReaction(f);\n}\n\n/**\n * Cursor is reaction with \"map\" function transforming observable object.\n */\nexport function cursor(atom, path) {\n    return makeCursor(atom, path);\n}\n\n/**\n * Re-frame state.\n */\nexport const appDb = db.appDb;\n/**\n * RX stream for appDb changes.\n */\nexport const db$ = db.appDb.subject();\n/**\n * Queue the given event for processing by the registered event handler.\n * Just to be clear: the event handler is not run immediately - it is not run\n * synchronously. It will likely be run 'very soon', although it may be\n * added to the end of a FIFO queue which already contain events.\n * Usage:\n *  dispatch(['delete-item', 42])\n */\nexport const dispatch = router.dispatch;\n/**\n * Sychronously (immediately!) process the given event using the registered handler.\n * Generally, you shouldn't use this - you should use `dispatch` instead.  It\n * is an error to use `dispatch-sync` within an event handler.\n * Usage:\n *  dispatchSync(['delete-item', 42])\n */\nexport const dispatchSync = router.dispatchSync;\n\n/**\n * Transform ordinary js map to interceptor. Map can contain entries for:\n *  - id\n *  - before(ctx)\n *  - update(ctx)\n */\nexport const toInterceptor = interceptor.toInterceptor;\n/**\n * Queue interceptor into processing. Should be called within interceptor.\n */\nexport const enqueue = interceptor.enqueue;\n/**\n * Helper function for obtaining coeffect from interceptor context.\n */\nexport const getCoeffect = interceptor.getCoeffect;\n/**\n * Helper function for obtaining effect from interceptor context.\n */\nexport const getEffect = interceptor.getEffect;\n/**\n * Helper function for setting effect to interceptor context.\n */\nexport const assocEffect = interceptor.assocEffect;\n/**\n * Helper function for setting coeffect to interceptor context.\n */\nexport const assocCoeffect = interceptor.assocCoeffect;\n\n/**\n * Conditional interceptor:\n *\n * Usage when(() => window.debug, reframe.debug)\n */\nexport const when = stdinterceptors.when;\n/**\n * Debug log for commands and appDb diffs.\n */\nexport const debug = stdinterceptors.debug;\n/**\n * An interceptor factory which supplies a sub-path of `appDb` to the handler.\n * It's action is somewhat analogous to `updateIn`. It grafts the return\n * value from the handler back into db.\n * Usage:\n * path(['some', 'path'])\n */\nexport const path = stdinterceptors.path;\n/**\n * Interceptor factory which runs the given function `f` in the `after handler`\n * position.  `f` is called with two arguments: `db` and `v`, and is expected to\n * return a modified `db`.\n * Unlike the `after` inteceptor which is only about side effects, `enrich`\n * expects `f` to process and alter the given `db` coeffect in some useful way,\n * contributing to the derived data, flowing vibe.\n * Example Use:\n * ------------\n * Imagine that todomvc needed to do duplicate detection - if any two todos had\n * the same text, then highlight their background, and report them in a warning\n * down the bottom of the panel.\n * Almost any user action (edit text, add new todo, remove a todo) requires a\n * complete reassesment of duplication errors and warnings. Eg: that edit\n * just made might have introduced a new duplicate, or removed one. Same with\n * any todo removal. So we need to re-calculate warnings after any CRUD events\n * associated with the todos list.\n * Unless we are careful, we might end up coding subtly different checks\n * for each kind of CRUD operation.  The duplicates check made after\n * 'delete todo' event might be subtly different to that done after an\n * eddting operation. Nice and efficient, but fiddly. A bug generator\n * approach.\n * So, instead, we create an `f` which recalcualtes warnings from scratch\n * every time there is ANY change. It will inspect all the todos, and\n * reset ALL FLAGS every time (overwriting what was there previously)\n * and fully recalculate the list of duplicates (displayed at the bottom?).\n * By applying `f` in an `:enrich` interceptor, after every CRUD event,\n * we keep the handlers simple and yet we ensure this important step\n * (of getting warnings right) is not missed on any change.\n * We can test `f` easily - it is a pure fucntions - independently of\n * any CRUD operation.\n * This brings huge simplicity at the expense of some re-computation\n * each time. This may be a very satisfactory tradeoff in many cases.\n */\nexport const enrich = stdinterceptors.enrich;\n/**\n * Remove command name from command.\n *\n * ['cmd-name', param1, param2] -> [param1, param2]\n */\nexport const trimv = stdinterceptors.trimv;\n/**\n * Interceptor factory which runs a given function `f` in the \\\"after\\\"\n * position, presumably for side effects.\n * `f` is called with two arguments: the `effects` value of `:db`\n * (or the `coeffect` value of db if no db effect is returned) and the event.\n * Its return value is ignored so `f` can only side-effect.\n * Example use:\n * - `f` runs schema validation (reporting any errors found)\n * - `f` writes some aspect of db to localstorage.\n *\n */\nexport const after = stdinterceptors.after;\n/**\n * Interceptor factory which acts a bit like `reaction`  (but it flows into `db`, rather than out)\n * It observes N paths in `db` and if any of them test not === to their previous value\n * (as a result of a handler being run) then it runs `f` to compute a new value, which is\n * then assoced into the given `out-path` within `db`.\n * Usage:\n * function myF(aVal, bVal) {\n *   ... some computation on a and b in here)\n * }\n * onChanges(myf, ['c'], ['a'], ['b'])\n * Put this Interceptor on the right handlers (ones which might change 'a' or 'b').\n * It will:\n * - call `f` each time the value at path ['a'] or ['b'] changes\n * - call `f` with the values extracted from ['a'] ['b']\n * - assoc the return value from `f` into the path  ['c']\n */\nexport const onChanges = stdinterceptors.onChanges;\n\n/**\n * Associate a given `query id` with a given subscription handler function `handler-fn`\n * which is expected to take two arguments: app-db and query vector, and return\n * a `reaction`.\n * This is a low level, advanced function.  You should probably be using reg-sub\n * instead.\n */\nexport function regSubRaw(queryId, handlerFn) {\n    return registrar.registerHandler(subs.kind, queryId, queryId, handlerFn)\n}\n\n/**\n * Associate the given `query id` with a handler function and an optional signal function.\n *\n * There's 2 ways this function can be called\n *\n * 1. regSub('test-sub', (db, [_]) => db)\n * The value in app-db is passed to the computation function as the 1st argument.\n *\n * 2. regSub('a-b-sub',\n * (q-vec, d-vec) => [subscribe(['a-sub']), subscribe(['b-sub'])],\n * ([a, b], q-vec) => {a: a, b: b})\n *\n * Two functions provided. The 2nd is computation function, as before. The 1st\n * is returns what `input signals` should be provided to the computation. The\n * `input signals` function is called with two arguments: the query vector\n * and the dynamic vector. The return value can be singleton reaction or\n * a sequence of reactions.\n *\n */\nexport const regSub = subs.regSub;\nexport const subscribe = subs.subscribe;\n\nexport function clearSub(id) {\n    registrar.clearHandlers(subs.kind, id);\n}\nexport const clearSubscriptionCache = subs.clearSubscriptionCache;\n\n// effects\nexport const regFx = fx.register;\nexport function clearFx(id) {\n    registrar.clearHandlers(fx.kind, id);\n}\n\n// coeffects\nexport const regCofx = cofx.register;\n/**\n *   Returns an interceptor which adds to a `context's` `:coeffects`.\n * `coeffects` are the input resources required by an event handler\n * to perform its job. The two most obvious ones are `db` and `event`.\n * But sometimes a handler might need other resources.\n * Perhaps a handler needs a random number or a GUID or the current datetime.\n * Perhaps it needs access to the connection to a DataScript database.\n * If the handler directly access these resources, it stops being as\n * pure. It immedaitely becomes harder to test, etc.\n * So the necessary resources are \\\"injected\\\" into the `coeffect` (map)\n * given the handler.\n * Given an `id`, and an optional value, lookup the registered coeffect\n * handler (previously registered via `reg-cofx`) and it with two arguments:\n * the current value of `:coeffects` and, optionally, the value. The registered handler\n * is expected to return a modified coeffect.\n */\nexport const injectCofx = cofx.injectCofx;\nexport function clearCofx(id) {\n    registrar.clearHandlers(cofx.kind, id);\n}\n\n\n// Events\nexport function clearEvent(id) {\n    registrar.clearHandlers(events.kind, id);\n}\n\n/**\n * Register the given `id`, typically a keyword, with the combination of\n * `db-handler` and an interceptor chain.\n * `db-handler` is a function: (db event) -> db\n * `interceptors` is a collection of interceptors, possibly nested (needs flattening).\n * `db-handler` is wrapped in an interceptor and added to the end of the chain, so in the end\n * there is only a chain.\n * The necessary effects and coeffects handler are added to the front of the\n * interceptor chain.  These interceptors ensure that app-db is available and updated.\n */\nexport function regEventDb(id, interceptors, dbHandler) {\n    if (typeof dbHandler === 'undefined') {\n        dbHandler = interceptors;\n        interceptors = null;\n    }\n    return events.register(id, [cofx.injectDb, fx.doFx, interceptors, stdinterceptors.dbHandlerToInterceptor(dbHandler)]);\n}\n\nexport function regEventFx(id, interceptors, fxHandler) {\n    if (typeof fxHandler === 'undefined') {\n        fxHandler = interceptors;\n        interceptors = null;\n    }\n    return events.register(id, [cofx.injectDb, fx.doFx, interceptors, stdinterceptors.fxHandlerToInterceptor(fxHandler)]);\n}\n\nexport function regEventCtx(id, interceptors, ctxHandler) {\n    if (typeof ctxHandler === 'undefined') {\n        ctxHandler = interceptors;\n        interceptors = null;\n    }\n    return events.register(id, [cofx.injectDb, fx.doFx, interceptors, stdinterceptors.ctxHandlerToInterceptor(ctxHandler)]);\n}\n\n// react\nexport const viewP = react.viewP;\nexport const viewV = react.viewV;\nexport const viewSP = react.viewSP;\nexport const viewSV = react.viewSV;\nexport const view = react.viewSV;\n/**\n * Create react view suitable for use with reframe.\n *\n * Usage:\n *\n * const MyView = reframe.ui('MyView', function renderMyView(props) {\n * });\n *\n * const MyView = reframe.ui('MyView', [mixins], function renderMyView(props) {\n * });\n *\n * const MyView = reframe.ui('MyView', [mixins], {\n *  componentWillUpdate(nextProps, nextState) {\n *  },\n *  render(props) {\n *  }\n * });\n */\nexport const ui = react.ui;\nexport const uix = react.uix;\nexport const render = batching.flush;\nexport const flush = batching.flush;\n\n\n// deprecated\nimport {Index} from 'reframe/subindex.js';\nlet index = new Index(() => subs.requestAnimationFrame$);\nexport function indexPath(path, def) {\n    return index.sub(path, def);\n}\n\nexport function registerSub(name, handler) {\n    return subs.registerSub(name, handler);\n}\n\nexport function registerHandler(id, interceptors, handler) {\n    return regEventDb(id, interceptors, handler);\n}\n\nexport function compMiddleware(interceptors) {\n    return interceptors;\n}\n\nexport function swap(atom, f, ...args) {\n    return atom.swap(f, ...args);\n}\n\nexport function reset(atom, value) {\n    return atom.reset(value);\n}\n\nmodule.exports.default = module.exports;\n\nexport const pause$ = new Rx.Subject();\n\nexport function togglePause(pause) {\n    if (pause) {\n        router.pause();\n    } else {\n        router.resume();\n    }\n}\npause$.subscribe(pause => togglePause(pause));\n\nexport const markFlushDom = router.markFlushDom;\n\nexport function deref(observable) {\n    return observable.deref();\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/core.js\n **/","import {registerHandler, getHandler} from 'reframe/registrar';\nimport {toInterceptor} from 'reframe/interceptor';\nimport {appDb} from 'reframe/db';\nconst kind = 'cofx';\n\nexport function register(id, handlerFn) {\n    return registerHandler(kind, id, handlerFn);\n}\n\n/**\n *   Returns an interceptor which adds to a `context's` `:coeffects`.\n * `coeffects` are the input resources required by an event handler\n * to perform its job. The two most obvious ones are `db` and `event`.\n * But sometimes a handler might need other resources.\n * Perhaps a handler needs a random number or a GUID or the current datetime.\n * Perhaps it needs access to the connection to a DataScript database.\n * If the handler directly access these resources, it stops being as\n * pure. It immedaitely becomes harder to test, etc.\n * So the necessary resources are \\\"injected\\\" into the `coeffect` (map)\n * given the handler.\n * Given an `id`, and an optional value, lookup the registered coeffect\n * handler (previously registered via `reg-cofx`) and it with two arguments:\n * the current value of `:coeffects` and, optionally, the value. The registered handler\n * is expected to return a modified coeffect.\n * @param id\n * @param value\n * @returns {*}\n */\nexport function injectCofx(id, ...args) {\n    const handler = getHandler(kind, id);\n    return toInterceptor({\n        id: 'coeffects',\n        before: function coeffectsBefore(ctx) {\n            return ctx.update('coeffects', old => handler(old, ...args))\n        }\n    });\n}\n\nregister('db', function doCoeffectsHandler(coeffects) {\n    return coeffects.set('db', appDb.deref());\n});\n\nexport const injectDb = injectCofx('db');\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/cofx.js\n **/","import * as Immutable from 'immutable';\n\nlet kindIdHandlerMap = Immutable.Map();\n\nexport function getHandler(kind, id=undefined, required=false) {\n    if (typeof id !== 'undefined') {\n        const handler = kindIdHandlerMap.getIn([kind, id]);\n        if (required && !handler) {\n            console.error('re-frame: no',  kind, 'handler registered for:', id);\n        }\n        return handler;\n    }\n    return kindIdHandlerMap.get(kind, Immutable.Map());\n}\n\nexport function registerHandler(kind, id, handlerFn) {\n    kindIdHandlerMap = kindIdHandlerMap.setIn([kind, id], handlerFn);\n    return handlerFn;\n}\n\nexport function clearHandlers(kind=undefined, id=undefined) {\n    if (typeof kind !== 'undefined' && typeof id !== 'undefined') {\n        kindIdHandlerMap = kindIdHandlerMap.deleteIn([kind, id]);\n    } else if (kind !== 'undefined') {\n        kindIdHandlerMap = kindIdHandlerMap.delete(kind);\n    } else {\n        kindIdHandlerMap = Immutable.Map();\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/registrar.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"immutable\",\"commonjs\":\"immutable\",\"commonjs2\":\"immutable\",\"root\":\"Immutable\"}\n ** module id = 3\n ** module chunks = 0\n **/","import * as Immutable from 'immutable';\n\nconst mandatoryInterceptorFields = Immutable.Set([\"id\", \"before\", \"after\"]);\n\nfunction isInterceptor(m) {\n    return Immutable.isMap(m) && Immutable.is(m.keysSeq().toSet(), mandatoryInterceptorFields);\n}\n\nexport function toInterceptor({id, before, after}) {\n    return Immutable.Map({\n        id: id || 'unnamed',\n        before: before,\n        after: after\n    });\n}\n\n// effect helpers\nexport function getEffect(ctx, key = null, notFound = null) {\n    if (key) {\n        return ctx.getIn(['effects', key], notFound);\n    }\n    return ctx.get('effects');\n}\n\nexport function assocEffect(ctx, key, effect) {\n    return ctx.setIn(['effects', key], effect);\n}\n\n// coeffect helpers\nexport function getCoeffect(ctx, key = null, notFound = null) {\n    if (key) {\n        return ctx.getIn(['coeffects', key], notFound);\n    }\n    return ctx.get('coeffects');\n}\n\nexport function assocCoeffect(ctx, key, coeffect) {\n    return ctx.setIn(['coeffects', key], coeffect);\n}\n\nfunction updateCoeffect(ctx, key, f, ...args) {\n    return ctx.updateIn(['coeffects', key], (old) => f(old, ...args));\n}\n\n// Execute Interceptor Chain\n\nfunction invokeInterceptorFn(ctx, interceptor, direction) {\n    const f = interceptor.get(direction);\n    if (f) {\n        return f(ctx);\n    }\n    return ctx;\n}\n\nfunction invokeInterceptors(initialCtx, direction) {\n    let ctx = initialCtx;\n    do {\n        const queue = ctx.get('queue');\n\n        if (queue.isEmpty()) {\n            return ctx;\n        } else {\n            const\n                interceptor = queue.first(),\n                stack = ctx.get('stack', Immutable.List());\n\n            ctx = invokeInterceptorFn(\n                ctx\n                    .set('queue', queue.shift())\n                    .set('stack', stack.unshift(interceptor)),\n                interceptor, direction\n            );\n        }\n    } while (ctx && !ctx.get('queue').isEmpty());\n    return ctx;\n}\n\nexport function enqueue(ctx, interceptors) {\n    return ctx.update('queue', Immutable.List(), old => old.concat(Immutable.List(interceptors)))\n}\n\nexport function nextInterceptor(ctx, interceptor) {\n    return ctx.update('queue', Immutable.List(), queue => queue.unshift(interceptor));\n}\n\nfunction context(event, interceptors, db = undefined) {\n    let ctx = Immutable.Map();\n    ctx = assocCoeffect(ctx, 'event', event);\n    if (typeof db !== 'undefined') {\n        ctx = assocCoeffect(ctx, 'db', db);\n    }\n    ctx = enqueue(ctx, interceptors);\n\n    return ctx;\n}\n\nfunction changeDirection(ctx) {\n    return enqueue(ctx.delete('queue'), ctx.get('stack'))\n}\n\nexport function execute(event, interceptors) {\n    let ctx = context(event, interceptors);\n    ctx = invokeInterceptors(ctx, \"before\");\n    ctx = changeDirection(ctx);\n    ctx = invokeInterceptors(ctx, \"after\");\n    return ctx;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/interceptor.js\n **/","import * as Immutable from 'immutable';\nimport {makeRatom} from 'reframe/ratom';\n\n// -- Application State  --------------------------------------------------------------------------\n//\n// Should not be accessed directly by application code.\n// Read access goes through subscriptions.\n// Updates via event handlers.\nexport const appDb = makeRatom(Immutable.Map());\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/db.js\n **/","import * as Immutable from 'immutable';\nimport * as Rx from 'rx';\n\nconst ratomCtx = [];\nlet id = 1;\nexport function runInCtx(obj, f) {\n    try {\n        ratomCtx.push(obj);\n        return f();\n    } finally {\n        ratomCtx.pop();\n    }\n}\n\nfunction watchInCtx(obj) {\n    const observer = ratomCtx[ratomCtx.length - 1];\n    if (typeof observer !== 'undefined') {\n        obj.subscribe(observer);\n    }\n}\n\nexport class Observable {\n    constructor(type) {\n        this._type = type;\n        this._id = id++;\n        this._observers = new Set();\n        this._observables = new Set();\n        this._onDispose = new Set();\n    }\n\n    id() {\n        return this._type + '-' + this._id;\n    }\n\n    equals(other) {\n        return this === other;\n    }\n\n    hashCode() {\n        return this._id;\n    }\n\n    subscribe(observer) {\n        if (!observer.notify) {\n            console.warn(observer, observer && observer.id && observer.id(), 'has no callback notify');\n        }\n        this._observers.add(observer);\n        if (observer.observe) {\n            observer.observe(this);\n        }\n    }\n\n    unsubscribe(observer) {\n        this._observers.delete(observer);\n        if (observer.unobserve) {\n            observer.unobserve(this);\n        }\n        if (this._observers.size === 0) {\n            this.dispose();\n        }\n    }\n\n    observe(observable) {\n        this._observables.add(observable);\n    }\n\n    unobserve(observable) {\n        this._observables.delete(observable);\n    }\n\n    _notifyObservers() {\n        this._observers.forEach(observer => {\n            observer.notify();\n        });\n    }\n\n    addOnDispose(f) {\n        this._onDispose.add(f);\n    }\n\n    dispose() {\n        if (this._observers.size === 0) {\n            this._observables.forEach(observable => observable.unsubscribe(this));\n            this._onDispose.forEach(f => f());\n        }\n    }\n\n    map(f) {\n        return makeReaction(() => f(this.deref()));\n    }\n}\n\nclass Atom extends Observable {\n    constructor(value) {\n        super('a');\n        this._value = value;\n        this._subject = new Rx.BehaviorSubject(value);\n    }\n\n    subject() {\n        return this._subject;\n    }\n\n    _valueChanged(changed) {\n        if (changed) {\n            this._notifyObservers();\n            this._subject.onNext(this._value);\n        }\n    }\n\n    reset(value) {\n        const oldValue = this._value;\n        this._value = value;\n        this._valueChanged(this._value !== oldValue);\n        return this._value;\n    }\n\n    swap(f, ...args) {\n        const oldValue = this._value;\n        this._value = f(this._value, args);\n        this._valueChanged(this._value !== oldValue);\n        return this._value;\n    }\n\n    deref() {\n        return this._value;\n    }\n\n    isChanged(value) {\n        return this._value !== value;\n    }\n\n    peekValue() {\n        return this._value;\n    }\n\n}\n\nclass Ratom extends Atom {\n    constructor(value) {\n        super(value);\n        this._type = 'ra';\n    }\n\n    deref() {\n        watchInCtx(this);\n        return super.deref();\n    }\n}\n\nclass Reaction extends Observable {\n    constructor(f) {\n        super('rx');\n        this._f = f;\n        this._dirty = true;\n    }\n\n    _run() {\n        this._state = runInCtx(this, this._f);\n        this._dirty = false;\n    }\n\n    deref() {\n        if (this._dirty) {\n            this._run();\n        }\n        watchInCtx(this);\n        return this._state;\n    }\n\n    isChanged(value) {\n        return this._state !== value;\n    }\n\n    peekValue() {\n        return this._state;\n    }\n\n    notify() {\n        this._dirty = true;\n        const oldState = this._state;\n        this._run();\n        if (oldState !== this._state) {\n            this._notifyObservers();\n        }\n    }\n\n    dispose() {\n        super.dispose();\n        this._dirty = true;\n    }\n}\n\nclass RxReaction extends Observable {\n    constructor(rx) {\n        super('rxjs');\n        // this._subj = new Rx.BehaviorSubject();\n        this._value = undefined;\n        this._rx = rx;\n        if (!this._rx.distinctUntilChanged) {\n            console.trace('no distinct', rx);\n        }\n    }\n\n    deref() {\n        if (!this._subscription) {\n            this._subscription = this._rx\n                .distinctUntilChanged(a => a, (a, b) => a === b)\n                .subscribe((v) => {\n                this._value = v;\n                    this._notifyObservers();\n                    // this._subj.onNext(v)\n                });\n        }\n        watchInCtx(this);\n        return this._value;//this._subj.getValue();\n    }\n\n    isChanged(value) {\n        return this._value !== value;\n    }\n\n    peekValue() {\n        return this._value;\n    }\n\n    dispose() {\n        super.dispose();\n        if (this._observers.size === 0 && this._subscription) {\n            this._subscription.dispose();\n            delete this._subscription;\n        }\n    }\n\n}\n\nclass Cursor extends Observable {\n    constructor(atom, path) {\n        super('cu');\n        this._atom = atom;\n        this._cursor = atom.map(() => atom.deref().getIn(path));\n        this._path = path;\n    }\n\n    deref() {\n        return this._cursor.deref();\n    }\n\n    dispose() {\n        this._cursor.dispose();\n    }\n\n    isChanged(value) {\n        return this._cursor.isChanged(value);\n    }\n\n    reset(value) {\n        this._atom.swap(old => old.setIn(this._path, value));\n    }\n\n    swap(f, ...args) {\n        this._atom.swap(old => old.updateIn(this._path, value => f(value, ...args)));\n    }\n}\n\nexport function makeReaction(f, options) {\n    const reaction = new Reaction(f);\n    if (options) {\n        if (options.onDispose) {\n            reaction.addOnDispose(options.onDispose);\n        }\n    }\n    return reaction;\n}\n\nexport function makeAtom(value) {\n    return new Atom(value);\n}\n\nexport function makeRatom(value) {\n    return new Ratom(value);\n}\n\nexport function makeRxReaction(rx) {\n    return new RxReaction(rx);\n}\n\nexport function makeCursor(atom, path) {\n    return new Cursor(atom, path);\n}\n\nexport function pluck(atom, path) {\n    return atom.map(val => val && val.getIn(path));\n}\n\nexport function deref(observable, transform) {\n    if (observable instanceof Rx.Observable) {\n        if (transform) {\n            return makeRxReaction(observable).map(transform).deref();\n        }\n        return makeRxReaction(observable).deref();\n    }\n    if (transform) {\n        return observable.map(transform).deref();\n    }\n    return observable.deref();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/ratom.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"rx\",\"commonjs\":\"rx\",\"commonjs2\":\"rx\",\"root\":\"Rx\"}\n ** module id = 7\n ** module chunks = 0\n **/","import * as Immutable from 'immutable';\nimport {registerHandler, getHandler} from 'reframe/registrar';\nimport * as interceptor from 'reframe/interceptor';\n\nconst kind = 'event';\n\nfunction flattenAndRemoveNulls(id, interceptors) {\n    return Immutable.fromJS(interceptors).flatMap(interceptor => {\n        if (Immutable.Map.isMap(interceptor)) {\n            return Immutable.List([interceptor]);\n        } else if (interceptor) {\n            return flattenAndRemoveNulls(id, interceptor);\n        }\n        return Immutable.List();\n    }).filter(Boolean).toList();\n}\n\n\nexport function register(id, interceptors) {\n    return registerHandler(kind, id, flattenAndRemoveNulls(id, interceptors));\n}\n\nlet handling = null;\nexport function handle(event) {\n    const\n        [eventId, ...rest] = event,\n        interceptors = getHandler(kind, eventId, true);\n\n    if (handling) {\n        console.error(\"re-frame: while handling \\\"\", handling, \"\\\", dispatch-sync was called for \\\"\", event, \"\\\". You can't call dispatch-sync within an event handler.\")\n    } else {\n        try {\n            handling = event;\n            return interceptor.execute(event, interceptors);\n        } finally {\n            handling = null;\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/events.js\n **/","import * as Immutable from 'immutable';\nimport {registerHandler, getHandler, clearHandlers} from 'reframe/registrar';\nimport {toInterceptor} from 'reframe/interceptor';\nimport * as router from 'reframe/router';\nimport {appDb} from 'reframe/db';\n\n\nconst kind = 'fx';\n\nexport function register(id, handlerFn) {\n    return registerHandler(kind, id, handlerFn);\n}\n\nexport const doFx = toInterceptor({\n    id: 'do-fx',\n    after: function doFxAfter(ctx) {\n        ctx.get('effects').forEach((value, effect) => {\n            const effectFn = getHandler(kind, effect, true);\n\n            if (!effectFn) {\n                console.error('No effect handler registered for effect', effect, 'ctx:', ctx);\n            }\n\n            if (effectFn) {\n                effectFn(value);\n            }\n        });\n    }\n});\n\n// Builtin Effect Handlers\n\n/**\n *\n * :dispatch-later\n *f\n * `dispatch` one or more events after given delays. Expects a collection\n * of maps with two keys:  :`ms` and `:dispatch`\n *\n * usage:\n *\n *    {:dispatch-later [{:ms 200 :dispatch [:event-id \"param\"]}\n *  in 200ms do this: (dispatch [:event-id \"param\"])\n *                      {:ms 100 :dispatch [:also :this :in :100ms]}]}\n *\n */\nregister('dispatch-later', values => {\n    values.forEach(value => {\n        const {ms, dispatch} = value;\n\n        if (!Array.isArray(dispatch) || typeof ms !== 'number') {\n            console.error('re-frame: ignoring bad \"dispatch-later\" value:', value);\n        } else {\n            setTimeout(() => router.dispatch(dispatch), ms);\n        }\n    });\n});\n\n/**\n * :dispatch\n *\n * `dispatch` one event. Excepts a single vector.\n *\n * usage:\n *   {:dispatch [:event-id \"param\"] }\n */\nregister('dispatch', value => {\n    if (!Array.isArray(value)) {\n        console.error('re-frame: ignoring bad :dispatch value. Expected a vector, but got:', value);\n    } else {\n        router.dispatch(value);\n    }\n});\n\n/**\n * :dispatch-n\n *\n * `dispatch` more than one event. Expects a list or vector of events. Something for which\n * sequential? returns true.\n *\n * usage:\n *   {:dispatch-n (list [:do :all] [:three :of] [:these])}\n *\n */\nregister('dispatch-n', values => {\n    if (!Array.isArray(values) && values.map(v => !Array.isArray(v)).filter(Boolean).length > 0) {\n        console.error('re-frame: ignoring bad :dispatch-n value. Expected a collection, got got:', values);\n    } else {\n        values.forEach(value => router.dispatch(value));\n    }\n});\n\n/**\n * :deregister-event-handler\n *\n * removes a previously registered event handler. Expects either a single id (\n * typically a keyword), or a seq of ids.\n *\n * usage:\n *   {:deregister-event-handler :my-id)}\n * or:\n *   {:deregister-event-handler [:one-id :another-id]}\n *\n */\nregister('deregister-event-handler', value => {\n    if (Immutable.isSeq(value) || Array.isArray(value)) {\n        value.forEach(v => clearHandlers(kind, v));\n    } else {\n        clearHandlers(kind, value);\n    }\n});\n\n/**\n * :db\n *\n * reset! app-db with a new value. Expects a map.\n *\n * usage:\n *   {:db  {:key1 value1 key2 value2}}\n *\n */\nregister('db', value => {\n    appDb.reset(value);\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/fx.js\n **/","import * as Immutable from 'immutable';\nimport {handle} from 'reframe/events';\nimport {nextTick, afterRender} from 'reframe/interop';\nimport {requestAnimationFrame$} from 'reframe/subs';\nimport {appDb} from 'reframe/db';\n\n//  -- Router Loop ------------------------------------------------------------\n//\n//  A call to \"re-frame.core/dispatch\" places an event on a queue for processing.\n//      A short time later, the handler registered to handle this event will be run.\n//  What follows is the implementation of this process.\n//\n//  The task is to process queued events in a perpetual loop, one after\n//  the other, FIFO, calling the registered event-handler for each, being idle when\n//  there are no events, and firing up when one arrives.\n//\n//  But browsers only have a single thread of control and we must be\n//  careful to not hog the CPU. When processing events one after another, we\n//  must regularly hand back control to the browser, so it can redraw, process\n//  websockets, etc. But not too regularly! If we are in a de-focused browser\n//  tab, our app will be CPU throttled. Each time we get back control, we have\n//  to process all queued events, or else something like a bursty websocket\n//  (producing events) might overwhelm the queue. So there's a balance.\n//\n//  The processing/handling of an event happens \"asynchronously\" sometime after\n//  that event was enqueued via \"dispatch\". The original implementation of this router loop\n//  used `core.async`. As a result, it was fairly simple, and it mostly worked,\n//  but it did not give enough control. So now we hand-roll our own,\n//  finite-state-machine and all.\n//\n//  In what follows, the strategy is this:\n//    - maintain a FIFO queue of `dispatched` events.\n//    - when a new event arrives, \"schedule\" processing of this queue using\n//      goog.async.nextTick, which means it will happen \"very soon\".\n//    - when processing events, one after the other, do ALL the currently\n//      queued events. Don't stop. Don't yield to the browser. Hog that CPU.\n//    - but if any new events are dispatched during this cycle of processing,\n//      don't do them immediately. Leave them queued. Yield first to the browser,\n//      and do these new events in the next processing cycle. That way we drain\n//      the queue up to a point, but we never hog the CPU forever. In\n//      particular, we handle the case where handling one event will beget\n//      another event. The freshly begotten event will be handled next cycle,\n//      with yielding in-between.\n//        - In some cases, an event should not be handled until after the GUI has been\n//      updated, i.e., after the next Reagent animation frame. In such a case,\n//      the event should be dispatched with :flush-dom metadata like this:\n//        (dispatch ^:flush-dom [:event-id other params])\n//      Such an event will temporarily block all further processing because\n//      events are processed sequentially: we handle one event completely\n//      before we handle the ones behind it.\n//\n//  Implementation notes:\n//        - queue processing can be in a number of states: scheduled, running, paused\n//      etc. So it is modeled as a Finite State Machine.\n//      See \"-fsm-trigger\" (below) for the states and transitions.\n//    - the scheduling is done via \"goog.async.nextTick\" which is pretty quick\n//    - when the event has :flush-dom metadata we schedule via\n//        \"reagent.core.after-render\"\n//      which will run event processing after the next Reagent animation frame.\n//\n\nexport function markFlushDom(event) {\n    event._flushDom = true;\n    return event;\n}\n\nconst laterFns = {\n    '_flushDom': (f) => afterRender(() => setTimeout(f, 0)),\n    'yield': nextTick\n};\n\nfunction doTrigger(fsm, state, trigger, arg) {\n    if (trigger === 'pause') {\n        return ['paused', (fsm) => {\n            fsm._pause(arg);\n        }];\n    }\n\n    /**\n     * if you are in state \":idle\" and a trigger \":add-event\"\n     * happens, then move the FSM to state \":scheduled\" and execute\n     * that two-part \"do\" function.\n     */\n    if (state === 'idle' && trigger === 'add-event') {\n        return ['scheduled', (fsm) => {\n            fsm._addEvent(arg);\n            fsm._runNextTick();\n        }];\n    } else if (state === 'idle' && trigger === 'resume') {\n        return ['idle', (fsm) => {\n        }];\n    }\n    /**\n     * State: :scheduled  (the queue is scheduled to run, soon)\n     */\n    else if (state === 'scheduled' && trigger === 'add-event') {\n        return ['scheduled', (fsm) => {\n            fsm._addEvent(arg);\n        }];\n\n    }\n    else if (state === 'scheduled' && trigger === 'run-queue') {\n        return ['running', (fsm) => {\n            fsm._runQueue();\n        }];\n    } else if (state === 'scheduled' && trigger === 'resume') {\n        return ['scheduled', (fsm) => {\n        }];\n    }\n\n    /**\n     * State: :running (the queue is being processed one event after another)\n     */\n    else if (state === 'running' && trigger === 'add-event') {\n        return ['running', (fsm) => {\n            fsm._addEvent(arg);\n        }];\n    }\n    else if (state === 'running' && trigger === 'pause') {\n        return ['paused', (fsm) => {\n            fsm._pause(arg);\n        }];\n    }\n    else if (state === 'running' && trigger === 'exception') {\n        return ['idle', (fsm) => {\n            fsm._exception(arg);\n        }];\n    }\n    else if (state === 'running' && trigger === 'finish-run') {\n        return fsm._queue.length === 0 ?\n            ['idle', () => {\n                requestAnimationFrame$.onNext(appDb.peekValue())\n            }] :\n            ['scheduled', (fsm) => {\n                requestAnimationFrame$.onNext(appDb.peekValue());\n                fsm._runNextTick()\n            }];\n    }\n    /**\n     * State: :paused (:flush-dom metadata on an event has caused a temporary pause in processing)\n     */\n    else if (state === 'paused' && trigger === 'add-event') {\n        return ['paused', (fsm) => {\n            fsm._addEvent(arg);\n        }];\n    } else if (state === 'paused' && trigger === 'run-queue') {\n        return ['paused', (fsm) => {\n        }];\n    }\n    else if (state === 'paused' && trigger === 'resume') {\n        return ['running', (fsm) => {\n            fsm._resume(arg);\n        }];\n    } else {\n        throw new Error(\"re-frame: router state transition not found. State '\" + state + \"', trigger '\" + trigger + \"'\");\n    }\n}\n\n\nclass Fsm {\n    constructor() {\n        this._postEventCallbacks = {};\n        this._state = 'idle';\n        this._queue = [];\n    }\n\n    addPostEventCallback(id, callbackFn) {\n        if (this._postEventCallbacks[id]) {\n            console.warn('re-frame: overwriting existing post event call back with id:', id);\n        }\n        this._postEventCallbacks[id] = callbackFn;\n    }\n\n    removePostEventCallback(id) {\n        if (!this._postEventCallbacks[id]) {\n            console.warn('re-frame: could not remove post event call back with id:', id);\n        }\n        delete this._postEventCallbacks[id];\n    }\n\n    trigger(trigger, arg) {\n        const [newState, actionFn] = doTrigger(this, this._state, trigger, arg);\n\n        this._state = newState;\n        if (actionFn) {\n            actionFn(this);\n        }\n    }\n\n    _addEvent(arg) {\n        this._queue.push(arg);\n    }\n\n    _process1stEventInQueue() {\n        const event = this._queue[0];\n        try {\n\n            handle(event);\n            this._queue.shift();\n            this._callPostEventCallbacks(event);\n        } catch (error) {\n            this.trigger(\"exception\", error);\n        }\n    }\n\n    _runNextTick() {\n        setTimeout(function runProcessEvents() {\n            return this.trigger(\"run-queue\", null);\n        }.bind(this), 0);\n    }\n\n    _runQueue() {\n        let paused = false;\n        for (let i = this._queue.length; i > 0; i--) {\n            // TODO add later-fns\n            const event = this._queue[0];\n            const later = Object.keys(laterFns).map(fn => event[fn] ? laterFns[fn] : false).filter(Boolean)[0];\n            if (later) {\n                this.trigger('pause', later);\n                paused = true;\n                break;\n            } else {\n                this._process1stEventInQueue();\n            }\n        }\n        if (!paused) {\n            this.trigger('finish-run', null);\n        }\n    }\n\n    _exception(ex) {\n        this._queue = [];\n        throw ex;\n    }\n\n    _pause(laterFn) {\n        // console.log('pause', laterFn);\n        if (laterFn) {\n            laterFn(() => this.trigger('resume', null));\n        }\n    }\n\n    _callPostEventCallbacks(event) {\n        Object.keys(this._postEventCallbacks).forEach(key => {\n            this._postEventCallbacks[key](event, [...this._queue]);\n        });\n    }\n\n    _resume() {\n        // console.log('resume');\n        if (this._queue[0]) {\n            this._process1stEventInQueue();\n        }\n        this._runQueue();\n    }\n}\nclass EventQueue {\n    constructor() {\n        this._fsm = new Fsm();\n    }\n\n    push(event) {\n        this._fsm.trigger('add-event', event);\n    }\n\n    pause() {\n        this._fsm.trigger('pause');\n    }\n\n    resume() {\n        this._fsm.trigger('resume');\n    }\n\n    addPostEventCallback(id, callbackFn) {\n        this._fsm.addPostEventCallback(id, callbackFn);\n    }\n\n    removePostEventCallback(id) {\n        this._fsm.removePostEventCallback(id);\n    }\n}\n\nconst eventQueue = new EventQueue();\n\nexport function pause() {\n    eventQueue.pause();\n}\n\nexport function resume() {\n    eventQueue.resume();\n}\n\n/**\n * Queue the given event for processing by the registered event handler.\n * Just to be clear: the event handler is not run immediately - it is not run\n * synchronously. It will likely be run 'very soon', although it may be\n * added to the end of a FIFO queue which already contain events.\n * Usage:\n *  (dispatch [:delete-item 42])\n */\nexport function dispatch(event) {\n    if (!event) {\n        throw new Error(\"re-frame: you called \\\"dispatch\\\" without an event vector.\")\n    } else {\n        eventQueue.push(event);\n    }\n}\n\n/**\n * Sychronously (immediately!) process the given event using the registered handler.\n * Generally, you shouldn't use this - you should use `dispatch` instead.  It\n * is an error to use `dispatch-sync` within an event handler.\n * Usage:\n *  (dispatch-sync [:delete-item 42])\n */\nexport function dispatchSync(event) {\n    handle(event);\n    eventQueue._fsm._callPostEventCallbacks(event);\n    requestAnimationFrame$.onNext(appDb.peekValue());\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/router.js\n **/","import * as batching from 'reframe/batching';\nimport * as ratom from 'reframe/ratom';\nimport * as Immutable from 'immutable';\n\nexport const nextTick = batching.nextTick;\n\nexport function afterRender(f) {\n    batching.doAfterRender(f);\n}\n\nexport function reagentId(value) {\n    return value.id();\n}\n\nexport const log = ratom.makeAtom(Immutable.Map({\n    debug: false,\n    traceReact: false,\n    traceSub: false,\n}));\n\nfunction isEnabled(value) {\n    return log.deref().get(value);\n}\nexport function isDebug() {\n    return isEnabled('debug');\n}\n\nexport function isTraceReact() {\n    return isEnabled('traceReact');\n}\n\nexport function toggleLog(name, value) {\n    log.swap(container => container.update(name, old => typeof value !== 'undefined' ? value : !old));\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/interop.js\n **/","export function nextTick(f) {\n    if (requestAnimationFrame) {\n        requestAnimationFrame(f);\n    } else {\n        setTimeout(f, 16);\n    }\n}\n\nfunction runQueue(components) {\n    const s = [...new Set(components)];\n    s.sort((o1, o2) => o1.state.renderOrder - o2.state.renderOrder);\n\n    s.forEach((component) => {\n        if (!component.__reframe_rendered) {\n            component.tryForceUpdate();\n        }\n    });\n}\nclass RenderQueue {\n    constructor() {\n        this._isScheduled = false;\n    }\n\n    enqueue(k, f) {\n        if (!this[k]) {\n            this[k] = [];\n        }\n        this[k].push(f);\n        this.schedule();\n    }\n\n    runFuns(k) {\n        const fns = this[k];\n\n        delete this[k];\n        if (fns) {\n            fns.forEach(f => f());\n        }\n    }\n\n    schedule() {\n        if (!this._isScheduled) {\n            this._isScheduled = true;\n            nextTick(function runRenderQueue() {\n                return this.runQueues();\n            }.bind(this));\n        }\n    }\n\n    queueRender(c) {\n        this.enqueue('componentQueue', c);\n    }\n\n    addBeforeFlush(f) {\n        this.enqueue('beforeFlush', f);\n    }\n\n    addAfterRender(f) {\n        this.enqueue('afterRender', f);\n    }\n\n    runQueues() {\n        this._isScheduled = false;\n        this.flushQueues();\n    }\n\n    flushAfterRender() {\n        this.runFuns('afterRender');\n    }\n\n    flushQueues() {\n        this.runFuns('beforeFlush');\n        // TODO ratom-flush\n        if (this['componentQueue']) {\n            runQueue(this['componentQueue']);\n            delete this['componentQueue'];\n        }\n        this.flushAfterRender();\n    }\n}\n\nif (!window.__reframe_render_queue) {\n    window.__reframe_render_queue = new RenderQueue();\n}\nconst renderQueue = window.__reframe_render_queue;\n\nexport function flush() {\n    renderQueue.flushQueues();\n}\n\nexport function flushAfterRender() {\n    renderQueue.flushAfterRender();\n}\n\nexport function queueRender(component) {\n    component.__reframe_rendered = false;\n    renderQueue.queueRender(component);\n}\n\nexport function doBeforeFlush(f) {\n    renderQueue.addBeforeFlush(f);\n}\n\nexport function doAfterRender(f) {\n    renderQueue.addAfterRender(f);\n}\n\nexport function schedule() {\n    renderQueue.schedule();\n}\n\nexport function markRendered(component) {\n    component.__reframe_rendered = true;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/batching.js\n **/","import * as  Immutable from 'immutable';\nimport * as Rx from 'rx';\nimport {makeAtom, makeReaction, makeRxReaction} from 'reframe/ratom';\nimport {registerHandler, getHandler, clearHandlers} from 'reframe/registrar';\nimport {appDb} from 'reframe/db';\nimport {reagentId} from 'reframe/interop';\n\nexport const kind = 'sub';\n\n// -- cache -------------------------------------------------------------------\n//\n// De-duplicate subscriptions. If two or more equal subscriptions\n// are concurrently active, we want only one handler running.\n// Two subscriptions are \"equal\" if their query vectors serialized to string equals.\nconst queryReaction = makeAtom(Immutable.Map());\n// window.queryReaction = queryReaction;\n\n/**\n * Runs on-dispose for all subscriptions we have in the subscription cache.\n Used to force recreation of new subscriptions. Should only be necessary\n in development.\n The on-dispose functions for the subscriptions will remove themselves from the\n cache.\n Useful when reloading Figwheel code after a React exception, as React components\n aren't cleaned up properly. This means a subscription's on-dispose function isn't\n run when the components are destroyed. If a bad subscription caused your exception,\n then you can't fix it without reloading your browser.\n */\nexport function clearSubscriptionCache() {\n    queryReaction.deref().forEach((reaction) => reaction.dispose());\n\n    if (!queryReaction.deref().isEmpty()) {\n        console.warn(\"Subscription cache should be empty after clearing it.\");\n    }\n}\n\nfunction makeCacheKey(query, dynv) {\n    // cache key should be created either recursively or serializing by string, string is faster (?? safer ??)\n    return (query || []).join(\"|\") + \"|\" + (dynv || []).join(\"|\");\n    // return Immutable.List([Immutable.List(query), Immutable.List(dynv)]);\n}\n\nexport function clearAllHandlers() {\n    clearHandlers(kind);\n    clearSubscriptionCache();\n}\n\nfunction cacheAndReturn(query, dynv, r) {\n    const cacheKey = makeCacheKey(query, dynv);\n    r.addOnDispose(() => {\n        queryReaction.swap((cache) => cache.delete(cacheKey));\n    });\n\n    queryReaction.swap((cache) => cache.set(cacheKey, r));\n    return r;\n}\n\nfunction cacheLookup(query, dynv = Immutable.List()) {\n    return queryReaction.deref().get(makeCacheKey(query, dynv));\n}\n\nexport function subscribe(query, dynv = undefined) {\n    if (typeof dynv === 'undefined') {\n\n        const cached = cacheLookup(query);\n        if (cached) {\n            return cached;\n        }\n\n        const\n            [queryId] = query,\n            handlerFn = getHandler(kind, queryId);\n\n        if (!handlerFn) {\n            console.error(\"re-frame: no subscription handler registered for: \\\"\", queryId, \"\\\". Returning a nil subscription.\");\n        } else {\n            return cacheAndReturn(query, [], handlerFn(appDb, query))\n        }\n    } else {\n        const cached = cacheLookup(query, dynv);\n        if (cached) {\n            return cached;\n        }\n\n        const\n            [queryId] = query,\n            handlerFn = getHandler(kind, queryId);\n\n        if (!handlerFn) {\n            console.error(\"re-frame: no subscription handler registered for: \\\"\", queryId, \"\\\". Returning a nil subscription.\");\n        } else {\n            const\n                dynVals = makeReaction(() => dynv.map(v => v.deref())),\n                sub = makeReaction(() => handlerFn(appDb, dynVals.deref()));\n\n            return cacheAndReturn(query, [], makeReaction(() => sub.deref().deref()));\n        }\n    }\n}\n\nfunction derefInputSignals(signals, queryId) {\n    if (Array.isArray(signals)) {\n        return signals.map(v => v.deref());\n    }\n    else if (signals instanceof Immutable.Map) {\n        return signals.map(v => v.deref());\n    }\n    else if (signals instanceof Immutable.Seq) {\n        return signals.map(v => v.deref());\n    }\n    else if (signals && signals.deref) {\n        return signals.deref();\n    } else {\n        console.error(\"re-frame: in the reg-sub for \", query - id, \", the input-signals function returns: \", signals);\n    }\n}\n\nfunction partition(input, spacing) {\n    var output = [];\n\n    for (var i = 0; i < input.length; i += spacing) {\n        output[output.length] = input.slice(i, i + spacing);\n    }\n\n    return output;\n}\n\nfunction makeMultiInputPairsFn(inputArgs) {\n    const\n        pairs = partition(inputArgs, 2),\n        vecs = pairs.map(p => p[1]);\n\n    return function inpFn() {\n        return vecs.map(subscribe);\n    };\n}\n\nfunction makeInputsFn(inputArgs) {\n    switch (inputArgs.length) {\n        // no `inputs` function provided - give the default\n        case 0:\n            return () => appDb;\n\n        // a single `inputs` fn\n        case 1:\n            return inputArgs[0];\n\n        // one sugar pair\n        case 2:\n            return function inpFn() {\n                return subscribe(inputArgs[1]);\n            };\n\n        // multiple sugar pairs\n        default:\n            return makeMultiInputPairsFn(inputArgs);\n\n    }\n}\n\nfunction checkRx(reaction) {\n    if (reaction instanceof Rx.Observable) {\n        return makeRxReaction(reaction);\n    }\n    return reaction;\n}\n\n/**\n *   \"Associate the given `query id` with a handler function and an optional signal function.\n\n There's 2 ways this function can be called\n\n 1. regSub('test-sub', (db, [_]) => db)\n The value in app-db is passed to the computation function as the 1st argument.\n\n 2. regSub('a-b-sub',\n        (q-vec, d-vec) => [subscribe(['a-sub']), subscribe(['b-sub'])],\n        ([a, b], q-vec) => {a: a, b: b})\n\n Two functions provided. The 2nd is computation function, as before. The 1st\n is returns what `input signals` should be provided to the computation. The\n `input signals` function is called with two arguments: the query vector\n and the dynamic vector. The return value can be singleton reaction or\n a sequence of reactions.\n\n \"\n */\nexport function regSub(queryId, ...args) {\n    const\n        computationFn = args[args.length - 1],\n        inputArgs = args.slice(0, args.length - 1),\n        errHeader = \"re-frame: reg-sub for \" + queryId + \", \",\n        inputsFn = makeInputsFn(inputArgs);\n\n    return registerHandler(kind, queryId, function subsHandlerFn(db, queryVec, dynVec = undefined) {\n        if (typeof  dynVec === 'undefined') {\n            const\n                subscriptions = inputsFn(queryVec),\n                reaction = makeReaction(() => computationFn(derefInputSignals(subscriptions, queryId), queryVec));\n\n            return reaction;\n        } else {\n            const\n                subscriptions = inputsFn(queryVec, dynVec),\n                reaction = makeReaction(() => computationFn(derefInputSignals(subscriptions, queryId), queryVec, dynVec));\n\n            return reaction;\n        }\n    });\n}\n\nexport const requestAnimationFrame$ = new Rx.BehaviorSubject();\n\nexport function registerSub(queryId, computationFn) {\n    return registerHandler(kind, queryId, function subsRxHandlerFn(db, queryVec, dynVec = undefined) {\n        return makeRxReaction(computationFn(requestAnimationFrame$, queryVec));\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/subs.js\n **/","'use strict';\n\nimport * as subs from 'reframe/subs.js';\nimport * as React from 'react';\nimport {shouldUpdate, shouldUpdateArgv} from 'reframe/shouldupdate';\nimport * as ratom from 'reframe/ratom';\nimport * as batching from 'reframe/batching';\nimport {isDebug, isTraceReact} from 'reframe/interop';\nimport {markRendered} from 'reframe/batching';\nimport createReactClass from 'create-react-class';\n\n// export const pause$ = new Rx.BehaviorSubject(true);\n\n// export function deref(rx, transform) {\n//     let ttransform = transform || (a => a);\n//     let subj = new Rx.BehaviorSubject();\n//     rx.map(ttransform).subscribe(subj).dispose();\n//     return subj.getValue();\n// }\n\nlet data = {\n    renderOrder: 0,\n    toUpdate: []\n};\n\nfunction shouldUpdateByDerefed(watching) {\n    for (let watch of watching) {\n        if (watch.shouldUpdate()) {\n            return true;\n        }\n    }\n    return false;\n}\n\n\nexport function render() {\n    data.toUpdate.sort(([o1], [o2]) => o1 - o2);\n\n    data.toUpdate.forEach(([_, forceUpdate]) => forceUpdate());\n    data.toUpdate = [];\n}\n// subs.render$\n//     .pausable(pause$)\n//     .subscribe(render);\n\nexport function StatelessMixin(isArgv) {\n    return {\n        shouldComponentUpdate: function (nextProps, nextState) {\n            const propsUpdate = isArgv ? shouldUpdateArgv(this.props.argv, nextProps.argv) : shouldUpdate(this.props, nextProps, ['ctx']);\n            const stateUpdate = shouldUpdate(this.state, nextState);\n            return propsUpdate || stateUpdate;\n        },\n        getDisplayName: function () {\n            return this.constructor.displayName;\n        },\n        traceReact(message) {\n            if (isTraceReact()) {\n                console.debug(message, this.getDisplayName(), {\n                    order: this.state.renderOrder,\n                    render: this.state.renderCycle,\n                    props: this.props, state: this.state\n                });\n            }\n        },\n        id() {\n            return this.getDisplayName();\n        }\n    };\n}\n\nfunction S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n}\n\n// Generate a pseudo-GUID by concatenating random hexadecimal.\nfunction guid() {\n    return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n}\n\nclass ReactViewDeref extends (ratom.Observable) {\n    constructor(component, renderCycle, observable) {\n        super('de');\n        this._componentId = component.id();\n        this._renderCycle = renderCycle;\n        this._observable = observable;\n        this._lastValue = observable.peekValue();\n    }\n\n    notify() {\n        this._notifyObservers();\n    }\n\n    shouldDispose(renderCycle) {\n        return renderCycle > this._renderCycle;\n    }\n\n    dispose() {\n        super.dispose();\n        this._observable.dispose();\n    }\n\n    deref() {\n        return this._lastValue;\n    }\n\n    shouldUpdate() {\n        return this._observable.isChanged(this._lastValue);\n    }\n}\n\n\nexport function SubscriptionMixin(isArgv) {\n    return {\n        derefSub(subVec, transform) {\n            return ratom.deref(subs.subscribe(subVec), transform);\n        },\n        getDisplayName: function () {\n            return this.constructor.displayName;\n        },\n        getInitialState: function () {\n            return {\n                watching: new Set(),\n                renderOrder: data.renderOrder++,\n                renderCycle: 0\n            };\n        },\n        observe: function (watch) {\n            if (!this.state.watching.has(watch)) {\n                const deref = new ReactViewDeref(this, this.state.renderCycle, watch);\n                this.state.watching.add(deref);\n                watch.subscribe(deref);\n                deref.subscribe(this);\n                watch.unsubscribe(this);\n            }\n        },\n        id() {\n            return this.getDisplayName();\n        },\n        // unobserve: function(observable) {\n        //     this.state.watching.delete(observable);\n        // },\n        notify: function (dispose) {\n            this.traceReact('Notify');\n            batching.queueRender(this);\n        },\n        tryForceUpdate: function () {\n            if (shouldUpdateByDerefed(this.state.watching)) {\n                this.traceReact('Force update');\n                // console.log('Force update', obj.getDisplayName());\n                this.forceUpdate();\n            }\n        },\n        shouldComponentUpdate: function (nextProps, nextState) {\n            let updateByProps = isArgv ? shouldUpdateArgv(this.props.argv, nextProps.argv) : shouldUpdate(this.props, nextProps, ['ctx']),\n                updateByState = shouldUpdate(this.state, nextState, ['watching', 'renderOrder', 'renderCycle']);\n\n            return updateByProps || updateByState;\n        },\n        deref: function (rx, aTransform, aId) {\n            return ratom.deref(rx, aTransform);\n        },\n        unsubscribe: function () {\n            this.state.watching.forEach(watch => {\n                watch.unsubscribe(this);\n                watch.dispose()\n            });\n        },\n        componentWillUpdate: function () {\n            // console.log('Rendering', this.getDisplayName());\n            this.state.renderCycle++;\n            // this.unsubscribe();\n        },\n        componentDidUpdate: function () {\n            for (let watch of this.state.watching) {\n                // console.log(watch._observable.id(), this.state.renderCycle, watch.shouldDispose(this.state.renderCycle), watch);\n                if (watch.shouldDispose(this.state.renderCycle)) {\n                    this.state.watching.delete(watch);\n                    watch.unsubscribe(this);\n                    watch.dispose();\n                }\n            }\n        },\n        componentWillUnmount: function () {\n            markRendered(this);\n            this.unsubscribe();\n        },\n        traceReact(message) {\n            if (isTraceReact()) {\n                console.debug(message, this.getDisplayName(), {\n                    order: this.state.renderOrder,\n                    render: this.state.renderCycle,\n                    props: this.props, state: this.state\n                });\n            }\n        }\n    };\n}\n\nfunction createComponentObj(mixins, args) {\n    let componentObj;\n    switch (args.length) {\n        case 2:\n            if (typeof args[1].prototype === 'undefined') {\n                args[1].mixins = mixins;\n                componentObj = args[1];\n            } else {\n                componentObj = {\n                    mixins: mixins,\n                    render: args[1]\n                };\n            }\n            break;\n        case 3:\n            if (typeof args[2].prototype === 'undefined') {\n                // it's an object\n                args[2].mixins = mixins.concat(args[1]);\n                componentObj = args[2];\n            } else {\n                // it's a render function\n                componentObj = {\n                    mixins: mixins.concat(args[1]),\n                    render: args[2]\n                };\n            }\n            break;\n        default :\n            throw new Error('Expected 2 or 3 arguments, got ' + args.length);\n    }\n    componentObj.displayName = args[0];\n    return componentObj;\n}\n\nfunction propsView(mixin, args) {\n    let componentObj = createComponentObj(mixin, args);\n    let oldRender = componentObj.render;\n    componentObj.render = function () {\n        this.traceReact('Render');\n        markRendered(this);\n        return ratom.runInCtx(this, () => oldRender.call(this, this.props));\n    };\n\n    let component = createReactClass(componentObj);\n    let factory = React.createFactory(component);\n    return function (props) {\n        return factory(props);\n    };\n}\n\nfunction createComponent(mixin, args) {\n    let componentObj = createComponentObj(mixin, args);\n    let oldRender = componentObj.render;\n    componentObj.render = function () {\n        this.traceReact('Render');\n        markRendered(this);\n        return ratom.runInCtx(this, () => oldRender.call(this, this.props));\n    };\n\n    return createReactClass(componentObj);\n}\n\nfunction createFactory(mixin, args) {\n    const component = createComponent(mixin, args);\n    let factory = React.createFactory(component);\n    return factory;\n}\n\nexport function uix(name, mixin, clazz) {\n    return createComponent([SubscriptionMixin(false)], arguments);\n}\n\nexport function ui(name, mixin, clazz) {\n    return createFactory([SubscriptionMixin(false)], arguments);\n}\n\nfunction vectorView(mixin, args) {\n    let componentObj = createComponentObj(mixin, args);\n    let oldRender = componentObj.render;\n    componentObj.render = function () {\n        this.traceReact('Render');\n        markRendered(this);\n        return ratom.runInCtx(this, () => oldRender.apply(this, this.props.argv));\n    };\n    let component = createReactClass(componentObj);\n    let factory = React.createFactory(component);\n\n    return function () {\n        return factory({argv: Array.prototype.slice.call(arguments)});\n    };\n}\n\nexport function viewP() {\n    return propsView([StatelessMixin(false)], arguments);\n}\n\nexport function viewV() {\n    return vectorView([StatelessMixin(true)], arguments);\n}\n\nexport function viewSP() {\n    return propsView([SubscriptionMixin(false)], arguments);\n}\n\nexport function viewSV() {\n    return vectorView([SubscriptionMixin(true)], arguments);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/react.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"react\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"root\":\"React\"}\n ** module id = 15\n ** module chunks = 0\n **/","'use strict';\nimport {isImmutable, isPrimitive, isObservable, isRxObservable} from 'reframe/utils';\nimport * as Immutable from 'immutable';\n\nfunction isSameType(a, b, predicate) {\n    return predicate(a) && predicate(b);\n}\n\nfunction equals(a, b) {\n    if (isSameType(a, b, isPrimitive)\n        || isSameType(a, b, isImmutable)\n        || isSameType(a, b, isObservable)) {\n        return Immutable.is(a, b);\n    } else if (isRxObservable(a, b)) {\n        return a === b;\n    }\n    return false;\n}\n\nexport function shouldUpdateArgv(props, nextProps) {\n    if (props.length !== nextProps.length) {\n        return true;\n    }\n\n    const maxLength = Math.max(props.length, nextProps.length);\n    for (let i = 0; i < maxLength; i++) {\n        if (!equals(props[i], nextProps[i])) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/**\n * If props does not exist return false - Pure render mixin. If props exists and it contains mutable entries,\n * return false. If props contains only immutable entries compare them by type.\n *\n * @param {object} props current props\n * @param {object} nextProps new props\n * @param {array} ignore ignore these keys\n * @returns {boolean} true if component should be rerendered\n */\nexport function shouldUpdate(props, nextProps, ignore = []) {\n    const keys1 = props ? Object.keys(props) : [];\n    const keys2 = nextProps ? Object.keys(nextProps) : [];\n    for (let prop of new Set(keys1.concat(keys2))) {\n        if (ignore.length > 0 && ignore.indexOf(prop) >= 0) {\n            continue;\n        }\n        if (!equals(props[prop], nextProps[prop])) {\n            return true;\n        }\n    }\n    return false;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/shouldupdate.js\n **/","import * as Immutable from 'immutable';\nimport {Observable} from 'reframe/ratom';\nimport * as Rx from 'rx';\n\nexport function isImmutable(maybeImmutable) {\n    return maybeImmutable instanceof Immutable.Iterable;\n}\n\nexport function isPrimitive(value) {\n    var type = typeof value;\n    return type === 'number' || type === 'boolean' || type === 'string' || value === null || value === void 0;\n}\n\nexport function isFunction(obj) {\n    return typeof obj === 'function';\n}\n\nexport function isObject(obj) {\n    return typeof obj === 'object';\n}\n\nexport function isObservable(obj) {\n    return obj instanceof Observable;\n}\n\nexport function isRxObservable(obj) {\n    return obj instanceof Rx.Observable;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/utils.js\n **/","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar React = require('react');\nvar factory = require('./factory');\n\n// Hack to grab NoopUpdateQueue from isomorphic React\nvar ReactNoopUpdateQueue = new React.Component().updater;\n\nmodule.exports = factory(\n  React.Component,\n  React.isValidElement,\n  ReactNoopUpdateQueue\n);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/create-react-class/index.js\n ** module id = 18\n ** module chunks = 0\n **/","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar emptyObject = require('fbjs/lib/emptyObject');\nvar _invariant = require('fbjs/lib/invariant');\n\nif (process.env.NODE_ENV !== 'production') {\n  var warning = require('fbjs/lib/warning');\n}\n\nvar MIXINS_KEY = 'mixins';\n\n// Helper function to allow the creation of anonymous functions which do not\n// have .name set to the name of the variable being assigned to.\nfunction identity(fn) {\n  return fn;\n}\n\nvar ReactPropTypeLocationNames;\nif (process.env.NODE_ENV !== 'production') {\n  ReactPropTypeLocationNames = {\n    prop: 'prop',\n    context: 'context',\n    childContext: 'child context',\n  };\n} else {\n  ReactPropTypeLocationNames = {};\n}\n\nfunction factory(ReactComponent, isValidElement, ReactNoopUpdateQueue) {\n  /**\n   * Policies that describe methods in `ReactClassInterface`.\n   */\n\n\n  var injectedMixins = [];\n\n  /**\n   * Composite components are higher-level components that compose other composite\n   * or host components.\n   *\n   * To create a new type of `ReactClass`, pass a specification of\n   * your new class to `React.createClass`. The only requirement of your class\n   * specification is that you implement a `render` method.\n   *\n   *   var MyComponent = React.createClass({\n   *     render: function() {\n   *       return <div>Hello World</div>;\n   *     }\n   *   });\n   *\n   * The class specification supports a specific protocol of methods that have\n   * special meaning (e.g. `render`). See `ReactClassInterface` for\n   * more the comprehensive protocol. Any other properties and methods in the\n   * class specification will be available on the prototype.\n   *\n   * @interface ReactClassInterface\n   * @internal\n   */\n  var ReactClassInterface = {\n\n    /**\n     * An array of Mixin objects to include when defining your component.\n     *\n     * @type {array}\n     * @optional\n     */\n    mixins: 'DEFINE_MANY',\n\n    /**\n     * An object containing properties and methods that should be defined on\n     * the component's constructor instead of its prototype (static methods).\n     *\n     * @type {object}\n     * @optional\n     */\n    statics: 'DEFINE_MANY',\n\n    /**\n     * Definition of prop types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    propTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types for this component.\n     *\n     * @type {object}\n     * @optional\n     */\n    contextTypes: 'DEFINE_MANY',\n\n    /**\n     * Definition of context types this component sets for its children.\n     *\n     * @type {object}\n     * @optional\n     */\n    childContextTypes: 'DEFINE_MANY',\n\n    // ==== Definition methods ====\n\n    /**\n     * Invoked when the component is mounted. Values in the mapping will be set on\n     * `this.props` if that prop is not specified (i.e. using an `in` check).\n     *\n     * This method is invoked before `getInitialState` and therefore cannot rely\n     * on `this.state` or use `this.setState`.\n     *\n     * @return {object}\n     * @optional\n     */\n    getDefaultProps: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Invoked once before the component is mounted. The return value will be used\n     * as the initial value of `this.state`.\n     *\n     *   getInitialState: function() {\n     *     return {\n     *       isOn: false,\n     *       fooBaz: new BazFoo()\n     *     }\n     *   }\n     *\n     * @return {object}\n     * @optional\n     */\n    getInitialState: 'DEFINE_MANY_MERGED',\n\n    /**\n     * @return {object}\n     * @optional\n     */\n    getChildContext: 'DEFINE_MANY_MERGED',\n\n    /**\n     * Uses props from `this.props` and state from `this.state` to render the\n     * structure of the component.\n     *\n     * No guarantees are made about when or how often this method is invoked, so\n     * it must not have side effects.\n     *\n     *   render: function() {\n     *     var name = this.props.name;\n     *     return <div>Hello, {name}!</div>;\n     *   }\n     *\n     * @return {ReactComponent}\n     * @nosideeffects\n     * @required\n     */\n    render: 'DEFINE_ONCE',\n\n    // ==== Delegate methods ====\n\n    /**\n     * Invoked when the component is initially created and about to be mounted.\n     * This may have side effects, but any external subscriptions or data created\n     * by this method must be cleaned up in `componentWillUnmount`.\n     *\n     * @optional\n     */\n    componentWillMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component has been mounted and has a DOM representation.\n     * However, there is no guarantee that the DOM node is in the document.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been mounted (initialized and rendered) for the first time.\n     *\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidMount: 'DEFINE_MANY',\n\n    /**\n     * Invoked before the component receives new props.\n     *\n     * Use this as an opportunity to react to a prop transition by updating the\n     * state using `this.setState`. Current props are accessed via `this.props`.\n     *\n     *   componentWillReceiveProps: function(nextProps, nextContext) {\n     *     this.setState({\n     *       likesIncreasing: nextProps.likeCount > this.props.likeCount\n     *     });\n     *   }\n     *\n     * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop\n     * transition may cause a state change, but the opposite is not true. If you\n     * need it, you are probably looking for `componentWillUpdate`.\n     *\n     * @param {object} nextProps\n     * @optional\n     */\n    componentWillReceiveProps: 'DEFINE_MANY',\n\n    /**\n     * Invoked while deciding if the component should be updated as a result of\n     * receiving new props, state and/or context.\n     *\n     * Use this as an opportunity to `return false` when you're certain that the\n     * transition to the new props/state/context will not require a component\n     * update.\n     *\n     *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {\n     *     return !equal(nextProps, this.props) ||\n     *       !equal(nextState, this.state) ||\n     *       !equal(nextContext, this.context);\n     *   }\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @return {boolean} True if the component should update.\n     * @optional\n     */\n    shouldComponentUpdate: 'DEFINE_ONCE',\n\n    /**\n     * Invoked when the component is about to update due to a transition from\n     * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`\n     * and `nextContext`.\n     *\n     * Use this as an opportunity to perform preparation before an update occurs.\n     *\n     * NOTE: You **cannot** use `this.setState()` in this method.\n     *\n     * @param {object} nextProps\n     * @param {?object} nextState\n     * @param {?object} nextContext\n     * @param {ReactReconcileTransaction} transaction\n     * @optional\n     */\n    componentWillUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component's DOM representation has been updated.\n     *\n     * Use this as an opportunity to operate on the DOM when the component has\n     * been updated.\n     *\n     * @param {object} prevProps\n     * @param {?object} prevState\n     * @param {?object} prevContext\n     * @param {DOMElement} rootNode DOM element representing the component.\n     * @optional\n     */\n    componentDidUpdate: 'DEFINE_MANY',\n\n    /**\n     * Invoked when the component is about to be removed from its parent and have\n     * its DOM representation destroyed.\n     *\n     * Use this as an opportunity to deallocate any external resources.\n     *\n     * NOTE: There is no `componentDidUnmount` since your component will have been\n     * destroyed by that point.\n     *\n     * @optional\n     */\n    componentWillUnmount: 'DEFINE_MANY',\n\n    // ==== Advanced methods ====\n\n    /**\n     * Updates the component's currently mounted DOM representation.\n     *\n     * By default, this implements React's rendering and reconciliation algorithm.\n     * Sophisticated clients may wish to override this.\n     *\n     * @param {ReactReconcileTransaction} transaction\n     * @internal\n     * @overridable\n     */\n    updateComponent: 'OVERRIDE_BASE'\n\n  };\n\n  /**\n   * Mapping from class specification keys to special processing functions.\n   *\n   * Although these are declared like instance properties in the specification\n   * when defining classes using `React.createClass`, they are actually static\n   * and are accessible on the constructor instead of the prototype. Despite\n   * being static, they must be defined outside of the \"statics\" key under\n   * which all other static methods are defined.\n   */\n  var RESERVED_SPEC_KEYS = {\n    displayName: function (Constructor, displayName) {\n      Constructor.displayName = displayName;\n    },\n    mixins: function (Constructor, mixins) {\n      if (mixins) {\n        for (var i = 0; i < mixins.length; i++) {\n          mixSpecIntoComponent(Constructor, mixins[i]);\n        }\n      }\n    },\n    childContextTypes: function (Constructor, childContextTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, childContextTypes, 'childContext');\n      }\n      Constructor.childContextTypes = _assign({}, Constructor.childContextTypes, childContextTypes);\n    },\n    contextTypes: function (Constructor, contextTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, contextTypes, 'context');\n      }\n      Constructor.contextTypes = _assign({}, Constructor.contextTypes, contextTypes);\n    },\n    /**\n     * Special case getDefaultProps which should move into statics but requires\n     * automatic merging.\n     */\n    getDefaultProps: function (Constructor, getDefaultProps) {\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps = createMergedResultFunction(Constructor.getDefaultProps, getDefaultProps);\n      } else {\n        Constructor.getDefaultProps = getDefaultProps;\n      }\n    },\n    propTypes: function (Constructor, propTypes) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateTypeDef(Constructor, propTypes, 'prop');\n      }\n      Constructor.propTypes = _assign({}, Constructor.propTypes, propTypes);\n    },\n    statics: function (Constructor, statics) {\n      mixStaticSpecIntoComponent(Constructor, statics);\n    },\n    autobind: function () {} };\n\n  function validateTypeDef(Constructor, typeDef, location) {\n    for (var propName in typeDef) {\n      if (typeDef.hasOwnProperty(propName)) {\n        // use a warning instead of an _invariant so components\n        // don't show up in prod but only in __DEV__\n        process.env.NODE_ENV !== 'production' ? warning(typeof typeDef[propName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'React.PropTypes.', Constructor.displayName || 'ReactClass', ReactPropTypeLocationNames[location], propName) : void 0;\n      }\n    }\n  }\n\n  function validateMethodOverride(isAlreadyDefined, name) {\n    var specPolicy = ReactClassInterface.hasOwnProperty(name) ? ReactClassInterface[name] : null;\n\n    // Disallow overriding of base class methods unless explicitly allowed.\n    if (ReactClassMixin.hasOwnProperty(name)) {\n      _invariant(specPolicy === 'OVERRIDE_BASE', 'ReactClassInterface: You are attempting to override ' + '`%s` from your class specification. Ensure that your method names ' + 'do not overlap with React methods.', name);\n    }\n\n    // Disallow defining methods more than once unless explicitly allowed.\n    if (isAlreadyDefined) {\n      _invariant(specPolicy === 'DEFINE_MANY' || specPolicy === 'DEFINE_MANY_MERGED', 'ReactClassInterface: You are attempting to define ' + '`%s` on your component more than once. This conflict may be due ' + 'to a mixin.', name);\n    }\n  }\n\n  /**\n   * Mixin helper which handles policy validation and reserved\n   * specification keys when building React classes.\n   */\n  function mixSpecIntoComponent(Constructor, spec) {\n    if (!spec) {\n      if (process.env.NODE_ENV !== 'production') {\n        var typeofSpec = typeof spec;\n        var isMixinValid = typeofSpec === 'object' && spec !== null;\n\n        process.env.NODE_ENV !== 'production' ? warning(isMixinValid, '%s: You\\'re attempting to include a mixin that is either null ' + 'or not an object. Check the mixins included by the component, ' + 'as well as any mixins they include themselves. ' + 'Expected object but got %s.', Constructor.displayName || 'ReactClass', spec === null ? null : typeofSpec) : void 0;\n      }\n\n      return;\n    }\n\n    _invariant(typeof spec !== 'function', 'ReactClass: You\\'re attempting to ' + 'use a component class or function as a mixin. Instead, just use a ' + 'regular object.');\n    _invariant(!isValidElement(spec), 'ReactClass: You\\'re attempting to ' + 'use a component as a mixin. Instead, just use a regular object.');\n\n    var proto = Constructor.prototype;\n    var autoBindPairs = proto.__reactAutoBindPairs;\n\n    // By handling mixins before any other properties, we ensure the same\n    // chaining order is applied to methods with DEFINE_MANY policy, whether\n    // mixins are listed before or after these methods in the spec.\n    if (spec.hasOwnProperty(MIXINS_KEY)) {\n      RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins);\n    }\n\n    for (var name in spec) {\n      if (!spec.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (name === MIXINS_KEY) {\n        // We have already handled mixins in a special case above.\n        continue;\n      }\n\n      var property = spec[name];\n      var isAlreadyDefined = proto.hasOwnProperty(name);\n      validateMethodOverride(isAlreadyDefined, name);\n\n      if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {\n        RESERVED_SPEC_KEYS[name](Constructor, property);\n      } else {\n        // Setup methods on prototype:\n        // The following member methods should not be automatically bound:\n        // 1. Expected ReactClass methods (in the \"interface\").\n        // 2. Overridden methods (that were mixed in).\n        var isReactClassMethod = ReactClassInterface.hasOwnProperty(name);\n        var isFunction = typeof property === 'function';\n        var shouldAutoBind = isFunction && !isReactClassMethod && !isAlreadyDefined && spec.autobind !== false;\n\n        if (shouldAutoBind) {\n          autoBindPairs.push(name, property);\n          proto[name] = property;\n        } else {\n          if (isAlreadyDefined) {\n            var specPolicy = ReactClassInterface[name];\n\n            // These cases should already be caught by validateMethodOverride.\n            _invariant(isReactClassMethod && (specPolicy === 'DEFINE_MANY_MERGED' || specPolicy === 'DEFINE_MANY'), 'ReactClass: Unexpected spec policy %s for key %s ' + 'when mixing in component specs.', specPolicy, name);\n\n            // For methods which are defined more than once, call the existing\n            // methods before calling the new property, merging if appropriate.\n            if (specPolicy === 'DEFINE_MANY_MERGED') {\n              proto[name] = createMergedResultFunction(proto[name], property);\n            } else if (specPolicy === 'DEFINE_MANY') {\n              proto[name] = createChainedFunction(proto[name], property);\n            }\n          } else {\n            proto[name] = property;\n            if (process.env.NODE_ENV !== 'production') {\n              // Add verbose displayName to the function, which helps when looking\n              // at profiling tools.\n              if (typeof property === 'function' && spec.displayName) {\n                proto[name].displayName = spec.displayName + '_' + name;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function mixStaticSpecIntoComponent(Constructor, statics) {\n    if (!statics) {\n      return;\n    }\n    for (var name in statics) {\n      var property = statics[name];\n      if (!statics.hasOwnProperty(name)) {\n        continue;\n      }\n\n      var isReserved = name in RESERVED_SPEC_KEYS;\n      _invariant(!isReserved, 'ReactClass: You are attempting to define a reserved ' + 'property, `%s`, that shouldn\\'t be on the \"statics\" key. Define it ' + 'as an instance property instead; it will still be accessible on the ' + 'constructor.', name);\n\n      var isInherited = name in Constructor;\n      _invariant(!isInherited, 'ReactClass: You are attempting to define ' + '`%s` on your component more than once. This conflict may be ' + 'due to a mixin.', name);\n      Constructor[name] = property;\n    }\n  }\n\n  /**\n   * Merge two objects, but throw if both contain the same key.\n   *\n   * @param {object} one The first object, which is mutated.\n   * @param {object} two The second object\n   * @return {object} one after it has been mutated to contain everything in two.\n   */\n  function mergeIntoWithNoDuplicateKeys(one, two) {\n    _invariant(one && two && typeof one === 'object' && typeof two === 'object', 'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.');\n\n    for (var key in two) {\n      if (two.hasOwnProperty(key)) {\n        _invariant(one[key] === undefined, 'mergeIntoWithNoDuplicateKeys(): ' + 'Tried to merge two objects with the same key: `%s`. This conflict ' + 'may be due to a mixin; in particular, this may be caused by two ' + 'getInitialState() or getDefaultProps() methods returning objects ' + 'with clashing keys.', key);\n        one[key] = two[key];\n      }\n    }\n    return one;\n  }\n\n  /**\n   * Creates a function that invokes two functions and merges their return values.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n  function createMergedResultFunction(one, two) {\n    return function mergedResult() {\n      var a = one.apply(this, arguments);\n      var b = two.apply(this, arguments);\n      if (a == null) {\n        return b;\n      } else if (b == null) {\n        return a;\n      }\n      var c = {};\n      mergeIntoWithNoDuplicateKeys(c, a);\n      mergeIntoWithNoDuplicateKeys(c, b);\n      return c;\n    };\n  }\n\n  /**\n   * Creates a function that invokes two functions and ignores their return vales.\n   *\n   * @param {function} one Function to invoke first.\n   * @param {function} two Function to invoke second.\n   * @return {function} Function that invokes the two argument functions.\n   * @private\n   */\n  function createChainedFunction(one, two) {\n    return function chainedFunction() {\n      one.apply(this, arguments);\n      two.apply(this, arguments);\n    };\n  }\n\n  /**\n   * Binds a method to the component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   * @param {function} method Method to be bound.\n   * @return {function} The bound method.\n   */\n  function bindAutoBindMethod(component, method) {\n    var boundMethod = method.bind(component);\n    if (process.env.NODE_ENV !== 'production') {\n      boundMethod.__reactBoundContext = component;\n      boundMethod.__reactBoundMethod = method;\n      boundMethod.__reactBoundArguments = null;\n      var componentName = component.constructor.displayName;\n      var _bind = boundMethod.bind;\n      boundMethod.bind = function (newThis) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        // User is trying to bind() an autobound method; we effectively will\n        // ignore the value of \"this\" that the user is trying to use, so\n        // let's warn.\n        if (newThis !== component && newThis !== null) {\n          process.env.NODE_ENV !== 'production' ? warning(false, 'bind(): React component methods may only be bound to the ' + 'component instance. See %s', componentName) : void 0;\n        } else if (!args.length) {\n          process.env.NODE_ENV !== 'production' ? warning(false, 'bind(): You are binding a component method to the component. ' + 'React does this for you automatically in a high-performance ' + 'way, so you can safely remove this call. See %s', componentName) : void 0;\n          return boundMethod;\n        }\n        var reboundMethod = _bind.apply(boundMethod, arguments);\n        reboundMethod.__reactBoundContext = component;\n        reboundMethod.__reactBoundMethod = method;\n        reboundMethod.__reactBoundArguments = args;\n        return reboundMethod;\n      };\n    }\n    return boundMethod;\n  }\n\n  /**\n   * Binds all auto-bound methods in a component.\n   *\n   * @param {object} component Component whose method is going to be bound.\n   */\n  function bindAutoBindMethods(component) {\n    var pairs = component.__reactAutoBindPairs;\n    for (var i = 0; i < pairs.length; i += 2) {\n      var autoBindKey = pairs[i];\n      var method = pairs[i + 1];\n      component[autoBindKey] = bindAutoBindMethod(component, method);\n    }\n  }\n\n  var IsMountedMixin = {\n    componentDidMount: function () {\n      this.__isMounted = true;\n    },\n    componentWillUnmount: function () {\n      this.__isMounted = false;\n    }\n  };\n\n  /**\n   * Add more to the ReactClass base class. These are all legacy features and\n   * therefore not already part of the modern ReactComponent.\n   */\n  var ReactClassMixin = {\n\n    /**\n     * TODO: This will be deprecated because state should always keep a consistent\n     * type signature and the only use case for this, is to avoid that.\n     */\n    replaceState: function (newState, callback) {\n      this.updater.enqueueReplaceState(this, newState, callback);\n    },\n\n    /**\n     * Checks whether or not this composite component is mounted.\n     * @return {boolean} True if mounted, false otherwise.\n     * @protected\n     * @final\n     */\n    isMounted: function () {\n      if (process.env.NODE_ENV !== 'production') {\n        process.env.NODE_ENV !== 'production' ? warning(this.__didWarnIsMounted, '%s: isMounted is deprecated. Instead, make sure to clean up ' + 'subscriptions and pending requests in componentWillUnmount to ' + 'prevent memory leaks.', this.constructor && this.constructor.displayName || this.name || 'Component') : void 0;\n        this.__didWarnIsMounted = true;\n      }\n      return !!this.__isMounted;\n    }\n  };\n\n  var ReactClassComponent = function () {};\n  _assign(ReactClassComponent.prototype, ReactComponent.prototype, ReactClassMixin);\n\n  /**\n   * Creates a composite component class given a class specification.\n   * See https://facebook.github.io/react/docs/top-level-api.html#react.createclass\n   *\n   * @param {object} spec Class specification (which must define `render`).\n   * @return {function} Component constructor function.\n   * @public\n   */\n  function createClass(spec) {\n    // To keep our warnings more understandable, we'll use a little hack here to\n    // ensure that Constructor.name !== 'Constructor'. This makes sure we don't\n    // unnecessarily identify a class without displayName as 'Constructor'.\n    var Constructor = identity(function (props, context, updater) {\n      // This constructor gets overridden by mocks. The argument is used\n      // by mocks to assert on what gets mounted.\n\n      if (process.env.NODE_ENV !== 'production') {\n        process.env.NODE_ENV !== 'production' ? warning(this instanceof Constructor, 'Something is calling a React component directly. Use a factory or ' + 'JSX instead. See: https://fb.me/react-legacyfactory') : void 0;\n      }\n\n      // Wire up auto-binding\n      if (this.__reactAutoBindPairs.length) {\n        bindAutoBindMethods(this);\n      }\n\n      this.props = props;\n      this.context = context;\n      this.refs = emptyObject;\n      this.updater = updater || ReactNoopUpdateQueue;\n\n      this.state = null;\n\n      // ReactClasses doesn't have constructors. Instead, they use the\n      // getInitialState and componentWillMount methods for initialization.\n\n      var initialState = this.getInitialState ? this.getInitialState() : null;\n      if (process.env.NODE_ENV !== 'production') {\n        // We allow auto-mocks to proceed as if they're returning null.\n        if (initialState === undefined && this.getInitialState._isMockFunction) {\n          // This is probably bad practice. Consider warning here and\n          // deprecating this convenience.\n          initialState = null;\n        }\n      }\n      _invariant(typeof initialState === 'object' && !Array.isArray(initialState), '%s.getInitialState(): must return an object or null', Constructor.displayName || 'ReactCompositeComponent');\n\n      this.state = initialState;\n    });\n    Constructor.prototype = new ReactClassComponent();\n    Constructor.prototype.constructor = Constructor;\n    Constructor.prototype.__reactAutoBindPairs = [];\n\n    injectedMixins.forEach(mixSpecIntoComponent.bind(null, Constructor));\n\n    mixSpecIntoComponent(Constructor, IsMountedMixin);\n    mixSpecIntoComponent(Constructor, spec);\n\n    // Initialize the defaultProps property after all mixins have been merged.\n    if (Constructor.getDefaultProps) {\n      Constructor.defaultProps = Constructor.getDefaultProps();\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      // This is a tag to indicate that the use of these method names is ok,\n      // since it's used with createClass. If it's not, then it's likely a\n      // mistake so we'll warn you to use the static property, property\n      // initializer or constructor respectively.\n      if (Constructor.getDefaultProps) {\n        Constructor.getDefaultProps.isReactClassApproved = {};\n      }\n      if (Constructor.prototype.getInitialState) {\n        Constructor.prototype.getInitialState.isReactClassApproved = {};\n      }\n    }\n\n    _invariant(Constructor.prototype.render, 'createClass(...): Class specification must implement a `render` method.');\n\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(!Constructor.prototype.componentShouldUpdate, '%s has a method called ' + 'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' + 'The name is phrased as a question because the function is ' + 'expected to return a value.', spec.displayName || 'A component') : void 0;\n      process.env.NODE_ENV !== 'production' ? warning(!Constructor.prototype.componentWillRecieveProps, '%s has a method called ' + 'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?', spec.displayName || 'A component') : void 0;\n    }\n\n    // Reduce time spent doing lookups by setting these on the prototype.\n    for (var methodName in ReactClassInterface) {\n      if (!Constructor.prototype[methodName]) {\n        Constructor.prototype[methodName] = null;\n      }\n    }\n\n    return Constructor;\n  }\n\n  return createClass;\n}\n\nmodule.exports = factory;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/create-react-class/factory.js\n ** module id = 19\n ** module chunks = 0\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 20\n ** module chunks = 0\n **/","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/create-react-class/~/object-assign/index.js\n ** module id = 21\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar emptyObject = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  Object.freeze(emptyObject);\n}\n\nmodule.exports = emptyObject;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/create-react-class/~/fbjs/lib/emptyObject.js\n ** module id = 22\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/create-react-class/~/fbjs/lib/invariant.js\n ** module id = 23\n ** module chunks = 0\n **/","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  (function () {\n    var printWarning = function printWarning(format) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // --- Welcome to debugging React ---\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    };\n\n    warning = function warning(condition, format) {\n      if (format === undefined) {\n        throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n      }\n\n      if (format.indexOf('Failed Composite propType: ') === 0) {\n        return; // Ignore CompositeComponent proptype check.\n      }\n\n      if (!condition) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        printWarning.apply(undefined, [format].concat(args));\n      }\n    };\n  })();\n}\n\nmodule.exports = warning;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/create-react-class/~/fbjs/lib/warning.js\n ** module id = 24\n ** module chunks = 0\n **/","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/create-react-class/~/fbjs/lib/emptyFunction.js\n ** module id = 25\n ** module chunks = 0\n **/","import {toInterceptor, getEffect, getCoeffect, assocEffect, assocCoeffect, nextInterceptor} from 'reframe/interceptor';\nimport immutablediff from 'immutablediff';\nimport * as Immutable from 'immutable';\n\nexport const debug = toInterceptor({\n    id: 'debug',\n    before: function debugBefore(ctx) {\n        console.log('Handling re-frame event:', getCoeffect(ctx, 'event'));\n        return ctx;\n    },\n    after: function debugAfter(ctx) {\n        const\n            event = getCoeffect(ctx, 'event'),\n            origDb = getCoeffect(ctx, 'db'),\n            newDb = getEffect(ctx, 'db', 'not-found'),\n            effectsWithoutDb = ctx.getIn(['effects'], Immutable.Map()).delete('db');\n\n        if (newDb === 'not-found') {\n            console.log('No :db changes caused by:', event);\n        } else {\n            const diff = immutablediff(origDb, newDb);\n            if (diff.length === 0) {\n                console.log('No :db changes caused by:', event);\n            } else {\n                console.groupCollapsed('db diff for: ', event);\n                try {\n                    diff.forEach(df => {\n                        console.log(df.get('op'), df.get('path'), df.get('value'));\n                    });\n                } finally {\n                    console.groupEnd();\n                }\n            }\n        }\n\n        if (effectsWithoutDb.size > 0) {\n            console.log('Effects caused by ', event, effectsWithoutDb);\n        }\n\n\n        return ctx;\n    }\n});\n\nexport const trimv = toInterceptor({\n    id: 'trim-v',\n    before: function trimvBefore(ctx) {\n        return ctx\n            .updateIn(['coeffects', 'event'], event => event.slice(1))\n            .setIn(['coeffects', 'untrimmed-event'], getCoeffect(ctx, 'event'));\n    },\n    after: function trimvAfter(ctx) {\n        return ctx\n            .deleteIn(['coeffects', 'untrimmed-event'])\n            .setIn(['coeffects', 'event'], getCoeffect(ctx, 'untrimmed-event'));\n    }\n});\n\n// Interceptor Factories - PART 1\n\n/**\n * Returns an interceptor which wraps the kind of event handler given to `reg-event-db`.\n * These handlers take two arguments;  `db` and `event`, and they return `db`.\n * (fn [db event]\n * ....)\n * So, the interceptor wraps the given handler:\n * 1. extracts two `:coeffects` keys: db and event\n * 2. calls handler-fn\n * 3. stores the db result back into context's `:effects`\n * @param db\n * @param event\n */\nexport function dbHandlerToInterceptor(handlerFn) {\n    return toInterceptor({\n        id: 'db-handler',\n        before: function dbHandlerBefore(ctx) {\n            const\n                db = getCoeffect(ctx, 'db'),\n                event = getCoeffect(ctx, 'event');\n\n            return assocEffect(ctx, 'db', handlerFn(db, event));\n        }\n    });\n}\n\n/**\n * Returns an interceptor which wraps the kind of event handler given to `reg-event-fx`.\n * These handlers take two arguments;  `coeffects` and `event`, and they return `effects`.\n * (fn [coeffects event]\n * {:db ...\n *  :dispatch ...})\n * Wrap handler in an interceptor so it can be added to (the RHS) of a chain:\n * 1. extracts `:coeffects`\n * 2. call handler-fn giving coeffects\n * 3. stores the result back into the `:effects`\n */\nexport function fxHandlerToInterceptor(handlerFn) {\n    return toInterceptor({\n        id: 'fx-handler',\n        before: function fxHandlerBefore(ctx) {\n            const event = getCoeffect(ctx, 'event');\n            return ctx.set('effects', Immutable.Map(handlerFn(ctx.get('coeffects').toObject(), event)));\n        }\n    });\n}\n\n/**\n * Returns an interceptor which wraps the kind of event handler given to `reg-event-ctx`.\n * These advanced handlers take one argument: `context` and they return a modified `context`.\n * Example:\n * (fn [context]\n * (enqueue context [more interceptors]))\n */\nexport function ctxHandlerToInterceptor(handlerFn) {\n    return toInterceptor({\n        id: 'ctx-handler',\n        before: handlerFn\n    });\n}\n\n// Interceptors Factories -  PART 2\n\n/**\n * An interceptor factory which supplies a sub-path of `:db` to the handler.\n * It's action is somewhat analogous to `update-in`. It grafts the return\n * value from the handler back into db.\n * Usage:\n * (path :some :path)\n * (path [:some :path])\n * (path [:some :path] :to :here)\n * (path [:some :path] [:to] :here)\n * Notes:\n * 1. cater for `path` appearing more than once in an interceptor chain.\n * 2. `:effects` may not contain `:db` effect. Which means no change to\n * `:db` should be made.\n */\nexport function path(path) {\n    const dbStoreKey = 'reframe-path/db-store';\n    return toInterceptor({\n        id: 'path',\n        before: function pathBefore(ctx) {\n            const originalDb = getCoeffect(ctx, 'db');\n\n            ctx = ctx.update(dbStoreKey, Immutable.List(), old => old.push(originalDb));\n            ctx = assocCoeffect(ctx, 'db', originalDb.getIn(path, Immutable.Map()));\n            return ctx;\n        },\n        after: function pathAfter(ctx) {\n            const\n                dbStore = ctx.get(dbStoreKey),\n                originalDb = dbStore.last(),\n                newDbStore = dbStore.pop(),\n                ctx1 = assocCoeffect(ctx.set(dbStoreKey, newDbStore), 'db', originalDb),\n                db = getEffect(ctx, 'db', 'not-found');\n\n            if (db === 'not-found') {\n                return ctx1;\n            } else {\n                return assocEffect(ctx1, 'db', originalDb.setIn(path, db));\n            }\n        }\n    });\n}\n\n/**\n * Interceptor factory which runs the given function `f` in the `after handler`\n * position.  `f` is called with two arguments: `db` and `v`, and is expected to\n * return a modified `db`.\n * Unlike the `after` inteceptor which is only about side effects, `enrich`\n * expects `f` to process and alter the given `db` coeffect in some useful way,\n * contributing to the derived data, flowing vibe.\n * Example Use:\n * ------------\n * Imagine that todomvc needed to do duplicate detection - if any two todos had\n * the same text, then highlight their background, and report them in a warning\n * down the bottom of the panel.\n * Almost any user action (edit text, add new todo, remove a todo) requires a\n * complete reassesment of duplication errors and warnings. Eg: that edit\n * just made might have introduced a new duplicate, or removed one. Same with\n * any todo removal. So we need to re-calculate warnings after any CRUD events\n * associated with the todos list.\n * Unless we are careful, we might end up coding subtly different checks\n * for each kind of CRUD operation.  The duplicates check made after\n * 'delete todo' event might be subtly different to that done after an\n * eddting operation. Nice and efficient, but fiddly. A bug generator\n * approach.\n * So, instead, we create an `f` which recalcualtes warnings from scratch\n * every time there is ANY change. It will inspect all the todos, and\n * reset ALL FLAGS every time (overwriting what was there previously)\n * and fully recalculate the list of duplicates (displayed at the bottom?).\n * By applying `f` in an `:enrich` interceptor, after every CRUD event,\n * we keep the handlers simple and yet we ensure this important step\n * (of getting warnings right) is not missed on any change.\n * We can test `f` easily - it is a pure fucntions - independently of\n * any CRUD operation.\n * This brings huge simplicity at the expense of some re-computation\n * each time. This may be a very satisfactory tradeoff in many cases.\n */\nexport function enrich(f) {\n    return toInterceptor({\n        id: 'enrich',\n        after: function enrichAfter(ctx) {\n            const\n                event = getCoeffect(ctx, 'event'),\n                db = getEffect(ctx, 'db') || getCoeffect(ctx, 'db');\n\n            return assocEffect(ctx, 'db', f(db, event, getCoeffect(ctx, 'db')));\n        }\n    });\n}\n\n/**\n * Interceptor factory which runs a given function `f` in the \\\"after\\\"\n * position, presumably for side effects.\n * `f` is called with two arguments: the `effects` value of `:db`\n * (or the `coeffect` value of db if no db effect is returned) and the event.\n * Its return value is ignored so `f` can only side-effect.\n * Example use:\n * - `f` runs schema validation (reporting any errors found)\n * - `f` writes some aspect of db to localstorage.\n *\n */\nexport function after(f) {\n    return toInterceptor({\n        id: 'after',\n        after: function afterAfter(ctx) {\n            const\n                event = getCoeffect(ctx, 'event'),\n                db = getEffect(ctx, 'db') || getCoeffect(ctx, 'db');\n            f(db, event, getCoeffect(ctx, 'db'));\n            return ctx;\n        }\n    });\n}\n\n/**\n * Interceptor factory which acts a bit like `reaction`  (but it flows into `db`, rather than out)\n * It observes N paths in `db` and if any of them test not indentical? to their previous value\n * (as a result of a handler being run) then it runs `f` to compute a new value, which is\n * then assoced into the given `out-path` within `db`.\n * Usage:\n * (defn my-f\n * [a-val b-val]\n * ... some computation on a and b in here)\n * (on-changes my-f [:c]  [:a] [:b])\n * Put this Interceptor on the right handlers (ones which might change :a or :b).\n * It will:\n * - call `f` each time the value at path [:a] or [:b] changes\n * - call `f` with the values extracted from [:a] [:b]\n * - assoc the return value from `f` into the path  [:c]\n */\nexport function onChanges(f, outPath, ...inPaths) {\n    return toInterceptor({\n        id: 'on-changes',\n        after: function onChangesAfter(ctx) {\n            const\n                oldDb = getCoeffect(ctx, 'db'),\n                newDb = getEffect(ctx, 'db'),\n                newIns = inPaths.map(path => newDb.getIn(path)),\n                oldIns = inPaths.map(path => oldDb.getIn(path)),\n                changedIns = newIns.zip(oldIns).map(([a, b]) => a === b).contains(false);\n\n            if (changedIns) {\n                return assocEffect(ctx, 'db', newDb.setIn(outPath, f(newIns)));\n            }\n            return ctx;\n\n\n            return ctx;\n        }\n    });\n}\n\nexport function when(booleanProvider, interceptor) {\n    return toInterceptor({\n        id: 'when',\n        before: function whenBefore(ctx) {\n            if (booleanProvider()) {\n                return nextInterceptor(ctx, interceptor);\n            }\n            return ctx;\n        }\n    })\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/stdinterceptors.js\n **/","'use strict';\n\nvar Immutable = require('immutable');\nvar utils = require('./utils');\nvar lcs = require('./lcs');\nvar path = require('./path');\nvar concatPath = path.concat,\n                  escape = path.escape,\n                  op = utils.op,\n                  isMap = utils.isMap,\n                  isIndexed = utils.isIndexed;\n\nvar mapDiff = function(a, b, p){\n  var ops = [];\n  var path = p || '';\n\n  if(Immutable.is(a, b) || (a == b == null)){ return ops; }\n\n  var areLists = isIndexed(a) && isIndexed(b);\n  var lastKey = null;\n  var removeKey = null\n\n  if(a.forEach){\n    a.forEach(function(aValue, aKey){\n      if(b.has(aKey)){\n        if(isMap(aValue) && isMap(b.get(aKey))){\n          ops = ops.concat(mapDiff(aValue, b.get(aKey), concatPath(path, escape(aKey))));\n        }\n        else if(isIndexed(b.get(aKey)) && isIndexed(aValue)){\n          ops = ops.concat(sequenceDiff(aValue, b.get(aKey), concatPath(path, escape(aKey))));\n        }\n        else {\n          var bValue = b.get ? b.get(aKey) : b;\n          var areDifferentValues = (aValue !== bValue);\n          if (areDifferentValues) {\n            ops.push(op('replace', concatPath(path, escape(aKey)), bValue));\n          }\n        }\n      }\n      else {\n        if(areLists){\n          removeKey = (lastKey != null && (lastKey+1) === aKey) ? removeKey : aKey;\n          ops.push( op('remove', concatPath(path, escape(removeKey))) );\n          lastKey = aKey;\n        }\n        else{\n          ops.push( op('remove', concatPath(path, escape(aKey))) );\n        }\n\n      }\n    });\n  }\n\n  b.forEach(function(bValue, bKey){\n    if(a.has && !a.has(bKey)){\n      ops.push( op('add', concatPath(path, escape(bKey)), bValue) );\n    }\n  });\n\n  return ops;\n};\n\nvar sequenceDiff = function (a, b, p) {\n  var ops = [];\n  var path = p || '';\n  if(Immutable.is(a, b) || (a == b == null)){ return ops; }\n  if((a.count() + 1) * (b.count() + 1) >= 10000 ) { return mapDiff(a, b, p); }\n\n  var lcsDiff = lcs.diff(a, b);\n\n  var pathIndex = 0;\n\n  lcsDiff.forEach(function (diff) {\n    if(diff.op === '='){ pathIndex++; }\n    else if(diff.op === '!='){\n      if(isMap(diff.val) && isMap(diff.newVal)){\n        var mapDiffs = mapDiff(diff.val, diff.newVal, concatPath(path, pathIndex));\n        ops = ops.concat(mapDiffs);\n      }\n      else{\n        ops.push(op('replace', concatPath(path, pathIndex), diff.newVal));\n      }\n      pathIndex++;\n    }\n    else if(diff.op === '+'){\n      ops.push(op('add', concatPath(path, pathIndex), diff.val));\n      pathIndex++;\n    }\n    else if(diff.op === '-'){ ops.push(op('remove', concatPath(path, pathIndex))); }\n  });\n\n  return ops;\n};\n\nvar primitiveTypeDiff = function (a, b, p) {\n  var path = p || '';\n  if(a === b){ return []; }\n  else{\n    return [ op('replace', concatPath(path, ''), b) ];\n  }\n};\n\nvar diff = function(a, b, p){\n  if(Immutable.is(a, b)){ return Immutable.List(); }\n  if(a != b && (a == null || b == null)){ return Immutable.fromJS([op('replace', '/', b)]); }\n  if(isIndexed(a) && isIndexed(b)){\n    return Immutable.fromJS(sequenceDiff(a, b));\n  }\n  else if(isMap(a) && isMap(b)){\n    return Immutable.fromJS(mapDiff(a, b));\n  }\n  else{\n    return Immutable.fromJS(primitiveTypeDiff(a, b, p));\n  }\n};\n\nmodule.exports = diff;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/immutablediff/src/diff.js\n ** module id = 27\n ** module chunks = 0\n **/","'use strict';\n\nvar Immutable = require('immutable');\n\nvar isMap = function(obj){ return Immutable.Iterable.isKeyed(obj); };\nvar isIndexed = function(obj) { return Immutable.Iterable.isIndexed(obj); };\n\nvar op = function(operation, path, value){\n  if(operation === 'remove') { return { op: operation, path: path }; }\n\n  return { op: operation, path: path, value: value };\n};\n\nmodule.exports = {\n  isMap: isMap,\n  isIndexed: isIndexed,\n  op: op\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/immutablediff/src/utils.js\n ** module id = 28\n ** module chunks = 0\n **/","'use strict';\n\nvar Immutable = require('immutable');\n\n/**\n * Returns a two-dimensional array (an array of arrays) with dimensions n by m.\n * All the elements of this new matrix are initially equal to x\n * @param n number of rows\n * @param m number of columns\n * @param x initial element for every item in matrix\n */\nvar makeMatrix = function(n, m, x){\n  var matrix = [];\n  for(var i = 0; i < n; i++) {\n    matrix[i] = new Array(m);\n\n    if(x != null){\n      for(var j = 0; j < m; j++){\n        matrix[i][j] = x;\n      }\n    }\n  }\n\n  return matrix;\n};\n\n/**\n * Computes Longest Common Subsequence between two Immutable.JS Indexed Iterables\n * Based on Dynamic Programming http://rosettacode.org/wiki/Longest_common_subsequence#Java\n * @param xs ImmutableJS Indexed Sequence 1\n * @param ys ImmutableJS Indexed Sequence 2\n */\nvar lcs = function(xs, ys){\n  var matrix = computeLcsMatrix(xs, ys);\n\n  return backtrackLcs(xs, ys, matrix);\n};\n\nvar DiffResult = Immutable.Record({op: '=', val: null});\nvar ReplaceResult = Immutable.Record({op: '!=', val: null, newVal: null});\n\n/**\n * Returns the resulting diff operations of LCS between two sequences\n * @param xs Indexed Sequence 1\n * @param ys Indexed Sequence 2\n * @returns Array of DiffResult {op:'=' | '+' | '-', val:any}\n */\nvar diff = function(xs, ys){\n  var matrix = computeLcsMatrix(xs, ys);\n\n  return printDiff(matrix, xs, ys, xs.size||0, ys.size||0);\n};\n\nvar printDiff = function(matrix, xs, ys, xSize, ySize) {\n  var diffArray = [];\n  var i = xSize - 1;\n  var j = ySize - 1;\n  while (i >= 0 || j >= 0) {\n    if (i >= 0 && j >= 0 && Immutable.is(xs.get(i), ys.get(j))) {\n      diffArray.push(new DiffResult({\n        op: '=',\n        val: xs.get(i)\n      }));\n      i -= 1;\n      j -= 1;\n    }\n    else if (i >= 0 && j >= 0 && i === j && !Immutable.is(xs.get(i), ys.get(j))) {\n      diffArray.push(new ReplaceResult({\n      val: xs.get(i),\n      newVal: ys.get(i)\n      }));\n      i -= 1;\n      j -= 1;\n    }\n    else {\n      if (j >= 0 && (i === -1 || matrix[i+1][j] >= matrix[i][j+1])) {\n        diffArray.push(new DiffResult({\n          op: '+',\n          val: ys.get(j)\n        }));\n        j -= 1;\n      }\n      else if (i >= 0 && (j === -1 || matrix[i+1][j] < matrix[i][j+1])){\n        diffArray.push(new DiffResult({\n          op: '-',\n          val: xs.get(i)\n        }));\n        i -= 1;\n      }\n    }\n  }\n  return diffArray.reverse();\n};\n\n/**\n * Computes the Longest Common Subsequence table\n * @param xs Indexed Sequence 1\n * @param ys Indexed Sequence 2\n */\nfunction computeLcsMatrix(xs, ys) {\n  var n = xs.size||0;\n  var m = ys.size||0;\n  var a = makeMatrix(n + 1, m + 1, 0);\n\n  for (var i = 0; i < n; i++) {\n    for (var j = 0; j < m; j++) {\n      if (Immutable.is(xs.get(i), ys.get(j))) {\n        a[i + 1][j + 1] = a[i][j] + 1;\n      }\n      else {\n        a[i + 1][j + 1] = Math.max(a[i + 1][j], a[i][j + 1]);\n      }\n    }\n  }\n\n  return a;\n}\n\n/**\n * Extracts a LCS from matrix M\n * @param xs Indexed Sequence 1\n * @param ys Indexed Sequence 2\n * @param matrix LCS Matrix\n * @returns {Array.<T>} Longest Common Subsequence\n */\nvar backtrackLcs = function(xs, ys, matrix){\n  var lcs = [];\n  for(var i = xs.size, j = ys.size; i !== 0 && j !== 0;){\n    if (matrix[i][j] === matrix[i-1][j]){ i--; }\n    else if (matrix[i][j] === matrix[i][j-1]){ j--; }\n    else{\n      if(Immutable.is(xs.get(i-1), ys.get(j-1))){\n        lcs.push(xs.get(i-1));\n        i--;\n        j--;\n      }\n    }\n  }\n  return lcs.reverse();\n};\n\nmodule.exports = {\n  lcs: lcs,\n  computeLcsMatrix: computeLcsMatrix,\n  diff: diff\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/immutablediff/src/lcs.js\n ** module id = 29\n ** module chunks = 0\n **/","'use strict';\n\nvar slashRe = new RegExp('/', 'g');\nvar escapedSlashRe = new RegExp('~1', 'g');\nvar tildeRe = /~/g;\nvar escapedTildeRe = /~0/g;\n\nvar Path = {\n  escape: function (str) {\n    if(typeof(str) === 'number'){\n      return str.toString();\n    }\n    if(typeof(str) !== 'string'){\n      throw 'param str (' + str + ') is not a string';\n    }\n\n    return str.replace(tildeRe, '~0').replace(slashRe, '~1');\n  },\n\n  unescape: function (str) {\n    if(typeof(str) == 'string') {\n      return str.replace(escapedSlashRe, '/').replace(escapedTildeRe, '~');\n    }\n    else {\n      return str;\n    }\n  },\n  concat: function(path, key){\n    return path + '/' + key;\n  }\n};\n\nmodule.exports = Path;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/immutablediff/src/path.js\n ** module id = 30\n ** module chunks = 0\n **/","'use strict';\nimport * as Immutable from 'immutable';\nimport * as Rx from 'rx';\nconst LISTENER_SENTINEL = {};\n\nexport class Index {\n    constructor(rx) {\n        this.listeners = Immutable.Map();\n        this.rx = rx;\n    }\n\n    sub(path, def) {\n        const self = this;\n\n        let slices = [];\n        for (let i = 0; i < path.length; i++) {\n            slices.push(Array.prototype.slice.call(path.slice(0, i + 1)));\n        }\n        this.listeners = slices.reduce(\n            (acc, pathSlice) => {\n                let parentPath = pathSlice.slice(0, pathSlice.length - 1);\n                let parentRx = parentPath.length === 0 ? this.rx() : acc.getIn(parentPath.concat(LISTENER_SENTINEL));\n                let lastFragment = pathSlice[pathSlice.length - 1];\n                return acc.updateIn(pathSlice.concat(LISTENER_SENTINEL), old => {\n                    if (old) {\n                        return old;\n                    }\n                    const subject = parentRx\n                        .map(a => {\n                            if (a && a.get) {\n                                return a.get(lastFragment);\n                            }\n                        })\n                        .distinctUntilChanged(x => x, (x, y) => x === y)\n                        .shareReplay(1);\n                    let oldSubscribe = subject.subscribe;\n                    subject.subscribe = function () {\n                        const sub = oldSubscribe.apply(this, arguments),\n                            s = this;\n\n                        return Rx.Disposable.create(function () {\n                            sub.dispose();\n                            if (s._count === 0) {\n                                self.listeners = self.listeners.removeIn(pathSlice);\n                            }\n                        });\n                    };\n                    return subject;\n                });\n            },\n            this.listeners\n        );\n\n        return this.listeners.getIn(path.concat([LISTENER_SENTINEL])).map(a => typeof a !== 'undefined' ? a : def);\n    }\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main/js/reframe/subindex.js\n **/"],"sourceRoot":""}